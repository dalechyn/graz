(()=>{var t={2475:(t,i,r)=>{var o=r(124);function retry(t,i){function run(r,a){var h=i||{};var l;if(!("randomize"in h)){h.randomize=true}l=o.operation(h);function bail(t){a(t||new Error("Aborted"))}function onError(t,i){if(t.bail){bail(t);return}if(!l.retry(t)){a(l.mainError())}else if(h.onRetry){h.onRetry(t,i)}}function runAttempt(i){var o;try{o=t(bail,i)}catch(t){onError(t,i);return}Promise.resolve(o).then(r).catch((function catchIt(t){onError(t,i)}))}l.attempt(runAttempt)}return new Promise(run)}t.exports=retry},4489:t=>{"use strict";t.exports=balanced;function balanced(t,i,r){if(t instanceof RegExp)t=maybeMatch(t,r);if(i instanceof RegExp)i=maybeMatch(i,r);var o=range(t,i,r);return o&&{start:o[0],end:o[1],pre:r.slice(0,o[0]),body:r.slice(o[0]+t.length,o[1]),post:r.slice(o[1]+i.length)}}function maybeMatch(t,i){var r=i.match(t);return r?r[0]:null}balanced.range=range;function range(t,i,r){var o,a,h,l,c;var u=r.indexOf(t);var d=r.indexOf(i,u+1);var p=u;if(u>=0&&d>0){if(t===i){return[u,d]}o=[];h=r.length;while(p>=0&&!c){if(p==u){o.push(p);u=r.indexOf(t,p+1)}else if(o.length==1){c=[o.pop(),d]}else{a=o.pop();if(a<h){h=a;l=d}d=r.indexOf(i,p+1)}p=u<d&&u>=0?u:d}if(o.length){c=[h,l]}}return c}},2961:(t,i,r)=>{var o=r(4489);t.exports=expandTop;var a="\0SLASH"+Math.random()+"\0";var h="\0OPEN"+Math.random()+"\0";var l="\0CLOSE"+Math.random()+"\0";var c="\0COMMA"+Math.random()+"\0";var u="\0PERIOD"+Math.random()+"\0";function numeric(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function escapeBraces(t){return t.split("\\\\").join(a).split("\\{").join(h).split("\\}").join(l).split("\\,").join(c).split("\\.").join(u)}function unescapeBraces(t){return t.split(a).join("\\").split(h).join("{").split(l).join("}").split(c).join(",").split(u).join(".")}function parseCommaParts(t){if(!t)return[""];var i=[];var r=o("{","}",t);if(!r)return t.split(",");var a=r.pre;var h=r.body;var l=r.post;var c=a.split(",");c[c.length-1]+="{"+h+"}";var u=parseCommaParts(l);if(l.length){c[c.length-1]+=u.shift();c.push.apply(c,u)}i.push.apply(i,c);return i}function expandTop(t){if(!t)return[];if(t.substr(0,2)==="{}"){t="\\{\\}"+t.substr(2)}return expand(escapeBraces(t),true).map(unescapeBraces)}function embrace(t){return"{"+t+"}"}function isPadded(t){return/^-?0\d/.test(t)}function lte(t,i){return t<=i}function gte(t,i){return t>=i}function expand(t,i){var r=[];var a=o("{","}",t);if(!a)return[t];var h=a.pre;var c=a.post.length?expand(a.post,false):[""];if(/\$$/.test(a.pre)){for(var u=0;u<c.length;u++){var d=h+"{"+a.body+"}"+c[u];r.push(d)}}else{var p=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(a.body);var g=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(a.body);var y=p||g;var b=a.body.indexOf(",")>=0;if(!y&&!b){if(a.post.match(/,.*\}/)){t=a.pre+"{"+a.body+l+a.post;return expand(t)}return[t]}var w;if(y){w=a.body.split(/\.\./)}else{w=parseCommaParts(a.body);if(w.length===1){w=expand(w[0],false).map(embrace);if(w.length===1){return c.map((function(t){return a.pre+w[0]+t}))}}}var _;if(y){var v=numeric(w[0]);var E=numeric(w[1]);var S=Math.max(w[0].length,w[1].length);var x=w.length==3?Math.abs(numeric(w[2])):1;var O=lte;var T=E<v;if(T){x*=-1;O=gte}var R=w.some(isPadded);_=[];for(var k=v;O(k,E);k+=x){var A;if(g){A=String.fromCharCode(k);if(A==="\\")A=""}else{A=String(k);if(R){var C=S-A.length;if(C>0){var P=new Array(C+1).join("0");if(k<0)A="-"+P+A.slice(1);else A=P+A}}}_.push(A)}}else{_=[];for(var I=0;I<w.length;I++){_.push.apply(_,expand(w[I],false))}}for(var I=0;I<_.length;I++){for(var u=0;u<c.length;u++){var d=h+_[I]+c[u];if(!i||y||d)r.push(d)}}}return r}},768:(t,i,r)=>{"use strict";const o=r(1805);const a=["assert","buffer","child_process","cluster","console","constants","crypto","dgram","dns","domain","events","fs","http","https","module","net","os","path","punycode","querystring","readline","repl","stream","string_decoder","sys","timers","tls","tty","url","util","vm","zlib"];const h={freelist:"<6.0.0",v8:">=1.0.0",process:">=1.1.0",inspector:">=8.0.0",async_hooks:">=8.1.0",http2:">=8.4.0",perf_hooks:">=8.5.0",trace_events:">=10.0.0",worker_threads:">=12.0.0","node:test":">=18.0.0"};const l={worker_threads:">=10.5.0",wasi:">=12.16.0",diagnostics_channel:"^14.17.0 || >=15.1.0"};t.exports=({version:t=process.version,experimental:i=false}={})=>{const r=[...a];for(const[i,a]of Object.entries(h)){if(t==="*"||o.satisfies(t,a)){r.push(i)}}if(i){for(const[i,a]of Object.entries(l)){if(!r.includes(i)&&(t==="*"||o.satisfies(t,a))){r.push(i)}}}return r}},3337:(t,i,r)=>{"use strict";const o=r(7147);const a=r(1017);const h=o.lchown?"lchown":"chown";const l=o.lchownSync?"lchownSync":"chownSync";const c=o.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/);const lchownSync=(t,i,r)=>{try{return o[l](t,i,r)}catch(t){if(t.code!=="ENOENT")throw t}};const chownSync=(t,i,r)=>{try{return o.chownSync(t,i,r)}catch(t){if(t.code!=="ENOENT")throw t}};const u=c?(t,i,r,a)=>h=>{if(!h||h.code!=="EISDIR")a(h);else o.chown(t,i,r,a)}:(t,i,r,o)=>o;const d=c?(t,i,r)=>{try{return lchownSync(t,i,r)}catch(o){if(o.code!=="EISDIR")throw o;chownSync(t,i,r)}}:(t,i,r)=>lchownSync(t,i,r);const p=process.version;let readdir=(t,i,r)=>o.readdir(t,i,r);let readdirSync=(t,i)=>o.readdirSync(t,i);if(/^v4\./.test(p))readdir=(t,i,r)=>o.readdir(t,r);const chown=(t,i,r,a)=>{o[h](t,i,r,u(t,i,r,(t=>{a(t&&t.code!=="ENOENT"?t:null)})))};const chownrKid=(t,i,r,h,l)=>{if(typeof i==="string")return o.lstat(a.resolve(t,i),((o,a)=>{if(o)return l(o.code!=="ENOENT"?o:null);a.name=i;chownrKid(t,a,r,h,l)}));if(i.isDirectory()){chownr(a.resolve(t,i.name),r,h,(o=>{if(o)return l(o);const c=a.resolve(t,i.name);chown(c,r,h,l)}))}else{const o=a.resolve(t,i.name);chown(o,r,h,l)}};const chownr=(t,i,r,o)=>{readdir(t,{withFileTypes:true},((a,h)=>{if(a){if(a.code==="ENOENT")return o();else if(a.code!=="ENOTDIR"&&a.code!=="ENOTSUP")return o(a)}if(a||!h.length)return chown(t,i,r,o);let l=h.length;let c=null;const then=a=>{if(c)return;if(a)return o(c=a);if(--l===0)return chown(t,i,r,o)};h.forEach((o=>chownrKid(t,o,i,r,then)))}))};const chownrKidSync=(t,i,r,h)=>{if(typeof i==="string"){try{const r=o.lstatSync(a.resolve(t,i));r.name=i;i=r}catch(t){if(t.code==="ENOENT")return;else throw t}}if(i.isDirectory())chownrSync(a.resolve(t,i.name),r,h);d(a.resolve(t,i.name),r,h)};const chownrSync=(t,i,r)=>{let o;try{o=readdirSync(t,{withFileTypes:true})}catch(o){if(o.code==="ENOENT")return;else if(o.code==="ENOTDIR"||o.code==="ENOTSUP")return d(t,i,r);else throw o}if(o&&o.length)o.forEach((o=>chownrKidSync(t,o,i,r)));return d(t,i,r)};t.exports=chownr;chownr.sync=chownrSync},4505:(t,i,r)=>{"use strict";const o=r(2081);const a=r(5935);const h=r(8586);function spawn(t,i,r){const l=a(t,i,r);const c=o.spawn(l.command,l.args,l.options);h.hookChildProcess(c,l);return c}function spawnSync(t,i,r){const l=a(t,i,r);const c=o.spawnSync(l.command,l.args,l.options);c.error=c.error||h.verifyENOENTSync(c.status,l);return c}t.exports=spawn;t.exports.spawn=spawn;t.exports.sync=spawnSync;t.exports._parse=a;t.exports._enoent=h},8586:t=>{"use strict";const i=process.platform==="win32";function notFoundError(t,i){return Object.assign(new Error(`${i} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${i} ${t.command}`,path:t.command,spawnargs:t.args})}function hookChildProcess(t,r){if(!i){return}const o=t.emit;t.emit=function(i,a){if(i==="exit"){const i=verifyENOENT(a,r,"spawn");if(i){return o.call(t,"error",i)}}return o.apply(t,arguments)}}function verifyENOENT(t,r){if(i&&t===1&&!r.file){return notFoundError(r.original,"spawn")}return null}function verifyENOENTSync(t,r){if(i&&t===1&&!r.file){return notFoundError(r.original,"spawnSync")}return null}t.exports={hookChildProcess:hookChildProcess,verifyENOENT:verifyENOENT,verifyENOENTSync:verifyENOENTSync,notFoundError:notFoundError}},5935:(t,i,r)=>{"use strict";const o=r(1017);const a=r(4979);const h=r(1731);const l=r(2718);const c=process.platform==="win32";const u=/\.(?:com|exe)$/i;const d=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function detectShebang(t){t.file=a(t);const i=t.file&&l(t.file);if(i){t.args.unshift(t.file);t.command=i;return a(t)}return t.file}function parseNonShell(t){if(!c){return t}const i=detectShebang(t);const r=!u.test(i);if(t.options.forceShell||r){const r=d.test(i);t.command=o.normalize(t.command);t.command=h.command(t.command);t.args=t.args.map((t=>h.argument(t,r)));const a=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${a}"`];t.command=process.env.comspec||"cmd.exe";t.options.windowsVerbatimArguments=true}return t}function parse(t,i,r){if(i&&!Array.isArray(i)){r=i;i=null}i=i?i.slice(0):[];r=Object.assign({},r);const o={command:t,args:i,options:r,file:undefined,original:{command:t,args:i}};return r.shell?o:parseNonShell(o)}t.exports=parse},1731:t=>{"use strict";const i=/([()\][%!^"`<>&|;, *?])/g;function escapeCommand(t){t=t.replace(i,"^$1");return t}function escapeArgument(t,r){t=`${t}`;t=t.replace(/(\\*)"/g,'$1$1\\"');t=t.replace(/(\\*)$/,"$1$1");t=`"${t}"`;t=t.replace(i,"^$1");if(r){t=t.replace(i,"^$1")}return t}t.exports.command=escapeCommand;t.exports.argument=escapeArgument},2718:(t,i,r)=>{"use strict";const o=r(7147);const a=r(5655);function readShebang(t){const i=150;const r=Buffer.alloc(i);let h;try{h=o.openSync(t,"r");o.readSync(h,r,0,i,0);o.closeSync(h)}catch(t){}return a(r.toString())}t.exports=readShebang},4979:(t,i,r)=>{"use strict";const o=r(1017);const a=r(8562);const h=r(2139);function resolveCommandAttempt(t,i){const r=t.options.env||process.env;const l=process.cwd();const c=t.options.cwd!=null;const u=c&&process.chdir!==undefined&&!process.chdir.disabled;if(u){try{process.chdir(t.options.cwd)}catch(t){}}let d;try{d=a.sync(t.command,{path:r[h({env:r})],pathExt:i?o.delimiter:undefined})}catch(t){}finally{if(u){process.chdir(l)}}if(d){d=o.resolve(c?t.options.cwd:"",d)}return d}function resolveCommand(t){return resolveCommandAttempt(t)||resolveCommandAttempt(t,true)}t.exports=resolveCommand},5904:(t,i,r)=>{"use strict";const{Transform:o,PassThrough:a}=r(2781);const h=r(9796);const l=r(8091);t.exports=t=>{const i=(t.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(i)){return t}const r=i==="br";if(r&&typeof h.createBrotliDecompress!=="function"){t.destroy(new Error("Brotli is not supported on Node.js < 12"));return t}let c=true;const u=new o({transform(t,i,r){c=false;r(null,t)},flush(t){t()}});const d=new a({autoDestroy:false,destroy(i,r){t.destroy();r(i)}});const p=r?h.createBrotliDecompress():h.createUnzip();p.once("error",(i=>{if(c&&!t.readable){d.end();return}d.destroy(i)}));l(t,d);t.pipe(u).pipe(p).pipe(d);return d}},3893:(t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:true});function isTLSSocket(t){return t.encrypted}const deferToConnect=(t,i)=>{let r;if(typeof i==="function"){const t=i;r={connect:t}}else{r=i}const o=typeof r.connect==="function";const a=typeof r.secureConnect==="function";const h=typeof r.close==="function";const onConnect=()=>{if(o){r.connect()}if(isTLSSocket(t)&&a){if(t.authorized){r.secureConnect()}else if(!t.authorizationError){t.once("secureConnect",r.secureConnect)}}if(h){t.once("close",r.close)}};if(t.writable&&!t.connecting){onConnect()}else if(t.connecting){t.once("connect",onConnect)}else if(t.destroyed&&h){r.close(t._hadError)}};i["default"]=deferToConnect;t.exports=deferToConnect;t.exports["default"]=deferToConnect},5271:(t,i,r)=>{"use strict";const o=r(9773);const a=r(2361).EventEmitter;const h=r(7147);let l=h.writev;if(!l){const t=process.binding("fs");const i=t.FSReqWrap||t.FSReqCallback;l=(r,o,a,h)=>{const done=(t,i)=>h(t,i,o);const l=new i;l.oncomplete=done;t.writeBuffers(r,o,a,l)}}const c=Symbol("_autoClose");const u=Symbol("_close");const d=Symbol("_ended");const p=Symbol("_fd");const g=Symbol("_finished");const y=Symbol("_flags");const b=Symbol("_flush");const w=Symbol("_handleChunk");const _=Symbol("_makeBuf");const v=Symbol("_mode");const E=Symbol("_needDrain");const S=Symbol("_onerror");const x=Symbol("_onopen");const O=Symbol("_onread");const T=Symbol("_onwrite");const R=Symbol("_open");const k=Symbol("_path");const A=Symbol("_pos");const C=Symbol("_queue");const P=Symbol("_read");const I=Symbol("_readSize");const L=Symbol("_reading");const N=Symbol("_remain");const M=Symbol("_size");const D=Symbol("_write");const $=Symbol("_writing");const j=Symbol("_defaultFlag");const B=Symbol("_errored");class ReadStream extends o{constructor(t,i){i=i||{};super(i);this.readable=true;this.writable=false;if(typeof t!=="string")throw new TypeError("path must be a string");this[B]=false;this[p]=typeof i.fd==="number"?i.fd:null;this[k]=t;this[I]=i.readSize||16*1024*1024;this[L]=false;this[M]=typeof i.size==="number"?i.size:Infinity;this[N]=this[M];this[c]=typeof i.autoClose==="boolean"?i.autoClose:true;if(typeof this[p]==="number")this[P]();else this[R]()}get fd(){return this[p]}get path(){return this[k]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[R](){h.open(this[k],"r",((t,i)=>this[x](t,i)))}[x](t,i){if(t)this[S](t);else{this[p]=i;this.emit("open",i);this[P]()}}[_](){return Buffer.allocUnsafe(Math.min(this[I],this[N]))}[P](){if(!this[L]){this[L]=true;const t=this[_]();if(t.length===0)return process.nextTick((()=>this[O](null,0,t)));h.read(this[p],t,0,t.length,null,((t,i,r)=>this[O](t,i,r)))}}[O](t,i,r){this[L]=false;if(t)this[S](t);else if(this[w](i,r))this[P]()}[u](){if(this[c]&&typeof this[p]==="number"){const t=this[p];this[p]=null;h.close(t,(t=>t?this.emit("error",t):this.emit("close")))}}[S](t){this[L]=true;this[u]();this.emit("error",t)}[w](t,i){let r=false;this[N]-=t;if(t>0)r=super.write(t<i.length?i.slice(0,t):i);if(t===0||this[N]<=0){r=false;this[u]();super.end()}return r}emit(t,i){switch(t){case"prefinish":case"finish":break;case"drain":if(typeof this[p]==="number")this[P]();break;case"error":if(this[B])return;this[B]=true;return super.emit(t,i);default:return super.emit(t,i)}}}class ReadStreamSync extends ReadStream{[R](){let t=true;try{this[x](null,h.openSync(this[k],"r"));t=false}finally{if(t)this[u]()}}[P](){let t=true;try{if(!this[L]){this[L]=true;do{const t=this[_]();const i=t.length===0?0:h.readSync(this[p],t,0,t.length,null);if(!this[w](i,t))break}while(true);this[L]=false}t=false}finally{if(t)this[u]()}}[u](){if(this[c]&&typeof this[p]==="number"){const t=this[p];this[p]=null;h.closeSync(t);this.emit("close")}}}class WriteStream extends a{constructor(t,i){i=i||{};super(i);this.readable=false;this.writable=true;this[B]=false;this[$]=false;this[d]=false;this[E]=false;this[C]=[];this[k]=t;this[p]=typeof i.fd==="number"?i.fd:null;this[v]=i.mode===undefined?438:i.mode;this[A]=typeof i.start==="number"?i.start:null;this[c]=typeof i.autoClose==="boolean"?i.autoClose:true;const r=this[A]!==null?"r+":"w";this[j]=i.flags===undefined;this[y]=this[j]?r:i.flags;if(this[p]===null)this[R]()}emit(t,i){if(t==="error"){if(this[B])return;this[B]=true}return super.emit(t,i)}get fd(){return this[p]}get path(){return this[k]}[S](t){this[u]();this[$]=true;this.emit("error",t)}[R](){h.open(this[k],this[y],this[v],((t,i)=>this[x](t,i)))}[x](t,i){if(this[j]&&this[y]==="r+"&&t&&t.code==="ENOENT"){this[y]="w";this[R]()}else if(t)this[S](t);else{this[p]=i;this.emit("open",i);this[b]()}}end(t,i){if(t)this.write(t,i);this[d]=true;if(!this[$]&&!this[C].length&&typeof this[p]==="number")this[T](null,0);return this}write(t,i){if(typeof t==="string")t=Buffer.from(t,i);if(this[d]){this.emit("error",new Error("write() after end()"));return false}if(this[p]===null||this[$]||this[C].length){this[C].push(t);this[E]=true;return false}this[$]=true;this[D](t);return true}[D](t){h.write(this[p],t,0,t.length,this[A],((t,i)=>this[T](t,i)))}[T](t,i){if(t)this[S](t);else{if(this[A]!==null)this[A]+=i;if(this[C].length)this[b]();else{this[$]=false;if(this[d]&&!this[g]){this[g]=true;this[u]();this.emit("finish")}else if(this[E]){this[E]=false;this.emit("drain")}}}}[b](){if(this[C].length===0){if(this[d])this[T](null,0)}else if(this[C].length===1)this[D](this[C].pop());else{const t=this[C];this[C]=[];l(this[p],t,this[A],((t,i)=>this[T](t,i)))}}[u](){if(this[c]&&typeof this[p]==="number"){const t=this[p];this[p]=null;h.close(t,(t=>t?this.emit("error",t):this.emit("close")))}}}class WriteStreamSync extends WriteStream{[R](){let t;if(this[j]&&this[y]==="r+"){try{t=h.openSync(this[k],this[y],this[v])}catch(t){if(t.code==="ENOENT"){this[y]="w";return this[R]()}else throw t}}else t=h.openSync(this[k],this[y],this[v]);this[x](null,t)}[u](){if(this[c]&&typeof this[p]==="number"){const t=this[p];this[p]=null;h.closeSync(t);this.emit("close")}}[D](t){let i=true;try{this[T](null,h.writeSync(this[p],t,0,t.length,this[A]));i=false}finally{if(i)try{this[u]()}catch(t){}}}}i.ReadStream=ReadStream;i.ReadStreamSync=ReadStreamSync;i.WriteStream=WriteStream;i.WriteStreamSync=WriteStreamSync},3686:(t,i,r)=>{"use strict";const{PassThrough:o}=r(2781);t.exports=t=>{t={...t};const{array:i}=t;let{encoding:r}=t;const a=r==="buffer";let h=false;if(i){h=!(r||a)}else{r=r||"utf8"}if(a){r=null}const l=new o({objectMode:h});if(r){l.setEncoding(r)}let c=0;const u=[];l.on("data",(t=>{u.push(t);if(h){c=u.length}else{c+=t.length}}));l.getBufferedValue=()=>{if(i){return u}return a?Buffer.concat(u,c):u.join("")};l.getBufferedLength=()=>c;return l}},5320:(t,i,r)=>{"use strict";const{constants:o}=r(4300);const a=r(2781);const{promisify:h}=r(3837);const l=r(3686);const c=h(a.pipeline);class MaxBufferError extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}}async function getStream(t,i){if(!t){throw new Error("Expected a stream")}i={maxBuffer:Infinity,...i};const{maxBuffer:r}=i;const a=l(i);await new Promise(((i,h)=>{const rejectPromise=t=>{if(t&&a.getBufferedLength()<=o.MAX_LENGTH){t.bufferedData=a.getBufferedValue()}h(t)};(async()=>{try{await c(t,a);i()}catch(t){rejectPromise(t)}})();a.on("data",(()=>{if(a.getBufferedLength()>r){rejectPromise(new MaxBufferError)}}))}));return a.getBufferedValue()}t.exports=getStream;t.exports.buffer=(t,i)=>getStream(t,{...i,encoding:"buffer"});t.exports.array=(t,i)=>getStream(t,{...i,array:true});t.exports.MaxBufferError=MaxBufferError},1522:t=>{"use strict";const i=new Set([200,203,204,206,300,301,308,404,405,410,414,501]);const r=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]);const o=new Set([500,502,503,504]);const a={date:true,connection:true,"keep-alive":true,"proxy-authenticate":true,"proxy-authorization":true,te:true,trailer:true,"transfer-encoding":true,upgrade:true};const h={"content-length":true,"content-encoding":true,"transfer-encoding":true,"content-range":true};function toNumberOrZero(t){const i=parseInt(t,10);return isFinite(i)?i:0}function isErrorResponse(t){if(!t){return true}return o.has(t.status)}function parseCacheControl(t){const i={};if(!t)return i;const r=t.trim().split(/,/);for(const t of r){const[r,o]=t.split(/=/,2);i[r.trim()]=o===undefined?true:o.trim().replace(/^"|"$/g,"")}return i}function formatCacheControl(t){let i=[];for(const r in t){const o=t[r];i.push(o===true?r:r+"="+o)}if(!i.length){return undefined}return i.join(", ")}t.exports=class CachePolicy{constructor(t,i,{shared:r,cacheHeuristic:o,immutableMinTimeToLive:a,ignoreCargoCult:h,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!i||!i.headers){throw Error("Response headers missing")}this._assertRequestHasHeaders(t);this._responseTime=this.now();this._isShared=r!==false;this._cacheHeuristic=undefined!==o?o:.1;this._immutableMinTtl=undefined!==a?a:24*3600*1e3;this._status="status"in i?i.status:200;this._resHeaders=i.headers;this._rescc=parseCacheControl(i.headers["cache-control"]);this._method="method"in t?t.method:"GET";this._url=t.url;this._host=t.headers.host;this._noAuthorization=!t.headers.authorization;this._reqHeaders=i.headers.vary?t.headers:null;this._reqcc=parseCacheControl(t.headers["cache-control"]);if(h&&"pre-check"in this._rescc&&"post-check"in this._rescc){delete this._rescc["pre-check"];delete this._rescc["post-check"];delete this._rescc["no-cache"];delete this._rescc["no-store"];delete this._rescc["must-revalidate"];this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":formatCacheControl(this._rescc)});delete this._resHeaders.expires;delete this._resHeaders.pragma}if(i.headers["cache-control"]==null&&/no-cache/.test(i.headers.pragma)){this._rescc["no-cache"]=true}}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&("GET"===this._method||"HEAD"===this._method||"POST"===this._method&&this._hasExplicitExpiration())&&r.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||i.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers){throw Error("Request headers missing")}}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);const i=parseCacheControl(t.headers["cache-control"]);if(i["no-cache"]||/no-cache/.test(t.headers.pragma)){return false}if(i["max-age"]&&this.age()>i["max-age"]){return false}if(i["min-fresh"]&&this.timeToLive()<1e3*i["min-fresh"]){return false}if(this.stale()){const t=i["max-stale"]&&!this._rescc["must-revalidate"]&&(true===i["max-stale"]||i["max-stale"]>this.age()-this.maxAge());if(!t){return false}}return this._requestMatches(t,false)}_requestMatches(t,i){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||i&&"HEAD"===t.method)&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary){return true}if(this._resHeaders.vary==="*"){return false}const i=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(const r of i){if(t.headers[r]!==this._reqHeaders[r])return false}return true}_copyWithoutHopByHopHeaders(t){const i={};for(const r in t){if(a[r])continue;i[r]=t[r]}if(t.connection){const r=t.connection.trim().split(/\s*,\s*/);for(const t of r){delete i[t]}}if(i.warning){const t=i.warning.split(/,/).filter((t=>!/^\s*1[0-9][0-9]/.test(t)));if(!t.length){delete i.warning}else{i.warning=t.join(",").trim()}}return i}responseHeaders(){const t=this._copyWithoutHopByHopHeaders(this._resHeaders);const i=this.age();if(i>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24){t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'}t.age=`${Math.round(i)}`;t.date=new Date(this.now()).toUTCString();return t}date(){const t=Date.parse(this._resHeaders.date);if(isFinite(t)){return t}return this._responseTime}age(){let t=this._ageValue();const i=(this.now()-this._responseTime)/1e3;return t+i}_ageValue(){return toNumberOrZero(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]){return 0}if(this._isShared&&(this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable)){return 0}if(this._resHeaders.vary==="*"){return 0}if(this._isShared){if(this._rescc["proxy-revalidate"]){return 0}if(this._rescc["s-maxage"]){return toNumberOrZero(this._rescc["s-maxage"])}}if(this._rescc["max-age"]){return toNumberOrZero(this._rescc["max-age"])}const t=this._rescc.immutable?this._immutableMinTtl:0;const i=this.date();if(this._resHeaders.expires){const r=Date.parse(this._resHeaders.expires);if(Number.isNaN(r)||r<i){return 0}return Math.max(t,(r-i)/1e3)}if(this._resHeaders["last-modified"]){const r=Date.parse(this._resHeaders["last-modified"]);if(isFinite(r)&&i>r){return Math.max(t,(i-r)/1e3*this._cacheHeuristic)}}return t}timeToLive(){const t=this.maxAge()-this.age();const i=t+toNumberOrZero(this._rescc["stale-if-error"]);const r=t+toNumberOrZero(this._rescc["stale-while-revalidate"]);return Math.max(0,t,i,r)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+toNumberOrZero(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+toNumberOrZero(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(undefined,undefined,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t;this._isShared=t.sh;this._cacheHeuristic=t.ch;this._immutableMinTtl=t.imm!==undefined?t.imm:24*3600*1e3;this._status=t.st;this._resHeaders=t.resh;this._rescc=t.rescc;this._method=t.m;this._url=t.u;this._host=t.h;this._noAuthorization=t.a;this._reqHeaders=t.reqh;this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);const i=this._copyWithoutHopByHopHeaders(t.headers);delete i["if-range"];if(!this._requestMatches(t,true)||!this.storable()){delete i["if-none-match"];delete i["if-modified-since"];return i}if(this._resHeaders.etag){i["if-none-match"]=i["if-none-match"]?`${i["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag}const r=i["accept-ranges"]||i["if-match"]||i["if-unmodified-since"]||this._method&&this._method!="GET";if(r){delete i["if-modified-since"];if(i["if-none-match"]){const t=i["if-none-match"].split(/,/).filter((t=>!/^\s*W\//.test(t)));if(!t.length){delete i["if-none-match"]}else{i["if-none-match"]=t.join(",").trim()}}}else if(this._resHeaders["last-modified"]&&!i["if-modified-since"]){i["if-modified-since"]=this._resHeaders["last-modified"]}return i}revalidatedPolicy(t,i){this._assertRequestHasHeaders(t);if(this._useStaleIfError()&&isErrorResponse(i)){return{modified:false,matches:false,policy:this}}if(!i||!i.headers){throw Error("Response headers missing")}let r=false;if(i.status!==undefined&&i.status!=304){r=false}else if(i.headers.etag&&!/^\s*W\//.test(i.headers.etag)){r=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===i.headers.etag}else if(this._resHeaders.etag&&i.headers.etag){r=this._resHeaders.etag.replace(/^\s*W\//,"")===i.headers.etag.replace(/^\s*W\//,"")}else if(this._resHeaders["last-modified"]){r=this._resHeaders["last-modified"]===i.headers["last-modified"]}else{if(!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!i.headers.etag&&!i.headers["last-modified"]){r=true}}if(!r){return{policy:new this.constructor(t,i),modified:i.status!=304,matches:false}}const o={};for(const t in this._resHeaders){o[t]=t in i.headers&&!h[t]?i.headers[t]:this._resHeaders[t]}const a=Object.assign({},i,{status:this._status,method:this._method,headers:o});return{policy:new this.constructor(t,a,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:false,matches:true}}}},5203:(t,i,r)=>{"use strict";const{URL:o}=r(7310);const a=r(2361);const h=r(4404);const l=r(5158);const c=r(3751);const u=r(797);const d=Symbol("currentStreamCount");const p=Symbol("request");const g=Symbol("cachedOriginSet");const y=Symbol("gracefullyClosing");const b=Symbol("length");const w=["createConnection","maxDeflateDynamicTableSize","maxSettings","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","peerMaxConcurrentStreams","settings","family","localAddress","rejectUnauthorized","pskCallback","minDHSize","path","socket","ca","cert","sigalgs","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","privateKeyEngine","privateKeyIdentifier","maxVersion","minVersion","pfx","secureOptions","secureProtocol","sessionIdContext","ticketKeys"];const getSortedIndex=(t,i,r)=>{let o=0;let a=t.length;while(o<a){const h=o+a>>>1;if(r(t[h],i)){o=h+1}else{a=h}}return o};const compareSessions=(t,i)=>t.remoteSettings.maxConcurrentStreams>i.remoteSettings.maxConcurrentStreams;const closeCoveredSessions=(t,i)=>{for(let r=0;r<t.length;r++){const o=t[r];if(o[g].length>0&&o[g].length<i[g].length&&o[g].every((t=>i[g].includes(t)))&&o[d]+i[d]<=i.remoteSettings.maxConcurrentStreams){gracefullyClose(o)}}};const closeSessionIfCovered=(t,i)=>{for(let r=0;r<t.length;r++){const o=t[r];if(i[g].length>0&&i[g].length<o[g].length&&i[g].every((t=>o[g].includes(t)))&&i[d]+o[d]<=o.remoteSettings.maxConcurrentStreams){gracefullyClose(i);return true}}return false};const gracefullyClose=t=>{t[y]=true;if(t[d]===0){t.close()}};class Agent extends a{constructor({timeout:t=0,maxSessions:i=Number.POSITIVE_INFINITY,maxEmptySessions:r=10,maxCachedTlsSessions:o=100}={}){super();this.sessions={};this.queue={};this.timeout=t;this.maxSessions=i;this.maxEmptySessions=r;this._emptySessionCount=0;this._sessionCount=0;this.settings={enablePush:false,initialWindowSize:1024*1024*32};this.tlsSessionCache=new c({maxSize:o})}get protocol(){return"https:"}normalizeOptions(t){let i="";for(let r=0;r<w.length;r++){const o=w[r];i+=":";if(t&&t[o]!==undefined){i+=t[o]}}return i}_processQueue(){if(this._sessionCount>=this.maxSessions){this.closeEmptySessions(this.maxSessions-this._sessionCount+1);return}for(const t in this.queue){for(const i in this.queue[t]){const r=this.queue[t][i];if(!r.completed){r.completed=true;r()}}}}_isBetterSession(t,i){return t>i}_accept(t,i,r,o){let a=0;while(a<i.length&&t[d]<t.remoteSettings.maxConcurrentStreams){i[a].resolve(t);a++}i.splice(0,a);if(i.length>0){this.getSession(r,o,i);i.length=0}}getSession(t,i,r){return new Promise(((a,h)=>{if(Array.isArray(r)&&r.length>0){r=[...r];a()}else{r=[{resolve:a,reject:h}]}try{if(typeof t==="string"){t=new o(t)}else if(!(t instanceof o)){throw new TypeError("The `origin` argument needs to be a string or an URL object")}if(i){const{servername:r}=i;const{hostname:o}=t;if(r&&o!==r){throw new Error(`Origin ${o} differs from servername ${r}`)}}}catch(t){for(let i=0;i<r.length;i++){r[i].reject(t)}return}const c=this.normalizeOptions(i);const u=t.origin;if(c in this.sessions){const t=this.sessions[c];let o=-1;let a=-1;let h;for(let i=0;i<t.length;i++){const r=t[i];const l=r.remoteSettings.maxConcurrentStreams;if(l<o){break}if(!r[g].includes(u)){continue}const c=r[d];if(c>=l||r[y]||r.destroyed){continue}if(!h){o=l}if(this._isBetterSession(c,a)){h=r;a=c}}if(h){this._accept(h,r,u,i);return}}if(c in this.queue){if(u in this.queue[c]){this.queue[c][u].listeners.push(...r);return}}else{this.queue[c]={[b]:0}}const removeFromQueue=()=>{if(c in this.queue&&this.queue[c][u]===entry){delete this.queue[c][u];if(--this.queue[c][b]===0){delete this.queue[c]}}};const entry=async()=>{this._sessionCount++;const o=`${u}:${c}`;let a=false;let h;try{const w={...i};if(w.settings===undefined){w.settings=this.settings}if(w.session===undefined){w.session=this.tlsSessionCache.get(o)}const _=w.createConnection||this.createConnection;h=await _.call(this,t,w);w.createConnection=()=>h;const v=l.connect(t,w);v[d]=0;v[y]=false;const getOriginSet=()=>{const{socket:t}=v;let i;if(t.servername===false){t.servername=t.remoteAddress;i=v.originSet;t.servername=false}else{i=v.originSet}return i};const isFree=()=>v[d]<v.remoteSettings.maxConcurrentStreams;v.socket.once("session",(t=>{this.tlsSessionCache.set(o,t)}));v.once("error",(t=>{for(let i=0;i<r.length;i++){r[i].reject(t)}this.tlsSessionCache.delete(o)}));v.setTimeout(this.timeout,(()=>{v.destroy()}));v.once("close",(()=>{this._sessionCount--;if(a){this._emptySessionCount--;const t=this.sessions[c];if(t.length===1){delete this.sessions[c]}else{t.splice(t.indexOf(v),1)}}else{removeFromQueue();const t=new Error("Session closed without receiving a SETTINGS frame");t.code="HTTP2WRAPPER_NOSETTINGS";for(let i=0;i<r.length;i++){r[i].reject(t)}}this._processQueue()}));const processListeners=()=>{const t=this.queue[c];if(!t){return}const i=v[g];for(let r=0;r<i.length;r++){const o=i[r];if(o in t){const{listeners:i,completed:r}=t[o];let a=0;while(a<i.length&&isFree()){i[a].resolve(v);a++}t[o].listeners.splice(0,a);if(t[o].listeners.length===0&&!r){delete t[o];if(--t[b]===0){delete this.queue[c];break}}if(!isFree()){break}}}};v.on("origin",(()=>{v[g]=getOriginSet()||[];v[y]=false;closeSessionIfCovered(this.sessions[c],v);if(v[y]||!isFree()){return}processListeners();if(!isFree()){return}closeCoveredSessions(this.sessions[c],v)}));v.once("remoteSettings",(()=>{if(entry.destroyed){const t=new Error("Agent has been destroyed");for(let i=0;i<r.length;i++){r[i].reject(t)}v.destroy();return}if(v.setLocalWindowSize){v.setLocalWindowSize(1024*1024*4)}v[g]=getOriginSet()||[];if(v.socket.encrypted){const t=v[g][0];if(t!==u){const i=new Error(`Requested origin ${u} does not match server ${t}`);for(let t=0;t<r.length;t++){r[t].reject(i)}v.destroy();return}}removeFromQueue();{const t=this.sessions;if(c in t){const i=t[c];i.splice(getSortedIndex(i,v,compareSessions),0,v)}else{t[c]=[v]}}a=true;this._emptySessionCount++;this.emit("session",v);this._accept(v,r,u,i);if(v[d]===0&&this._emptySessionCount>this.maxEmptySessions){this.closeEmptySessions(this._emptySessionCount-this.maxEmptySessions)}v.on("remoteSettings",(()=>{if(!isFree()){return}processListeners();if(!isFree()){return}closeCoveredSessions(this.sessions[c],v)}))}));v[p]=v.request;v.request=(t,i)=>{if(v[y]){throw new Error("The session is gracefully closing. No new streams are allowed.")}const r=v[p](t,i);v.ref();if(v[d]++===0){this._emptySessionCount--}r.once("close",(()=>{if(--v[d]===0){this._emptySessionCount++;v.unref();if(this._emptySessionCount>this.maxEmptySessions||v[y]){v.close();return}}if(v.destroyed||v.closed){return}if(isFree()&&!closeSessionIfCovered(this.sessions[c],v)){closeCoveredSessions(this.sessions[c],v);processListeners();if(v[d]===0){this._processQueue()}}}));return r}}catch(t){removeFromQueue();this._sessionCount--;for(let i=0;i<r.length;i++){r[i].reject(t)}}};entry.listeners=r;entry.completed=false;entry.destroyed=false;this.queue[c][u]=entry;this.queue[c][b]++;this._processQueue()}))}request(t,i,r,o){return new Promise(((a,h)=>{this.getSession(t,i,[{reject:h,resolve:t=>{try{const i=t.request(r,o);u(i);a(i)}catch(t){h(t)}}}])}))}async createConnection(t,i){return Agent.connect(t,i)}static connect(t,i){i.ALPNProtocols=["h2"];const r=t.port||443;const o=t.hostname;if(typeof i.servername==="undefined"){i.servername=o}const a=h.connect(r,o,i);if(i.socket){a._peername={family:undefined,address:undefined,port:r}}return a}closeEmptySessions(t=Number.POSITIVE_INFINITY){let i=0;const{sessions:r}=this;for(const o in r){const a=r[o];for(let r=0;r<a.length;r++){const o=a[r];if(o[d]===0){i++;o.close();if(i>=t){return i}}}}return i}destroy(t){const{sessions:i,queue:r}=this;for(const r in i){const o=i[r];for(let i=0;i<o.length;i++){o[i].destroy(t)}}for(const t in r){const i=r[t];for(const t in i){i[t].destroyed=true}}this.queue={};this.tlsSessionCache.clear()}get emptySessionCount(){return this._emptySessionCount}get pendingSessionCount(){return this._sessionCount-this._emptySessionCount}get sessionCount(){return this._sessionCount}}Agent.kCurrentStreamCount=d;Agent.kGracefullyClosing=y;t.exports={Agent:Agent,globalAgent:new Agent}},7135:(t,i,r)=>{"use strict";const{URL:o,urlToHttpOptions:a}=r(7310);const h=r(3685);const l=r(5687);const c=r(4352);const u=r(3751);const{Agent:d,globalAgent:p}=r(5203);const g=r(5436);const y=r(7261);const b=r(797);const w=new u({maxSize:100});const _=new Map;const installSocket=(t,i,r)=>{i._httpMessage={shouldKeepAlive:true};const onFree=()=>{t.emit("free",i,r)};i.on("free",onFree);const onClose=()=>{t.removeSocket(i,r)};i.on("close",onClose);const onTimeout=()=>{const{freeSockets:r}=t;for(const t of Object.values(r)){if(t.includes(i)){i.destroy();return}}};i.on("timeout",onTimeout);const onRemove=()=>{t.removeSocket(i,r);i.off("close",onClose);i.off("free",onFree);i.off("timeout",onTimeout);i.off("agentRemove",onRemove)};i.on("agentRemove",onRemove);t.emit("free",i,r)};const createResolveProtocol=(t,i=new Map,r=undefined)=>async o=>{const a=`${o.host}:${o.port}:${o.ALPNProtocols.sort()}`;if(!t.has(a)){if(i.has(a)){const t=await i.get(a);return{alpnProtocol:t.alpnProtocol}}const{path:h}=o;o.path=o.socketPath;const l=c(o,r);i.set(a,l);try{const r=await l;t.set(a,r.alpnProtocol);i.delete(a);o.path=h;return r}catch(t){i.delete(a);o.path=h;throw t}}return{alpnProtocol:t.get(a)}};const v=createResolveProtocol(w,_);t.exports=async(t,i,r)=>{if(typeof t==="string"){t=a(new o(t))}else if(t instanceof o){t=a(t)}else{t={...t}}if(typeof i==="function"||i===undefined){r=i;i=t}else{i=Object.assign(t,i)}i.ALPNProtocols=i.ALPNProtocols||["h2","http/1.1"];if(!Array.isArray(i.ALPNProtocols)||i.ALPNProtocols.length===0){throw new Error("The `ALPNProtocols` option must be an Array with at least one entry")}i.protocol=i.protocol||"https:";const c=i.protocol==="https:";i.host=i.hostname||i.host||"localhost";i.session=i.tlsSession;i.servername=i.servername||y(i.headers&&i.headers.host||i.host);i.port=i.port||(c?443:80);i._defaultAgent=c?l.globalAgent:h.globalAgent;const u=i.resolveProtocol||v;let{agent:w}=i;if(w!==undefined&&w!==false&&w.constructor.name!=="Object"){throw new Error("The `options.agent` can be only an object `http`, `https` or `http2` properties")}if(c){i.resolveSocket=true;let{socket:t,alpnProtocol:o,timeout:a}=await u(i);if(a){if(t){t.destroy()}const r=new Error(`Timed out resolving ALPN: ${i.timeout} ms`);r.code="ETIMEDOUT";r.ms=i.timeout;throw r}if(t&&i.createConnection){t.destroy();t=undefined}delete i.resolveSocket;const h=o==="h2";if(w){w=h?w.http2:w.https;i.agent=w}if(w===undefined){w=h?p:l.globalAgent}if(t){if(w===false){t.destroy()}else{const r=(h?d:l.Agent).prototype.createConnection;if(w.createConnection===r){if(h){i._reuseSocket=t}else{installSocket(w,t,i)}}else{t.destroy()}}}if(h){return b(new g(i,r))}}else if(w){i.agent=w.http}return b(h.request(i,r))};t.exports.protocolCache=w;t.exports.resolveProtocol=v;t.exports.createResolveProtocol=createResolveProtocol},5436:(t,i,r)=>{"use strict";const{URL:o,urlToHttpOptions:a}=r(7310);const h=r(5158);const{Writable:l}=r(2781);const{Agent:c,globalAgent:u}=r(5203);const d=r(7918);const p=r(6472);const{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_PROTOCOL:y,ERR_HTTP_HEADERS_SENT:b}=r(7742);const w=r(6211);const _=r(4903);const v=r(8404);const{HTTP2_HEADER_STATUS:E,HTTP2_HEADER_METHOD:S,HTTP2_HEADER_PATH:x,HTTP2_HEADER_AUTHORITY:O,HTTP2_METHOD_CONNECT:T}=h.constants;const R=Symbol("headers");const k=Symbol("origin");const A=Symbol("session");const C=Symbol("options");const P=Symbol("flushedHeaders");const I=Symbol("jobs");const L=Symbol("pendingAgentPromise");class ClientRequest extends l{constructor(t,i,r){super({autoDestroy:false,emitClose:false});if(typeof t==="string"){t=a(new o(t))}else if(t instanceof o){t=a(t)}else{t={...t}}if(typeof i==="function"||i===undefined){r=i;i=t}else{i=Object.assign(t,i)}if(i.h2session){this[A]=i.h2session;if(this[A].destroyed){throw new Error("The session has been closed already")}this.protocol=this[A].socket.encrypted?"https:":"http:"}else if(i.agent===false){this.agent=new c({maxEmptySessions:0})}else if(typeof i.agent==="undefined"||i.agent===null){this.agent=u}else if(typeof i.agent.request==="function"){this.agent=i.agent}else{throw new g("options.agent",["http2wrapper.Agent-like Object","undefined","false"],i.agent)}if(this.agent){this.protocol=this.agent.protocol}if(i.protocol&&i.protocol!==this.protocol){throw new y(i.protocol,this.protocol)}if(!i.port){i.port=i.defaultPort||this.agent&&this.agent.defaultPort||443}i.host=i.hostname||i.host||"localhost";delete i.hostname;const{timeout:h}=i;i.timeout=undefined;this[R]=Object.create(null);this[I]=[];this[L]=undefined;this.socket=null;this.connection=null;this.method=i.method||"GET";if(!(this.method==="CONNECT"&&(i.path==="/"||i.path===undefined))){this.path=i.path}this.res=null;this.aborted=false;this.reusedSocket=false;const{headers:l}=i;if(l){for(const t in l){this.setHeader(t,l[t])}}if(i.auth&&!("authorization"in this[R])){this[R].authorization="Basic "+Buffer.from(i.auth).toString("base64")}i.session=i.tlsSession;i.path=i.socketPath;this[C]=i;this[k]=new o(`${this.protocol}//${i.servername||i.host}:${i.port}`);const d=i._reuseSocket;if(d){i.createConnection=(...t)=>{if(d.destroyed){return this.agent.createConnection(...t)}return d};this.agent.getSession(this[k],this[C]).catch((()=>{}))}if(h){this.setTimeout(h)}if(r){this.once("response",r)}this[P]=false}get method(){return this[R][S]}set method(t){if(t){this[R][S]=t.toUpperCase()}}get path(){const t=this.method==="CONNECT"?O:x;return this[R][t]}set path(t){if(t){const i=this.method==="CONNECT"?O:x;this[R][i]=t}}get host(){return this[k].hostname}set host(t){}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(t,i,r){if(this._mustNotHaveABody){r(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();const callWrite=()=>this._request.write(t,i,r);if(this._request){callWrite()}else{this[I].push(callWrite)}}_final(t){this.flushHeaders();const callEnd=()=>{if(this._mustNotHaveABody||this.method==="CONNECT"){t();return}this._request.end(t)};if(this._request){callEnd()}else{this[I].push(callEnd)}}abort(){if(this.res&&this.res.complete){return}if(!this.aborted){process.nextTick((()=>this.emit("abort")))}this.aborted=true;this.destroy()}async _destroy(t,i){if(this.res){this.res._dump()}if(this._request){this._request.destroy()}else{process.nextTick((()=>{this.emit("close")}))}try{await this[L]}catch(i){if(this.aborted){t=i}}i(t)}async flushHeaders(){if(this[P]||this.destroyed){return}this[P]=true;const t=this.method===T;const onStream=i=>{this._request=i;if(this.destroyed){i.destroy();return}if(!t){p(i,this,["timeout","continue"])}i.once("error",(t=>{this.destroy(t)}));i.once("aborted",(()=>{const{res:t}=this;if(t){t.aborted=true;t.emit("aborted");t.destroy()}else{this.destroy(new Error("The server aborted the HTTP/2 stream"))}}));const onResponse=(r,o,a)=>{const h=new d(this.socket,i.readableHighWaterMark);this.res=h;h.url=`${this[k].origin}${this.path}`;h.req=this;h.statusCode=r[E];h.headers=r;h.rawHeaders=a;h.once("end",(()=>{h.complete=true;h.socket=null;h.connection=null}));if(t){h.upgrade=true;if(this.emit("connect",h,i,Buffer.alloc(0))){this.emit("close")}else{i.destroy()}}else{i.on("data",(t=>{if(!h._dumped&&!h.push(t)){i.pause()}}));i.once("end",(()=>{if(!this.aborted){h.push(null)}}));if(!this.emit("response",h)){h._dump()}}};i.once("response",onResponse);i.once("headers",(t=>this.emit("information",{statusCode:t[E]})));i.once("trailers",((t,i,r)=>{const{res:o}=this;if(o===null){onResponse(t,i,r);return}o.trailers=t;o.rawTrailers=r}));i.once("close",(()=>{const{aborted:t,res:i}=this;if(i){if(t){i.aborted=true;i.emit("aborted");i.destroy()}const finish=()=>{i.emit("close");this.destroy();this.emit("close")};if(i.readable){i.once("end",finish)}else{finish()}return}if(!this.destroyed){this.destroy(new Error("The HTTP/2 stream has been early terminated"));this.emit("close");return}this.destroy();this.emit("close")}));this.socket=new Proxy(i,v);for(const t of this[I]){t()}this[I].length=0;this.emit("socket",this.socket)};if(!(O in this[R])&&!t){this[R][O]=this[k].host}if(this[A]){try{onStream(this[A].request(this[R]))}catch(t){this.destroy(t)}}else{this.reusedSocket=true;try{const t=this.agent.request(this[k],this[C],this[R]);this[L]=t;onStream(await t);this[L]=false}catch(t){this[L]=false;this.destroy(t)}}}get connection(){return this.socket}set connection(t){this.socket=t}getHeaderNames(){return Object.keys(this[R])}hasHeader(t){if(typeof t!=="string"){throw new g("name","string",t)}return Boolean(this[R][t.toLowerCase()])}getHeader(t){if(typeof t!=="string"){throw new g("name","string",t)}return this[R][t.toLowerCase()]}get headersSent(){return this[P]}removeHeader(t){if(typeof t!=="string"){throw new g("name","string",t)}if(this.headersSent){throw new b("remove")}delete this[R][t.toLowerCase()]}setHeader(t,i){if(this.headersSent){throw new b("set")}w(t);_(t,i);const r=t.toLowerCase();if(r==="connection"){if(i.toLowerCase()==="keep-alive"){return}throw new Error(`Invalid 'connection' header: ${i}`)}if(r==="host"&&this.method==="CONNECT"){this[R][O]=i}else{this[R][r]=i}}setNoDelay(){}setSocketKeepAlive(){}setTimeout(t,i){const applyTimeout=()=>this._request.setTimeout(t,i);if(this._request){applyTimeout()}else{this[I].push(applyTimeout)}return this}get maxHeadersCount(){if(!this.destroyed&&this._request){return this._request.session.localSettings.maxHeaderListSize}return undefined}set maxHeadersCount(t){}}t.exports=ClientRequest},7918:(t,i,r)=>{"use strict";const{Readable:o}=r(2781);class IncomingMessage extends o{constructor(t,i){super({emitClose:false,autoDestroy:true,highWaterMark:i});this.statusCode=null;this.statusMessage="";this.httpVersion="2.0";this.httpVersionMajor=2;this.httpVersionMinor=0;this.headers={};this.trailers={};this.req=null;this.aborted=false;this.complete=false;this.upgrade=null;this.rawHeaders=[];this.rawTrailers=[];this.socket=t;this._dumped=false}get connection(){return this.socket}set connection(t){this.socket=t}_destroy(t,i){if(!this.readableEnded){this.aborted=true}i();this.req._request.destroy(t)}setTimeout(t,i){this.req.setTimeout(t,i);return this}_dump(){if(!this._dumped){this._dumped=true;this.removeAllListeners("data");this.resume()}}_read(){if(this.req){this.req._request.resume()}}}t.exports=IncomingMessage},9048:(t,i,r)=>{"use strict";const o=r(5158);const{Agent:a,globalAgent:h}=r(5203);const l=r(5436);const c=r(7918);const u=r(7135);const{HttpOverHttp2:d,HttpsOverHttp2:p}=r(7691);const g=r(7595);const{Http2OverHttp:y,Http2OverHttps:b}=r(8028);const w=r(6211);const _=r(4903);const request=(t,i,r)=>new l(t,i,r);const get=(t,i,r)=>{const o=new l(t,i,r);o.end();return o};t.exports={...o,ClientRequest:l,IncomingMessage:c,Agent:a,globalAgent:h,request:request,get:get,auto:u,proxies:{HttpOverHttp2:d,HttpsOverHttp2:p,Http2OverHttp2:g,Http2OverHttp:y,Http2OverHttps:b},validateHeaderName:w,validateHeaderValue:_}},4517:t=>{"use strict";t.exports=t=>{const{username:i,password:r}=t.proxyOptions.url;if(i||r){const t=`${i}:${r}`;const o=`Basic ${Buffer.from(t).toString("base64")}`;return{"proxy-authorization":o,authorization:o}}return{}}},7691:(t,i,r)=>{"use strict";const o=r(4404);const a=r(3685);const h=r(5687);const l=r(1763);const{globalAgent:c}=r(5203);const u=r(4462);const d=r(4294);const p=r(4517);const createConnection=(t,i,r)=>{(async()=>{try{const{proxyOptions:a}=t;const{url:d,headers:g,raw:y}=a;const b=await c.request(d,a,{...p(t),...g,":method":"CONNECT",":authority":`${i.host}:${i.port}`});b.once("error",r);b.once("response",(a=>{const c=a[":status"];if(c!==200){r(new u(c,""));return}const d=t instanceof h.Agent;if(y&&d){i.socket=b;const t=o.connect(i);t.once("close",(()=>{b.destroy()}));r(null,t);return}const p=new l(b);p.encrypted=false;p._handle.getpeername=t=>{t.family=undefined;t.address=undefined;t.port=undefined};r(null,p)}))}catch(t){r(t)}})()};class HttpOverHttp2 extends a.Agent{constructor(t){super(t);d(this,t.proxyOptions)}createConnection(t,i){createConnection(this,t,i)}}class HttpsOverHttp2 extends h.Agent{constructor(t){super(t);d(this,t.proxyOptions)}createConnection(t,i){createConnection(this,t,i)}}t.exports={HttpOverHttp2:HttpOverHttp2,HttpsOverHttp2:HttpsOverHttp2}},8028:(t,i,r)=>{"use strict";const o=r(3685);const a=r(5687);const h=r(9430);const l=r(4517);const getStream=t=>new Promise(((i,r)=>{const onConnect=(o,a,h)=>{a.unshift(h);t.off("error",r);i([a,o.statusCode,o.statusMessage])};t.once("error",r);t.once("connect",onConnect)}));class Http2OverHttp extends h{async _getProxyStream(t){const{proxyOptions:i}=this;const{url:r,headers:h}=this.proxyOptions;const c=r.protocol==="https:"?a:o;const u=c.request({...i,hostname:r.hostname,port:r.port,path:t,headers:{...l(this),...h,host:t},method:"CONNECT"}).end();return getStream(u)}}t.exports={Http2OverHttp:Http2OverHttp,Http2OverHttps:Http2OverHttp}},7595:(t,i,r)=>{"use strict";const{globalAgent:o}=r(5203);const a=r(9430);const h=r(4517);const getStatusCode=t=>new Promise(((i,r)=>{t.once("error",r);t.once("response",(o=>{t.off("error",r);i(o[":status"])}))}));class Http2OverHttp2 extends a{async _getProxyStream(t){const{proxyOptions:i}=this;const r={...h(this),...i.headers,":method":"CONNECT",":authority":t};const a=await o.request(i.url,i,r);const l=await getStatusCode(a);return[a,l,""]}}t.exports=Http2OverHttp2},9430:(t,i,r)=>{"use strict";const{Agent:o}=r(5203);const a=r(1763);const h=r(4462);const l=r(4294);class Http2OverHttpX extends o{constructor(t){super(t);l(this,t.proxyOptions)}async createConnection(t,i){const r=`${t.hostname}:${t.port||443}`;const[o,l,c]=await this._getProxyStream(r);if(l!==200){throw new h(l,c)}if(this.proxyOptions.raw){i.socket=o}else{const t=new a(o);t.encrypted=false;t._handle.getpeername=t=>{t.family=undefined;t.address=undefined;t.port=undefined};return t}return super.createConnection(t,i)}}t.exports=Http2OverHttpX},4294:(t,i,r)=>{"use strict";const{URL:o}=r(7310);const a=r(1311);t.exports=(t,i)=>{a("proxyOptions",i,["object"]);a("proxyOptions.headers",i.headers,["object","undefined"]);a("proxyOptions.raw",i.raw,["boolean","undefined"]);a("proxyOptions.url",i.url,[o,"string"]);const r=new o(i.url);t.proxyOptions={raw:true,...i,headers:{...i.headers},url:r}}},4462:t=>{"use strict";class UnexpectedStatusCodeError extends Error{constructor(t,i=""){super(`The proxy server rejected the request with status code ${t} (${i||"empty status message"})`);this.statusCode=t;this.statusMessage=i}}t.exports=UnexpectedStatusCodeError},7261:(t,i,r)=>{"use strict";const{isIP:o}=r(1808);const a=r(9491);const getHost=t=>{if(t[0]==="["){const i=t.indexOf("]");a(i!==-1);return t.slice(1,i)}const i=t.indexOf(":");if(i===-1){return t}return t.slice(0,i)};t.exports=t=>{const i=getHost(t);if(o(i)){return""}return i}},1311:t=>{"use strict";const checkType=(t,i,r)=>{const o=r.some((t=>{const r=typeof t;if(r==="string"){return typeof i===t}return i instanceof t}));if(!o){const o=r.map((t=>typeof t==="string"?t:t.name));throw new TypeError(`Expected '${t}' to be a type of ${o.join(" or ")}, got ${typeof i}`)}};t.exports=checkType},797:t=>{"use strict";t.exports=t=>{if(t.listenerCount("error")!==0){return t}t.__destroy=t._destroy;t._destroy=(...i)=>{const r=i.pop();t.__destroy(...i,(async t=>{await Promise.resolve();r(t)}))};const onError=i=>{Promise.resolve().then((()=>{t.emit("error",i)}))};t.once("error",onError);Promise.resolve().then((()=>{t.off("error",onError)}));return t}},7742:t=>{"use strict";const makeError=(i,r,o)=>{t.exports[r]=class NodeError extends i{constructor(...t){super(typeof o==="string"?o:o(t));this.name=`${super.name} [${r}]`;this.code=r}}};makeError(TypeError,"ERR_INVALID_ARG_TYPE",(t=>{const i=t[0].includes(".")?"property":"argument";let r=t[1];const o=Array.isArray(r);if(o){r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`}return`The "${t[0]}" ${i} must be ${o?"one of":"of"} type ${r}. Received ${typeof t[2]}`}));makeError(TypeError,"ERR_INVALID_PROTOCOL",(t=>`Protocol "${t[0]}" not supported. Expected "${t[1]}"`));makeError(Error,"ERR_HTTP_HEADERS_SENT",(t=>`Cannot ${t[0]} headers after they are sent to the client`));makeError(TypeError,"ERR_INVALID_HTTP_TOKEN",(t=>`${t[0]} must be a valid HTTP token [${t[1]}]`));makeError(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",(t=>`Invalid value "${t[0]} for header "${t[1]}"`));makeError(TypeError,"ERR_INVALID_CHAR",(t=>`Invalid character in ${t[0]} [${t[1]}]`));makeError(Error,"ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)")},9168:t=>{"use strict";t.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return true;default:return false}}},1763:(t,i,r)=>{"use strict";const o=r(2781);const a=r(4404);const h=new a.TLSSocket(new o.PassThrough)._handle._parentWrap.constructor;t.exports=h},6472:t=>{"use strict";t.exports=(t,i,r)=>{for(const o of r){t.on(o,((...t)=>i.emit(o,...t)))}}},8404:(t,i,r)=>{"use strict";const{ERR_HTTP2_NO_SOCKET_MANIPULATION:o}=r(7742);const a={has(t,i){const r=t.session===undefined?t:t.session.socket;return i in t||i in r},get(t,i){switch(i){case"on":case"once":case"end":case"emit":case"destroy":return t[i].bind(t);case"writable":case"destroyed":return t[i];case"readable":if(t.destroyed){return false}return t.readable;case"setTimeout":{const{session:i}=t;if(i!==undefined){return i.setTimeout.bind(i)}return t.setTimeout.bind(t)}case"write":case"read":case"pause":case"resume":throw new o;default:{const r=t.session===undefined?t:t.session.socket;const o=r[i];return typeof o==="function"?o.bind(r):o}}},getPrototypeOf(t){if(t.session!==undefined){return Reflect.getPrototypeOf(t.session.socket)}return Reflect.getPrototypeOf(t)},set(t,i,r){switch(i){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":t[i]=r;return true;case"setTimeout":{const{session:i}=t;if(i===undefined){t.setTimeout=r}else{i.setTimeout=r}return true}case"write":case"read":case"pause":case"resume":throw new o;default:{const o=t.session===undefined?t:t.session.socket;o[i]=r;return true}}}};t.exports=a},6211:(t,i,r)=>{"use strict";const{ERR_INVALID_HTTP_TOKEN:o}=r(7742);const a=r(9168);const h=/^[\^`\-\w!#$%&*+.|~]+$/;t.exports=t=>{if(typeof t!=="string"||!h.test(t)&&!a(t)){throw new o("Header name",t)}}},4903:(t,i,r)=>{"use strict";const{ERR_HTTP_INVALID_HEADER_VALUE:o,ERR_INVALID_CHAR:a}=r(7742);const h=/[^\t\u0020-\u007E\u0080-\u00FF]/;t.exports=(t,i)=>{if(typeof i==="undefined"){throw new o(i,t)}if(h.test(i)){throw new a("header content",t)}}},2284:(t,i,r)=>{var o=r(7147);var a;if(process.platform==="win32"||global.TESTING_WINDOWS){a=r(4437)}else{a=r(1692)}t.exports=isexe;isexe.sync=sync;function isexe(t,i,r){if(typeof i==="function"){r=i;i={}}if(!r){if(typeof Promise!=="function"){throw new TypeError("callback not provided")}return new Promise((function(r,o){isexe(t,i||{},(function(t,i){if(t){o(t)}else{r(i)}}))}))}a(t,i||{},(function(t,o){if(t){if(t.code==="EACCES"||i&&i.ignoreErrors){t=null;o=false}}r(t,o)}))}function sync(t,i){try{return a.sync(t,i||{})}catch(t){if(i&&i.ignoreErrors||t.code==="EACCES"){return false}else{throw t}}}},1692:(t,i,r)=>{t.exports=isexe;isexe.sync=sync;var o=r(7147);function isexe(t,i,r){o.stat(t,(function(t,o){r(t,t?false:checkStat(o,i))}))}function sync(t,i){return checkStat(o.statSync(t),i)}function checkStat(t,i){return t.isFile()&&checkMode(t,i)}function checkMode(t,i){var r=t.mode;var o=t.uid;var a=t.gid;var h=i.uid!==undefined?i.uid:process.getuid&&process.getuid();var l=i.gid!==undefined?i.gid:process.getgid&&process.getgid();var c=parseInt("100",8);var u=parseInt("010",8);var d=parseInt("001",8);var p=c|u;var g=r&d||r&u&&a===l||r&c&&o===h||r&p&&h===0;return g}},4437:(t,i,r)=>{t.exports=isexe;isexe.sync=sync;var o=r(7147);function checkPathExt(t,i){var r=i.pathExt!==undefined?i.pathExt:process.env.PATHEXT;if(!r){return true}r=r.split(";");if(r.indexOf("")!==-1){return true}for(var o=0;o<r.length;o++){var a=r[o].toLowerCase();if(a&&t.substr(-a.length).toLowerCase()===a){return true}}return false}function checkStat(t,i,r){if(!t.isSymbolicLink()&&!t.isFile()){return false}return checkPathExt(i,r)}function isexe(t,i,r){o.stat(t,(function(o,a){r(o,o?false:checkStat(a,t,i))}))}function sync(t,i){return checkStat(o.statSync(t),t,i)}},6586:(t,i)=>{i.stringify=function stringify(t){if("undefined"==typeof t)return t;if(t&&Buffer.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON)t=t.toJSON();if(t&&"object"===typeof t){var i="";var r=Array.isArray(t);i=r?"[":"{";var o=true;for(var a in t){var h="function"==typeof t[a]||!r&&"undefined"===typeof t[a];if(Object.hasOwnProperty.call(t,a)&&!h){if(!o)i+=",";o=false;if(r){if(t[a]==undefined)i+="null";else i+=stringify(t[a])}else if(t[a]!==void 0){i+=stringify(a)+":"+stringify(t[a])}}}i+=r?"]":"}";return i}else if("string"===typeof t){return JSON.stringify(/^:/.test(t)?":"+t:t)}else if("undefined"===typeof t){return"null"}else return JSON.stringify(t)};i.parse=function(t){return JSON.parse(t,(function(t,i){if("string"===typeof i){if(/^:base64:/.test(i))return Buffer.from(i.substring(8),"base64");else return/^:/.test(i)?i.substring(1):i}return i}))}},7985:(t,i,r)=>{"use strict";const o=r(2361);const a=r(6586);const loadStore=t=>{const i={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(t.adapter||t.uri){const r=t.adapter||/^[^:+]*/.exec(t.uri)[0];return new(require(i[r]))(t)}return new Map};const h=["sqlite","postgres","mysql","mongo","redis","tiered"];class Keyv extends o{constructor(t,{emitErrors:i=true,...r}={}){super();this.opts={namespace:"keyv",serialize:a.stringify,deserialize:a.parse,...typeof t==="string"?{uri:t}:t,...r};if(!this.opts.store){const t={...this.opts};this.opts.store=loadStore(t)}if(this.opts.compression){const t=this.opts.compression;this.opts.serialize=t.serialize.bind(t);this.opts.deserialize=t.deserialize.bind(t)}if(typeof this.opts.store.on==="function"&&i){this.opts.store.on("error",(t=>this.emit("error",t)))}this.opts.store.namespace=this.opts.namespace;const generateIterator=t=>async function*(){for await(const[i,r]of typeof t==="function"?t(this.opts.store.namespace):t){const t=this.opts.deserialize(r);if(this.opts.store.namespace&&!i.includes(this.opts.store.namespace)){continue}if(typeof t.expires==="number"&&Date.now()>t.expires){this.delete(i);continue}yield[this._getKeyUnprefix(i),t.value]}};if(typeof this.opts.store[Symbol.iterator]==="function"&&this.opts.store instanceof Map){this.iterator=generateIterator(this.opts.store)}else if(typeof this.opts.store.iterator==="function"&&this.opts.store.opts&&this._checkIterableAdaptar()){this.iterator=generateIterator(this.opts.store.iterator.bind(this.opts.store))}}_checkIterableAdaptar(){return h.includes(this.opts.store.opts.dialect)||h.findIndex((t=>this.opts.store.opts.url.includes(t)))>=0}_getKeyPrefix(t){return`${this.opts.namespace}:${t}`}_getKeyPrefixArray(t){return t.map((t=>`${this.opts.namespace}:${t}`))}_getKeyUnprefix(t){return t.split(":").splice(1).join(":")}get(t,i){const{store:r}=this.opts;const o=Array.isArray(t);const a=o?this._getKeyPrefixArray(t):this._getKeyPrefix(t);if(o&&r.getMany===undefined){const t=[];for(const o of a){t.push(Promise.resolve().then((()=>r.get(o))).then((t=>typeof t==="string"?this.opts.deserialize(t):this.opts.compression?this.opts.deserialize(t):t)).then((t=>{if(t===undefined||t===null){return undefined}if(typeof t.expires==="number"&&Date.now()>t.expires){return this.delete(o).then((()=>undefined))}return i&&i.raw?t:t.value})))}return Promise.allSettled(t).then((t=>{const i=[];for(const r of t){i.push(r.value)}return i}))}return Promise.resolve().then((()=>o?r.getMany(a):r.get(a))).then((t=>typeof t==="string"?this.opts.deserialize(t):this.opts.compression?this.opts.deserialize(t):t)).then((r=>{if(r===undefined||r===null){return undefined}if(o){const o=[];for(let a of r){if(typeof a==="string"){a=this.opts.deserialize(a)}if(a===undefined||a===null){o.push(undefined);continue}if(typeof a.expires==="number"&&Date.now()>a.expires){this.delete(t).then((()=>undefined));o.push(undefined)}else{o.push(i&&i.raw?a:a.value)}}return o}if(typeof r.expires==="number"&&Date.now()>r.expires){return this.delete(t).then((()=>undefined))}return i&&i.raw?r:r.value}))}set(t,i,r){const o=this._getKeyPrefix(t);if(typeof r==="undefined"){r=this.opts.ttl}if(r===0){r=undefined}const{store:a}=this.opts;return Promise.resolve().then((()=>{const t=typeof r==="number"?Date.now()+r:null;if(typeof i==="symbol"){this.emit("error","symbol cannot be serialized")}i={value:i,expires:t};return this.opts.serialize(i)})).then((t=>a.set(o,t,r))).then((()=>true))}delete(t){const{store:i}=this.opts;if(Array.isArray(t)){const r=this._getKeyPrefixArray(t);if(i.deleteMany===undefined){const t=[];for(const o of r){t.push(i.delete(o))}return Promise.allSettled(t).then((t=>t.every((t=>t.value===true))))}return Promise.resolve().then((()=>i.deleteMany(r)))}const r=this._getKeyPrefix(t);return Promise.resolve().then((()=>i.delete(r)))}clear(){const{store:t}=this.opts;return Promise.resolve().then((()=>t.clear()))}has(t){const i=this._getKeyPrefix(t);const{store:r}=this.opts;return Promise.resolve().then((async()=>{if(typeof r.has==="function"){return r.has(i)}const t=await r.get(i);return t!==undefined}))}disconnect(){const{store:t}=this.opts;if(typeof t.disconnect==="function"){return t.disconnect()}}}t.exports=Keyv},5178:t=>{"use strict";const{FORCE_COLOR:i,NODE_DISABLE_COLORS:r,TERM:o}=process.env;const a={enabled:!r&&o!=="dumb"&&i!=="0",reset:init(0,0),bold:init(1,22),dim:init(2,22),italic:init(3,23),underline:init(4,24),inverse:init(7,27),hidden:init(8,28),strikethrough:init(9,29),black:init(30,39),red:init(31,39),green:init(32,39),yellow:init(33,39),blue:init(34,39),magenta:init(35,39),cyan:init(36,39),white:init(37,39),gray:init(90,39),grey:init(90,39),bgBlack:init(40,49),bgRed:init(41,49),bgGreen:init(42,49),bgYellow:init(43,49),bgBlue:init(44,49),bgMagenta:init(45,49),bgCyan:init(46,49),bgWhite:init(47,49)};function run(t,i){let r=0,o,a="",h="";for(;r<t.length;r++){o=t[r];a+=o.open;h+=o.close;if(i.includes(o.close)){i=i.replace(o.rgx,o.close+o.open)}}return a+i+h}function chain(t,i){let r={has:t,keys:i};r.reset=a.reset.bind(r);r.bold=a.bold.bind(r);r.dim=a.dim.bind(r);r.italic=a.italic.bind(r);r.underline=a.underline.bind(r);r.inverse=a.inverse.bind(r);r.hidden=a.hidden.bind(r);r.strikethrough=a.strikethrough.bind(r);r.black=a.black.bind(r);r.red=a.red.bind(r);r.green=a.green.bind(r);r.yellow=a.yellow.bind(r);r.blue=a.blue.bind(r);r.magenta=a.magenta.bind(r);r.cyan=a.cyan.bind(r);r.white=a.white.bind(r);r.gray=a.gray.bind(r);r.grey=a.grey.bind(r);r.bgBlack=a.bgBlack.bind(r);r.bgRed=a.bgRed.bind(r);r.bgGreen=a.bgGreen.bind(r);r.bgYellow=a.bgYellow.bind(r);r.bgBlue=a.bgBlue.bind(r);r.bgMagenta=a.bgMagenta.bind(r);r.bgCyan=a.bgCyan.bind(r);r.bgWhite=a.bgWhite.bind(r);return r}function init(t,i){let r={open:`[${t}m`,close:`[${i}m`,rgx:new RegExp(`\\x1b\\[${i}m`,"g")};return function(i){if(this!==void 0&&this.has!==void 0){this.has.includes(t)||(this.has.push(t),this.keys.push(r));return i===void 0?this:a.enabled?run(this.keys,i+""):i+""}return i===void 0?chain([t],[r]):a.enabled?run([r],i+""):i+""}}t.exports=a},7116:(t,i,r)=>{"use strict";const o=r(9248);const a=Symbol("max");const h=Symbol("length");const l=Symbol("lengthCalculator");const c=Symbol("allowStale");const u=Symbol("maxAge");const d=Symbol("dispose");const p=Symbol("noDisposeOnSet");const g=Symbol("lruList");const y=Symbol("cache");const b=Symbol("updateAgeOnGet");const naiveLength=()=>1;class LRUCache{constructor(t){if(typeof t==="number")t={max:t};if(!t)t={};if(t.max&&(typeof t.max!=="number"||t.max<0))throw new TypeError("max must be a non-negative number");const i=this[a]=t.max||Infinity;const r=t.length||naiveLength;this[l]=typeof r!=="function"?naiveLength:r;this[c]=t.stale||false;if(t.maxAge&&typeof t.maxAge!=="number")throw new TypeError("maxAge must be a number");this[u]=t.maxAge||0;this[d]=t.dispose;this[p]=t.noDisposeOnSet||false;this[b]=t.updateAgeOnGet||false;this.reset()}set max(t){if(typeof t!=="number"||t<0)throw new TypeError("max must be a non-negative number");this[a]=t||Infinity;trim(this)}get max(){return this[a]}set allowStale(t){this[c]=!!t}get allowStale(){return this[c]}set maxAge(t){if(typeof t!=="number")throw new TypeError("maxAge must be a non-negative number");this[u]=t;trim(this)}get maxAge(){return this[u]}set lengthCalculator(t){if(typeof t!=="function")t=naiveLength;if(t!==this[l]){this[l]=t;this[h]=0;this[g].forEach((t=>{t.length=this[l](t.value,t.key);this[h]+=t.length}))}trim(this)}get lengthCalculator(){return this[l]}get length(){return this[h]}get itemCount(){return this[g].length}rforEach(t,i){i=i||this;for(let r=this[g].tail;r!==null;){const o=r.prev;forEachStep(this,t,r,i);r=o}}forEach(t,i){i=i||this;for(let r=this[g].head;r!==null;){const o=r.next;forEachStep(this,t,r,i);r=o}}keys(){return this[g].toArray().map((t=>t.key))}values(){return this[g].toArray().map((t=>t.value))}reset(){if(this[d]&&this[g]&&this[g].length){this[g].forEach((t=>this[d](t.key,t.value)))}this[y]=new Map;this[g]=new o;this[h]=0}dump(){return this[g].map((t=>isStale(this,t)?false:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)})).toArray().filter((t=>t))}dumpLru(){return this[g]}set(t,i,r){r=r||this[u];if(r&&typeof r!=="number")throw new TypeError("maxAge must be a number");const o=r?Date.now():0;const c=this[l](i,t);if(this[y].has(t)){if(c>this[a]){del(this,this[y].get(t));return false}const l=this[y].get(t);const u=l.value;if(this[d]){if(!this[p])this[d](t,u.value)}u.now=o;u.maxAge=r;u.value=i;this[h]+=c-u.length;u.length=c;this.get(t);trim(this);return true}const b=new Entry(t,i,c,o,r);if(b.length>this[a]){if(this[d])this[d](t,i);return false}this[h]+=b.length;this[g].unshift(b);this[y].set(t,this[g].head);trim(this);return true}has(t){if(!this[y].has(t))return false;const i=this[y].get(t).value;return!isStale(this,i)}get(t){return get(this,t,true)}peek(t){return get(this,t,false)}pop(){const t=this[g].tail;if(!t)return null;del(this,t);return t.value}del(t){del(this,this[y].get(t))}load(t){this.reset();const i=Date.now();for(let r=t.length-1;r>=0;r--){const o=t[r];const a=o.e||0;if(a===0)this.set(o.k,o.v);else{const t=a-i;if(t>0){this.set(o.k,o.v,t)}}}}prune(){this[y].forEach(((t,i)=>get(this,i,false)))}}const get=(t,i,r)=>{const o=t[y].get(i);if(o){const i=o.value;if(isStale(t,i)){del(t,o);if(!t[c])return undefined}else{if(r){if(t[b])o.value.now=Date.now();t[g].unshiftNode(o)}}return i.value}};const isStale=(t,i)=>{if(!i||!i.maxAge&&!t[u])return false;const r=Date.now()-i.now;return i.maxAge?r>i.maxAge:t[u]&&r>t[u]};const trim=t=>{if(t[h]>t[a]){for(let i=t[g].tail;t[h]>t[a]&&i!==null;){const r=i.prev;del(t,i);i=r}}};const del=(t,i)=>{if(i){const r=i.value;if(t[d])t[d](r.key,r.value);t[h]-=r.length;t[y].delete(r.key);t[g].removeNode(i)}};class Entry{constructor(t,i,r,o,a){this.key=t;this.value=i;this.length=r;this.now=o;this.maxAge=a||0}}const forEachStep=(t,i,r,o)=>{let a=r.value;if(isStale(t,a)){del(t,r);if(!t[c])a=undefined}if(a)i.call(o,a.value,a.key,t)};t.exports=LRUCache},8091:t=>{"use strict";const i=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];t.exports=(t,r)=>{if(r._readableState.autoDestroy){throw new Error("The second stream must have the `autoDestroy` option set to `false`")}const o=new Set(Object.keys(t).concat(i));const a={};for(const i of o){if(i in r){continue}a[i]={get(){const r=t[i];const o=typeof r==="function";return o?r.bind(t):r},set(r){t[i]=r},enumerable:true,configurable:false}}Object.defineProperties(r,a);t.once("aborted",(()=>{r.destroy();r.emit("aborted")}));t.once("close",(()=>{if(t.complete){if(r.readable){r.once("end",(()=>{r.emit("close")}))}else{r.emit("close")}}else{r.emit("close")}}));return r}},9773:(t,i,r)=>{"use strict";const o=typeof process==="object"&&process?process:{stdout:null,stderr:null};const a=r(2361);const h=r(2781);const l=r(1576).StringDecoder;const c=Symbol("EOF");const u=Symbol("maybeEmitEnd");const d=Symbol("emittedEnd");const p=Symbol("emittingEnd");const g=Symbol("emittedError");const y=Symbol("closed");const b=Symbol("read");const w=Symbol("flush");const _=Symbol("flushChunk");const v=Symbol("encoding");const E=Symbol("decoder");const S=Symbol("flowing");const x=Symbol("paused");const O=Symbol("resume");const T=Symbol("bufferLength");const R=Symbol("bufferPush");const k=Symbol("bufferShift");const A=Symbol("objectMode");const C=Symbol("destroyed");const P=Symbol("emitData");const I=Symbol("emitEnd");const L=Symbol("emitEnd2");const N=Symbol("async");const defer=t=>Promise.resolve().then(t);const M=global._MP_NO_ITERATOR_SYMBOLS_!=="1";const D=M&&Symbol.asyncIterator||Symbol("asyncIterator not implemented");const $=M&&Symbol.iterator||Symbol("iterator not implemented");const isEndish=t=>t==="end"||t==="finish"||t==="prefinish";const isArrayBuffer=t=>t instanceof ArrayBuffer||typeof t==="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0;const isArrayBufferView=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t);class Pipe{constructor(t,i,r){this.src=t;this.dest=i;this.opts=r;this.ondrain=()=>t[O]();i.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe();if(this.opts.end)this.dest.end()}}class PipeProxyErrors extends Pipe{unpipe(){this.src.removeListener("error",this.proxyErrors);super.unpipe()}constructor(t,i,r){super(t,i,r);this.proxyErrors=t=>i.emit("error",t);t.on("error",this.proxyErrors)}}t.exports=class Minipass extends h{constructor(t){super();this[S]=false;this[x]=false;this.pipes=[];this.buffer=[];this[A]=t&&t.objectMode||false;if(this[A])this[v]=null;else this[v]=t&&t.encoding||null;if(this[v]==="buffer")this[v]=null;this[N]=t&&!!t.async||false;this[E]=this[v]?new l(this[v]):null;this[c]=false;this[d]=false;this[p]=false;this[y]=false;this[g]=null;this.writable=true;this.readable=true;this[T]=0;this[C]=false}get bufferLength(){return this[T]}get encoding(){return this[v]}set encoding(t){if(this[A])throw new Error("cannot set encoding in objectMode");if(this[v]&&t!==this[v]&&(this[E]&&this[E].lastNeed||this[T]))throw new Error("cannot change encoding");if(this[v]!==t){this[E]=t?new l(t):null;if(this.buffer.length)this.buffer=this.buffer.map((t=>this[E].write(t)))}this[v]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[A]}set objectMode(t){this[A]=this[A]||!!t}get["async"](){return this[N]}set["async"](t){this[N]=this[N]||!!t}write(t,i,r){if(this[c])throw new Error("write after end");if(this[C]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof i==="function")r=i,i="utf8";if(!i)i="utf8";const o=this[N]?defer:t=>t();if(!this[A]&&!Buffer.isBuffer(t)){if(isArrayBufferView(t))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if(isArrayBuffer(t))t=Buffer.from(t);else if(typeof t!=="string")this.objectMode=true}if(this[A]){if(this.flowing&&this[T]!==0)this[w](true);if(this.flowing)this.emit("data",t);else this[R](t);if(this[T]!==0)this.emit("readable");if(r)o(r);return this.flowing}if(!t.length){if(this[T]!==0)this.emit("readable");if(r)o(r);return this.flowing}if(typeof t==="string"&&!(i===this[v]&&!this[E].lastNeed)){t=Buffer.from(t,i)}if(Buffer.isBuffer(t)&&this[v])t=this[E].write(t);if(this.flowing&&this[T]!==0)this[w](true);if(this.flowing)this.emit("data",t);else this[R](t);if(this[T]!==0)this.emit("readable");if(r)o(r);return this.flowing}read(t){if(this[C])return null;if(this[T]===0||t===0||t>this[T]){this[u]();return null}if(this[A])t=null;if(this.buffer.length>1&&!this[A]){if(this.encoding)this.buffer=[this.buffer.join("")];else this.buffer=[Buffer.concat(this.buffer,this[T])]}const i=this[b](t||null,this.buffer[0]);this[u]();return i}[b](t,i){if(t===i.length||t===null)this[k]();else{this.buffer[0]=i.slice(t);i=i.slice(0,t);this[T]-=t}this.emit("data",i);if(!this.buffer.length&&!this[c])this.emit("drain");return i}end(t,i,r){if(typeof t==="function")r=t,t=null;if(typeof i==="function")r=i,i="utf8";if(t)this.write(t,i);if(r)this.once("end",r);this[c]=true;this.writable=false;if(this.flowing||!this[x])this[u]();return this}[O](){if(this[C])return;this[x]=false;this[S]=true;this.emit("resume");if(this.buffer.length)this[w]();else if(this[c])this[u]();else this.emit("drain")}resume(){return this[O]()}pause(){this[S]=false;this[x]=true}get destroyed(){return this[C]}get flowing(){return this[S]}get paused(){return this[x]}[R](t){if(this[A])this[T]+=1;else this[T]+=t.length;this.buffer.push(t)}[k](){if(this.buffer.length){if(this[A])this[T]-=1;else this[T]-=this.buffer[0].length}return this.buffer.shift()}[w](t){do{}while(this[_](this[k]()));if(!t&&!this.buffer.length&&!this[c])this.emit("drain")}[_](t){return t?(this.emit("data",t),this.flowing):false}pipe(t,i){if(this[C])return;const r=this[d];i=i||{};if(t===o.stdout||t===o.stderr)i.end=false;else i.end=i.end!==false;i.proxyErrors=!!i.proxyErrors;if(r){if(i.end)t.end()}else{this.pipes.push(!i.proxyErrors?new Pipe(this,t,i):new PipeProxyErrors(this,t,i));if(this[N])defer((()=>this[O]()));else this[O]()}return t}unpipe(t){const i=this.pipes.find((i=>i.dest===t));if(i){this.pipes.splice(this.pipes.indexOf(i),1);i.unpipe()}}addListener(t,i){return this.on(t,i)}on(t,i){const r=super.on(t,i);if(t==="data"&&!this.pipes.length&&!this.flowing)this[O]();else if(t==="readable"&&this[T]!==0)super.emit("readable");else if(isEndish(t)&&this[d]){super.emit(t);this.removeAllListeners(t)}else if(t==="error"&&this[g]){if(this[N])defer((()=>i.call(this,this[g])));else i.call(this,this[g])}return r}get emittedEnd(){return this[d]}[u](){if(!this[p]&&!this[d]&&!this[C]&&this.buffer.length===0&&this[c]){this[p]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[y])this.emit("close");this[p]=false}}emit(t,i,...r){if(t!=="error"&&t!=="close"&&t!==C&&this[C])return;else if(t==="data"){return!i?false:this[N]?defer((()=>this[P](i))):this[P](i)}else if(t==="end"){return this[I]()}else if(t==="close"){this[y]=true;if(!this[d]&&!this[C])return;const t=super.emit("close");this.removeAllListeners("close");return t}else if(t==="error"){this[g]=i;const t=super.emit("error",i);this[u]();return t}else if(t==="resume"){const t=super.emit("resume");this[u]();return t}else if(t==="finish"||t==="prefinish"){const i=super.emit(t);this.removeAllListeners(t);return i}const o=super.emit(t,i,...r);this[u]();return o}[P](t){for(const i of this.pipes){if(i.dest.write(t)===false)this.pause()}const i=super.emit("data",t);this[u]();return i}[I](){if(this[d])return;this[d]=true;this.readable=false;if(this[N])defer((()=>this[L]()));else this[L]()}[L](){if(this[E]){const t=this[E].end();if(t){for(const i of this.pipes){i.dest.write(t)}super.emit("data",t)}}for(const t of this.pipes){t.end()}const t=super.emit("end");this.removeAllListeners("end");return t}collect(){const t=[];if(!this[A])t.dataLength=0;const i=this.promise();this.on("data",(i=>{t.push(i);if(!this[A])t.dataLength+=i.length}));return i.then((()=>t))}concat(){return this[A]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((t=>this[A]?Promise.reject(new Error("cannot concat in objectMode")):this[v]?t.join(""):Buffer.concat(t,t.dataLength)))}promise(){return new Promise(((t,i)=>{this.on(C,(()=>i(new Error("stream destroyed"))));this.on("error",(t=>i(t)));this.on("end",(()=>t()))}))}[D](){const next=()=>{const t=this.read();if(t!==null)return Promise.resolve({done:false,value:t});if(this[c])return Promise.resolve({done:true});let i=null;let r=null;const onerr=t=>{this.removeListener("data",ondata);this.removeListener("end",onend);r(t)};const ondata=t=>{this.removeListener("error",onerr);this.removeListener("end",onend);this.pause();i({value:t,done:!!this[c]})};const onend=()=>{this.removeListener("error",onerr);this.removeListener("data",ondata);i({done:true})};const ondestroy=()=>onerr(new Error("stream destroyed"));return new Promise(((t,o)=>{r=o;i=t;this.once(C,ondestroy);this.once("error",onerr);this.once("end",onend);this.once("data",ondata)}))};return{next:next}}[$](){const next=()=>{const t=this.read();const i=t===null;return{value:t,done:i}};return{next:next}}destroy(t){if(this[C]){if(t)this.emit("error",t);else this.emit(C);return this}this[C]=true;this.buffer.length=0;this[T]=0;if(typeof this.close==="function"&&!this[y])this.close();if(t)this.emit("error",t);else this.emit(C);return this}static isStream(t){return!!t&&(t instanceof Minipass||t instanceof h||t instanceof a&&(typeof t.pipe==="function"||typeof t.write==="function"&&typeof t.end==="function"))}}},6684:(t,i,r)=>{"use strict";const o=typeof process==="object"&&process?process:{stdout:null,stderr:null};const a=r(2361);const h=r(2781);const l=r(1576);const c=l.StringDecoder;const u=Symbol("EOF");const d=Symbol("maybeEmitEnd");const p=Symbol("emittedEnd");const g=Symbol("emittingEnd");const y=Symbol("emittedError");const b=Symbol("closed");const w=Symbol("read");const _=Symbol("flush");const v=Symbol("flushChunk");const E=Symbol("encoding");const S=Symbol("decoder");const x=Symbol("flowing");const O=Symbol("paused");const T=Symbol("resume");const R=Symbol("buffer");const k=Symbol("pipes");const A=Symbol("bufferLength");const C=Symbol("bufferPush");const P=Symbol("bufferShift");const I=Symbol("objectMode");const L=Symbol("destroyed");const N=Symbol("error");const M=Symbol("emitData");const D=Symbol("emitEnd");const $=Symbol("emitEnd2");const j=Symbol("async");const B=Symbol("abort");const H=Symbol("aborted");const z=Symbol("signal");const defer=t=>Promise.resolve().then(t);const U=global._MP_NO_ITERATOR_SYMBOLS_!=="1";const q=U&&Symbol.asyncIterator||Symbol("asyncIterator not implemented");const G=U&&Symbol.iterator||Symbol("iterator not implemented");const isEndish=t=>t==="end"||t==="finish"||t==="prefinish";const isArrayBuffer=t=>t instanceof ArrayBuffer||typeof t==="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0;const isArrayBufferView=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t);class Pipe{constructor(t,i,r){this.src=t;this.dest=i;this.opts=r;this.ondrain=()=>t[T]();i.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe();if(this.opts.end)this.dest.end()}}class PipeProxyErrors extends Pipe{unpipe(){this.src.removeListener("error",this.proxyErrors);super.unpipe()}constructor(t,i,r){super(t,i,r);this.proxyErrors=t=>i.emit("error",t);t.on("error",this.proxyErrors)}}class Minipass extends h{constructor(t){super();this[x]=false;this[O]=false;this[k]=[];this[R]=[];this[I]=t&&t.objectMode||false;if(this[I])this[E]=null;else this[E]=t&&t.encoding||null;if(this[E]==="buffer")this[E]=null;this[j]=t&&!!t.async||false;this[S]=this[E]?new c(this[E]):null;this[u]=false;this[p]=false;this[g]=false;this[b]=false;this[y]=null;this.writable=true;this.readable=true;this[A]=0;this[L]=false;if(t&&t.debugExposeBuffer===true){Object.defineProperty(this,"buffer",{get:()=>this[R]})}if(t&&t.debugExposePipes===true){Object.defineProperty(this,"pipes",{get:()=>this[k]})}this[z]=t&&t.signal;this[H]=false;if(this[z]){this[z].addEventListener("abort",(()=>this[B]()));if(this[z].aborted){this[B]()}}}get bufferLength(){return this[A]}get encoding(){return this[E]}set encoding(t){if(this[I])throw new Error("cannot set encoding in objectMode");if(this[E]&&t!==this[E]&&(this[S]&&this[S].lastNeed||this[A]))throw new Error("cannot change encoding");if(this[E]!==t){this[S]=t?new c(t):null;if(this[R].length)this[R]=this[R].map((t=>this[S].write(t)))}this[E]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[I]}set objectMode(t){this[I]=this[I]||!!t}get["async"](){return this[j]}set["async"](t){this[j]=this[j]||!!t}[B](){this[H]=true;this.emit("abort",this[z].reason);this.destroy(this[z].reason)}get aborted(){return this[H]}set aborted(t){}write(t,i,r){if(this[H])return false;if(this[u])throw new Error("write after end");if(this[L]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof i==="function")r=i,i="utf8";if(!i)i="utf8";const o=this[j]?defer:t=>t();if(!this[I]&&!Buffer.isBuffer(t)){if(isArrayBufferView(t))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if(isArrayBuffer(t))t=Buffer.from(t);else if(typeof t!=="string")this.objectMode=true}if(this[I]){if(this.flowing&&this[A]!==0)this[_](true);if(this.flowing)this.emit("data",t);else this[C](t);if(this[A]!==0)this.emit("readable");if(r)o(r);return this.flowing}if(!t.length){if(this[A]!==0)this.emit("readable");if(r)o(r);return this.flowing}if(typeof t==="string"&&!(i===this[E]&&!this[S].lastNeed)){t=Buffer.from(t,i)}if(Buffer.isBuffer(t)&&this[E])t=this[S].write(t);if(this.flowing&&this[A]!==0)this[_](true);if(this.flowing)this.emit("data",t);else this[C](t);if(this[A]!==0)this.emit("readable");if(r)o(r);return this.flowing}read(t){if(this[L])return null;if(this[A]===0||t===0||t>this[A]){this[d]();return null}if(this[I])t=null;if(this[R].length>1&&!this[I]){if(this.encoding)this[R]=[this[R].join("")];else this[R]=[Buffer.concat(this[R],this[A])]}const i=this[w](t||null,this[R][0]);this[d]();return i}[w](t,i){if(t===i.length||t===null)this[P]();else{this[R][0]=i.slice(t);i=i.slice(0,t);this[A]-=t}this.emit("data",i);if(!this[R].length&&!this[u])this.emit("drain");return i}end(t,i,r){if(typeof t==="function")r=t,t=null;if(typeof i==="function")r=i,i="utf8";if(t)this.write(t,i);if(r)this.once("end",r);this[u]=true;this.writable=false;if(this.flowing||!this[O])this[d]();return this}[T](){if(this[L])return;this[O]=false;this[x]=true;this.emit("resume");if(this[R].length)this[_]();else if(this[u])this[d]();else this.emit("drain")}resume(){return this[T]()}pause(){this[x]=false;this[O]=true}get destroyed(){return this[L]}get flowing(){return this[x]}get paused(){return this[O]}[C](t){if(this[I])this[A]+=1;else this[A]+=t.length;this[R].push(t)}[P](){if(this[I])this[A]-=1;else this[A]-=this[R][0].length;return this[R].shift()}[_](t){do{}while(this[v](this[P]())&&this[R].length);if(!t&&!this[R].length&&!this[u])this.emit("drain")}[v](t){this.emit("data",t);return this.flowing}pipe(t,i){if(this[L])return;const r=this[p];i=i||{};if(t===o.stdout||t===o.stderr)i.end=false;else i.end=i.end!==false;i.proxyErrors=!!i.proxyErrors;if(r){if(i.end)t.end()}else{this[k].push(!i.proxyErrors?new Pipe(this,t,i):new PipeProxyErrors(this,t,i));if(this[j])defer((()=>this[T]()));else this[T]()}return t}unpipe(t){const i=this[k].find((i=>i.dest===t));if(i){this[k].splice(this[k].indexOf(i),1);i.unpipe()}}addListener(t,i){return this.on(t,i)}on(t,i){const r=super.on(t,i);if(t==="data"&&!this[k].length&&!this.flowing)this[T]();else if(t==="readable"&&this[A]!==0)super.emit("readable");else if(isEndish(t)&&this[p]){super.emit(t);this.removeAllListeners(t)}else if(t==="error"&&this[y]){if(this[j])defer((()=>i.call(this,this[y])));else i.call(this,this[y])}return r}get emittedEnd(){return this[p]}[d](){if(!this[g]&&!this[p]&&!this[L]&&this[R].length===0&&this[u]){this[g]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[b])this.emit("close");this[g]=false}}emit(t,i,...r){if(t!=="error"&&t!=="close"&&t!==L&&this[L])return;else if(t==="data"){return!this[I]&&!i?false:this[j]?defer((()=>this[M](i))):this[M](i)}else if(t==="end"){return this[D]()}else if(t==="close"){this[b]=true;if(!this[p]&&!this[L])return;const t=super.emit("close");this.removeAllListeners("close");return t}else if(t==="error"){this[y]=i;super.emit(N,i);const t=!this[z]||this.listeners("error").length?super.emit("error",i):false;this[d]();return t}else if(t==="resume"){const t=super.emit("resume");this[d]();return t}else if(t==="finish"||t==="prefinish"){const i=super.emit(t);this.removeAllListeners(t);return i}const o=super.emit(t,i,...r);this[d]();return o}[M](t){for(const i of this[k]){if(i.dest.write(t)===false)this.pause()}const i=super.emit("data",t);this[d]();return i}[D](){if(this[p])return;this[p]=true;this.readable=false;if(this[j])defer((()=>this[$]()));else this[$]()}[$](){if(this[S]){const t=this[S].end();if(t){for(const i of this[k]){i.dest.write(t)}super.emit("data",t)}}for(const t of this[k]){t.end()}const t=super.emit("end");this.removeAllListeners("end");return t}collect(){const t=[];if(!this[I])t.dataLength=0;const i=this.promise();this.on("data",(i=>{t.push(i);if(!this[I])t.dataLength+=i.length}));return i.then((()=>t))}concat(){return this[I]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((t=>this[I]?Promise.reject(new Error("cannot concat in objectMode")):this[E]?t.join(""):Buffer.concat(t,t.dataLength)))}promise(){return new Promise(((t,i)=>{this.on(L,(()=>i(new Error("stream destroyed"))));this.on("error",(t=>i(t)));this.on("end",(()=>t()))}))}[q](){let t=false;const stop=()=>{this.pause();t=true;return Promise.resolve({done:true})};const next=()=>{if(t)return stop();const i=this.read();if(i!==null)return Promise.resolve({done:false,value:i});if(this[u])return stop();let r=null;let o=null;const onerr=t=>{this.removeListener("data",ondata);this.removeListener("end",onend);this.removeListener(L,ondestroy);stop();o(t)};const ondata=t=>{this.removeListener("error",onerr);this.removeListener("end",onend);this.removeListener(L,ondestroy);this.pause();r({value:t,done:!!this[u]})};const onend=()=>{this.removeListener("error",onerr);this.removeListener("data",ondata);this.removeListener(L,ondestroy);stop();r({done:true})};const ondestroy=()=>onerr(new Error("stream destroyed"));return new Promise(((t,i)=>{o=i;r=t;this.once(L,ondestroy);this.once("error",onerr);this.once("end",onend);this.once("data",ondata)}))};return{next:next,throw:stop,return:stop,[q](){return this}}}[G](){let t=false;const stop=()=>{this.pause();this.removeListener(N,stop);this.removeListener(L,stop);this.removeListener("end",stop);t=true;return{done:true}};const next=()=>{if(t)return stop();const i=this.read();return i===null?stop():{value:i}};this.once("end",stop);this.once(N,stop);this.once(L,stop);return{next:next,throw:stop,return:stop,[G](){return this}}}destroy(t){if(this[L]){if(t)this.emit("error",t);else this.emit(L);return this}this[L]=true;this[R].length=0;this[A]=0;if(typeof this.close==="function"&&!this[b])this.close();if(t)this.emit("error",t);else this.emit(L);return this}static isStream(t){return!!t&&(t instanceof Minipass||t instanceof h||t instanceof a&&(typeof t.pipe==="function"||typeof t.write==="function"&&typeof t.end==="function"))}}i.Minipass=Minipass},6903:(t,i,r)=>{const o=r(9796).constants||{ZLIB_VERNUM:4736};t.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:Infinity,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},o))},3366:(t,i,r)=>{"use strict";const o=r(9491);const a=r(4300).Buffer;const h=r(9796);const l=i.constants=r(6903);const c=r(9773);const u=a.concat;const d=Symbol("_superWrite");class ZlibError extends Error{constructor(t){super("zlib: "+t.message);this.code=t.code;this.errno=t.errno;if(!this.code)this.code="ZLIB_ERROR";this.message="zlib: "+t.message;Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}const p=Symbol("opts");const g=Symbol("flushFlag");const y=Symbol("finishFlushFlag");const b=Symbol("fullFlushFlag");const w=Symbol("handle");const _=Symbol("onError");const v=Symbol("sawError");const E=Symbol("level");const S=Symbol("strategy");const x=Symbol("ended");const O=Symbol("_defaultFullFlush");class ZlibBase extends c{constructor(t,i){if(!t||typeof t!=="object")throw new TypeError("invalid options for ZlibBase constructor");super(t);this[v]=false;this[x]=false;this[p]=t;this[g]=t.flush;this[y]=t.finishFlush;try{this[w]=new h[i](t)}catch(t){throw new ZlibError(t)}this[_]=t=>{if(this[v])return;this[v]=true;this.close();this.emit("error",t)};this[w].on("error",(t=>this[_](new ZlibError(t))));this.once("end",(()=>this.close))}close(){if(this[w]){this[w].close();this[w]=null;this.emit("close")}}reset(){if(!this[v]){o(this[w],"zlib binding closed");return this[w].reset()}}flush(t){if(this.ended)return;if(typeof t!=="number")t=this[b];this.write(Object.assign(a.alloc(0),{[g]:t}))}end(t,i,r){if(t)this.write(t,i);this.flush(this[y]);this[x]=true;return super.end(null,null,r)}get ended(){return this[x]}write(t,i,r){if(typeof i==="function")r=i,i="utf8";if(typeof t==="string")t=a.from(t,i);if(this[v])return;o(this[w],"zlib binding closed");const h=this[w]._handle;const l=h.close;h.close=()=>{};const c=this[w].close;this[w].close=()=>{};a.concat=t=>t;let p;try{const i=typeof t[g]==="number"?t[g]:this[g];p=this[w]._processChunk(t,i);a.concat=u}catch(t){a.concat=u;this[_](new ZlibError(t))}finally{if(this[w]){this[w]._handle=h;h.close=l;this[w].close=c;this[w].removeAllListeners("error")}}if(this[w])this[w].on("error",(t=>this[_](new ZlibError(t))));let y;if(p){if(Array.isArray(p)&&p.length>0){y=this[d](a.from(p[0]));for(let t=1;t<p.length;t++){y=this[d](p[t])}}else{y=this[d](a.from(p))}}if(r)r();return y}[d](t){return super.write(t)}}class Zlib extends ZlibBase{constructor(t,i){t=t||{};t.flush=t.flush||l.Z_NO_FLUSH;t.finishFlush=t.finishFlush||l.Z_FINISH;super(t,i);this[b]=l.Z_FULL_FLUSH;this[E]=t.level;this[S]=t.strategy}params(t,i){if(this[v])return;if(!this[w])throw new Error("cannot switch params when binding is closed");if(!this[w].params)throw new Error("not supported in this implementation");if(this[E]!==t||this[S]!==i){this.flush(l.Z_SYNC_FLUSH);o(this[w],"zlib binding closed");const r=this[w].flush;this[w].flush=(t,i)=>{this.flush(t);i()};try{this[w].params(t,i)}finally{this[w].flush=r}if(this[w]){this[E]=t;this[S]=i}}}}class Deflate extends Zlib{constructor(t){super(t,"Deflate")}}class Inflate extends Zlib{constructor(t){super(t,"Inflate")}}const T=Symbol("_portable");class Gzip extends Zlib{constructor(t){super(t,"Gzip");this[T]=t&&!!t.portable}[d](t){if(!this[T])return super[d](t);this[T]=false;t[9]=255;return super[d](t)}}class Gunzip extends Zlib{constructor(t){super(t,"Gunzip")}}class DeflateRaw extends Zlib{constructor(t){super(t,"DeflateRaw")}}class InflateRaw extends Zlib{constructor(t){super(t,"InflateRaw")}}class Unzip extends Zlib{constructor(t){super(t,"Unzip")}}class Brotli extends ZlibBase{constructor(t,i){t=t||{};t.flush=t.flush||l.BROTLI_OPERATION_PROCESS;t.finishFlush=t.finishFlush||l.BROTLI_OPERATION_FINISH;super(t,i);this[b]=l.BROTLI_OPERATION_FLUSH}}class BrotliCompress extends Brotli{constructor(t){super(t,"BrotliCompress")}}class BrotliDecompress extends Brotli{constructor(t){super(t,"BrotliDecompress")}}i.Deflate=Deflate;i.Inflate=Inflate;i.Gzip=Gzip;i.Gunzip=Gunzip;i.DeflateRaw=DeflateRaw;i.InflateRaw=InflateRaw;i.Unzip=Unzip;if(typeof h.BrotliCompress==="function"){i.BrotliCompress=BrotliCompress;i.BrotliDecompress=BrotliDecompress}else{i.BrotliCompress=i.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}}},5824:(t,i,r)=>{const o=r(5869);const a=r(135);const{mkdirpNative:h,mkdirpNativeSync:l}=r(3706);const{mkdirpManual:c,mkdirpManualSync:u}=r(4095);const{useNative:d,useNativeSync:p}=r(591);const mkdirp=(t,i)=>{t=a(t);i=o(i);return d(i)?h(t,i):c(t,i)};const mkdirpSync=(t,i)=>{t=a(t);i=o(i);return p(i)?l(t,i):u(t,i)};mkdirp.sync=mkdirpSync;mkdirp.native=(t,i)=>h(a(t),o(i));mkdirp.manual=(t,i)=>c(a(t),o(i));mkdirp.nativeSync=(t,i)=>l(a(t),o(i));mkdirp.manualSync=(t,i)=>u(a(t),o(i));t.exports=mkdirp},8573:(t,i,r)=>{const{dirname:o}=r(1017);const findMade=(t,i,r=undefined)=>{if(r===i)return Promise.resolve();return t.statAsync(i).then((t=>t.isDirectory()?r:undefined),(r=>r.code==="ENOENT"?findMade(t,o(i),i):undefined))};const findMadeSync=(t,i,r=undefined)=>{if(r===i)return undefined;try{return t.statSync(i).isDirectory()?r:undefined}catch(r){return r.code==="ENOENT"?findMadeSync(t,o(i),i):undefined}};t.exports={findMade:findMade,findMadeSync:findMadeSync}},4095:(t,i,r)=>{const{dirname:o}=r(1017);const mkdirpManual=(t,i,r)=>{i.recursive=false;const a=o(t);if(a===t){return i.mkdirAsync(t,i).catch((t=>{if(t.code!=="EISDIR")throw t}))}return i.mkdirAsync(t,i).then((()=>r||t),(o=>{if(o.code==="ENOENT")return mkdirpManual(a,i).then((r=>mkdirpManual(t,i,r)));if(o.code!=="EEXIST"&&o.code!=="EROFS")throw o;return i.statAsync(t).then((t=>{if(t.isDirectory())return r;else throw o}),(()=>{throw o}))}))};const mkdirpManualSync=(t,i,r)=>{const a=o(t);i.recursive=false;if(a===t){try{return i.mkdirSync(t,i)}catch(t){if(t.code!=="EISDIR")throw t;else return}}try{i.mkdirSync(t,i);return r||t}catch(o){if(o.code==="ENOENT")return mkdirpManualSync(t,i,mkdirpManualSync(a,i,r));if(o.code!=="EEXIST"&&o.code!=="EROFS")throw o;try{if(!i.statSync(t).isDirectory())throw o}catch(t){throw o}}};t.exports={mkdirpManual:mkdirpManual,mkdirpManualSync:mkdirpManualSync}},3706:(t,i,r)=>{const{dirname:o}=r(1017);const{findMade:a,findMadeSync:h}=r(8573);const{mkdirpManual:l,mkdirpManualSync:c}=r(4095);const mkdirpNative=(t,i)=>{i.recursive=true;const r=o(t);if(r===t)return i.mkdirAsync(t,i);return a(i,t).then((r=>i.mkdirAsync(t,i).then((()=>r)).catch((r=>{if(r.code==="ENOENT")return l(t,i);else throw r}))))};const mkdirpNativeSync=(t,i)=>{i.recursive=true;const r=o(t);if(r===t)return i.mkdirSync(t,i);const a=h(i,t);try{i.mkdirSync(t,i);return a}catch(r){if(r.code==="ENOENT")return c(t,i);else throw r}};t.exports={mkdirpNative:mkdirpNative,mkdirpNativeSync:mkdirpNativeSync}},5869:(t,i,r)=>{const{promisify:o}=r(3837);const a=r(7147);const optsArg=t=>{if(!t)t={mode:511,fs:a};else if(typeof t==="object")t={mode:511,fs:a,...t};else if(typeof t==="number")t={mode:t,fs:a};else if(typeof t==="string")t={mode:parseInt(t,8),fs:a};else throw new TypeError("invalid options argument");t.mkdir=t.mkdir||t.fs.mkdir||a.mkdir;t.mkdirAsync=o(t.mkdir);t.stat=t.stat||t.fs.stat||a.stat;t.statAsync=o(t.stat);t.statSync=t.statSync||t.fs.statSync||a.statSync;t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||a.mkdirSync;return t};t.exports=optsArg},135:(t,i,r)=>{const o=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform;const{resolve:a,parse:h}=r(1017);const pathArg=t=>{if(/\0/.test(t)){throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"})}t=a(t);if(o==="win32"){const i=/[*|"<>?:]/;const{root:r}=h(t);if(i.test(t.substr(r.length))){throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}}return t};t.exports=pathArg},591:(t,i,r)=>{const o=r(7147);const a=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version;const h=a.replace(/^v/,"").split(".");const l=+h[0]>10||+h[0]===10&&+h[1]>=12;const c=!l?()=>false:t=>t.mkdir===o.mkdir;const u=!l?()=>false:t=>t.mkdirSync===o.mkdirSync;t.exports={useNative:c,useNativeSync:u}},2139:t=>{"use strict";const pathKey=(t={})=>{const i=t.env||process.env;const r=t.platform||process.platform;if(r!=="win32"){return"PATH"}return Object.keys(i).reverse().find((t=>t.toUpperCase()==="PATH"))||"Path"};t.exports=pathKey;t.exports["default"]=pathKey},8578:t=>{"use strict";class DatePart{constructor({token:t,date:i,parts:r,locales:o}){this.token=t;this.date=i||new Date;this.parts=r||[this];this.locales=o||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find(((i,r)=>r>t&&i instanceof DatePart))}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const i=t.indexOf(this);return t.find(((t,r)=>r>i&&t instanceof DatePart))}toString(){return String(this.date)}}t.exports=DatePart},519:(t,i,r)=>{"use strict";const o=r(8578);const pos=t=>{t=t%10;return t===1?"st":t===2?"nd":t===3?"rd":"th"};class Day extends o{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate();let i=this.date.getDay();return this.token==="DD"?String(t).padStart(2,"0"):this.token==="Do"?t+pos(t):this.token==="d"?i+1:this.token==="ddd"?this.locales.weekdaysShort[i]:this.token==="dddd"?this.locales.weekdays[i]:t}}t.exports=Day},9322:(t,i,r)=>{"use strict";const o=r(8578);class Hours extends o{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();if(/h/.test(this.token))t=t%12||12;return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Hours},9083:(t,i,r)=>{"use strict";t.exports={DatePart:r(8578),Meridiem:r(4643),Day:r(519),Hours:r(9322),Milliseconds:r(1318),Minutes:r(5053),Month:r(5662),Seconds:r(1614),Year:r(3537)}},4643:(t,i,r)=>{"use strict";const o=r(8578);class Meridiem extends o{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}t.exports=Meridiem},1318:(t,i,r)=>{"use strict";const o=r(8578);class Milliseconds extends o{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}t.exports=Milliseconds},5053:(t,i,r)=>{"use strict";const o=r(8578);class Minutes extends o{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Minutes},5662:(t,i,r)=>{"use strict";const o=r(8578);class Month extends o{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1;this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth();let i=this.token.length;return i===2?String(t+1).padStart(2,"0"):i===3?this.locales.monthsShort[t]:i===4?this.locales.months[t]:String(t+1)}}t.exports=Month},1614:(t,i,r)=>{"use strict";const o=r(8578);class Seconds extends o{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Seconds},3537:(t,i,r)=>{"use strict";const o=r(8578);class Year extends o{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}}t.exports=Year},6807:(t,i,r)=>{"use strict";function asyncGeneratorStep(t,i,r,o,a,h,l){try{var c=t[h](l);var u=c.value}catch(t){r(t);return}if(c.done){i(u)}else{Promise.resolve(u).then(o,a)}}function _asyncToGenerator(t){return function(){var i=this,r=arguments;return new Promise((function(o,a){var h=t.apply(i,r);function _next(t){asyncGeneratorStep(h,o,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(h,o,a,_next,_throw,"throw",t)}_next(undefined)}))}}const o=r(5178);const a=r(9886);const h=r(2907),l=h.erase,c=h.cursor;const u=r(6591),d=u.style,p=u.clear,g=u.figures,y=u.wrap,b=u.entriesToDisplay;const getVal=(t,i)=>t[i]&&(t[i].value||t[i].title||t[i]);const getTitle=(t,i)=>t[i]&&(t[i].title||t[i].value||t[i]);const getIndex=(t,i)=>{const r=t.findIndex((t=>t.value===i||t.title===i));return r>-1?r:undefined};class AutocompletePrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.suggest=t.suggest;this.choices=t.choices;this.initial=typeof t.initial==="number"?t.initial:getIndex(t.choices,t.initial);this.select=this.initial||t.cursor||0;this.i18n={noMatches:t.noMatches||"no matches found"};this.fallback=t.fallback||this.initial;this.clearFirst=t.clearFirst||false;this.suggestions=[];this.input="";this.limit=t.limit||10;this.cursor=0;this.transform=d.render(t.style);this.scale=this.transform.scale;this.render=this.render.bind(this);this.complete=this.complete.bind(this);this.clear=p("",this.out.columns);this.complete(this.render);this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;if(typeof this._fb==="number")t=this.choices[this._fb];else if(typeof this._fb==="string")t={title:this._fb};return t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t;if(this.suggestions.length>0)this.value=getVal(this.suggestions,t);else this.value=this.fallback.value;this.fire()}complete(t){var i=this;return _asyncToGenerator((function*(){const r=i.completing=i.suggest(i.input,i.choices);const o=yield r;if(i.completing!==r)return;i.suggestions=o.map(((t,i,r)=>({title:getTitle(r,i),value:getVal(r,i),description:t.description})));i.completing=false;const a=Math.max(o.length-1,0);i.moveSelect(Math.min(a,i.select));t&&t()}))()}reset(){this.input="";this.complete((()=>{this.moveSelect(this.initial!==void 0?this.initial:0);this.render()}));this.render()}exit(){if(this.clearFirst&&this.input.length>0){this.reset()}else{this.done=this.exited=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}}abort(){this.done=this.aborted=true;this.exited=false;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=this.exited=false;this.fire();this.render();this.out.write("\n");this.close()}_(t,i){let r=this.input.slice(0,this.cursor);let o=this.input.slice(this.cursor);this.input=`${r}${t}${o}`;this.cursor=r.length+1;this.complete(this.render);this.render()}delete(){if(this.cursor===0)return this.bell();let t=this.input.slice(0,this.cursor-1);let i=this.input.slice(this.cursor);this.input=`${t}${i}`;this.complete(this.render);this.cursor=this.cursor-1;this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor);let i=this.input.slice(this.cursor+1);this.input=`${t}${i}`;this.complete(this.render);this.render()}first(){this.moveSelect(0);this.render()}last(){this.moveSelect(this.suggestions.length-1);this.render()}up(){if(this.select===0){this.moveSelect(this.suggestions.length-1)}else{this.moveSelect(this.select-1)}this.render()}down(){if(this.select===this.suggestions.length-1){this.moveSelect(0)}else{this.moveSelect(this.select+1)}this.render()}next(){if(this.select===this.suggestions.length-1){this.moveSelect(0)}else this.moveSelect(this.select+1);this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1));this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0));this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1;this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1;this.render()}renderOption(t,i,r,a){let h;let l=r?g.arrowUp:a?g.arrowDown:" ";let c=i?o.cyan().underline(t.title):t.title;l=(i?o.cyan(g.pointer)+" ":"  ")+l;if(t.description){h=` - ${t.description}`;if(l.length+c.length+h.length>=this.out.columns||t.description.split(/\r?\n/).length>1){h="\n"+y(t.description,{margin:3,width:this.out.columns})}}return l+" "+c+o.gray(h||"")}render(){if(this.closed)return;if(this.firstRender)this.out.write(c.hide);else this.out.write(p(this.outputText,this.out.columns));super.render();let t=b(this.select,this.choices.length,this.limit),i=t.startIndex,r=t.endIndex;this.outputText=[d.symbol(this.done,this.aborted,this.exited),o.bold(this.msg),d.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" ");if(!this.done){const t=this.suggestions.slice(i,r).map(((t,o)=>this.renderOption(t,this.select===o+i,o===0&&i>0,o+i===r-1&&r<this.choices.length))).join("\n");this.outputText+=`\n`+(t||o.gray(this.fallback.title))}this.out.write(l.line+c.to(0)+this.outputText)}}t.exports=AutocompletePrompt},3930:(t,i,r)=>{"use strict";const o=r(5178);const a=r(2907),h=a.cursor;const l=r(6240);const c=r(6591),u=c.clear,d=c.style,p=c.figures;class AutocompleteMultiselectPrompt extends l{constructor(t={}){t.overrideRender=true;super(t);this.inputValue="";this.clear=u("",this.out.columns);this.filteredOptions=this.value;this.render()}last(){this.cursor=this.filteredOptions.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length;this.render()}up(){if(this.cursor===0){this.cursor=this.filteredOptions.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.filteredOptions.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.filteredOptions[this.cursor].selected=false;this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=true;this.render()}delete(){if(this.inputValue.length){this.inputValue=this.inputValue.substr(0,this.inputValue.length-1);this.updateFilteredOptions()}}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>{if(this.inputValue){if(typeof t.title==="string"){if(t.title.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}if(typeof t.value==="string"){if(t.value.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}return false}return true}));const i=this.filteredOptions.findIndex((i=>i===t));this.cursor=i<0?0:i;this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected){t.selected=false;this.render()}else if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices){return this.bell()}else{t.selected=true;this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t;this.updateFilteredOptions()}_(t,i){if(t===" "){this.handleSpaceToggle()}else{this.handleInputChange(t)}}renderInstructions(){if(this.instructions===undefined||this.instructions){if(typeof this.instructions==="string"){return this.instructions}return`\nInstructions:\n    ${p.arrowUp}/${p.arrowDown}: Highlight option\n    ${p.arrowLeft}/${p.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`}return""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:o.gray("Enter something to filter")}\n`}renderOption(t,i,r){let a;if(i.disabled)a=t===r?o.gray().underline(i.title):o.strikethrough().gray(i.title);else a=t===r?o.cyan().underline(i.title):i.title;return(i.selected?o.green(p.radioOn):p.radioOff)+"  "+a}renderDoneOrInstructions(){if(this.done){return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ")}const t=[o.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];if(this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled){t.push(o.yellow(this.warn))}return t.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(h.hide);super.render();let t=[d.symbol(this.done,this.aborted),o.bold(this.msg),d.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){t+=o.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}t+=this.renderOptions(this.filteredOptions);this.out.write(this.clear+t);this.clear=u(t,this.out.columns)}}t.exports=AutocompleteMultiselectPrompt},6018:(t,i,r)=>{"use strict";const o=r(5178);const a=r(9886);const h=r(6591),l=h.style,c=h.clear;const u=r(2907),d=u.erase,p=u.cursor;class ConfirmPrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.value=t.initial;this.initialValue=!!t.initial;this.yesMsg=t.yes||"yes";this.yesOption=t.yesOption||"(Y/n)";this.noMsg=t.no||"no";this.noOption=t.noOption||"(y/N)";this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.value=this.value||false;this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}_(t,i){if(t.toLowerCase()==="y"){this.value=true;return this.submit()}if(t.toLowerCase()==="n"){this.value=false;return this.submit()}return this.bell()}render(){if(this.closed)return;if(this.firstRender)this.out.write(p.hide);else this.out.write(c(this.outputText,this.out.columns));super.render();this.outputText=[l.symbol(this.done,this.aborted),o.bold(this.msg),l.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:o.gray(this.initialValue?this.yesOption:this.noOption)].join(" ");this.out.write(d.line+p.to(0)+this.outputText)}}t.exports=ConfirmPrompt},6030:(t,i,r)=>{"use strict";function asyncGeneratorStep(t,i,r,o,a,h,l){try{var c=t[h](l);var u=c.value}catch(t){r(t);return}if(c.done){i(u)}else{Promise.resolve(u).then(o,a)}}function _asyncToGenerator(t){return function(){var i=this,r=arguments;return new Promise((function(o,a){var h=t.apply(i,r);function _next(t){asyncGeneratorStep(h,o,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(h,o,a,_next,_throw,"throw",t)}_next(undefined)}))}}const o=r(5178);const a=r(9886);const h=r(6591),l=h.style,c=h.clear,u=h.figures;const d=r(2907),p=d.erase,g=d.cursor;const y=r(9083),b=y.DatePart,w=y.Meridiem,_=y.Day,v=y.Hours,E=y.Milliseconds,S=y.Minutes,x=y.Month,O=y.Seconds,T=y.Year;const R=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g;const k={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new _(t),3:t=>new x(t),4:t=>new T(t),5:t=>new w(t),6:t=>new v(t),7:t=>new S(t),8:t=>new O(t),9:t=>new E(t)};const A={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class DatePrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.cursor=0;this.typed="";this.locales=Object.assign(A,t.locales);this._date=t.initial||new Date;this.errorMsg=t.error||"Please Enter A Valid Value";this.validator=t.validate||(()=>true);this.mask=t.mask||"YYYY-MM-DD HH:mm:ss";this.clear=c("",this.out.columns);this.render()}get value(){return this.date}get date(){return this._date}set date(t){if(t)this._date.setTime(t.getTime())}set mask(t){let i;this.parts=[];while(i=R.exec(t)){let t=i.shift();let r=i.findIndex((t=>t!=null));this.parts.push(r in k?k[r]({token:i[r]||t,date:this.date,parts:this.parts,locales:this.locales}):i[r]||t)}let r=this.parts.reduce(((t,i)=>{if(typeof i==="string"&&typeof t[t.length-1]==="string")t[t.length-1]+=i;else t.push(i);return t}),[]);this.parts.splice(0);this.parts.push(...r);this.reset()}moveCursor(t){this.typed="";this.cursor=t;this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof b)));this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write("\n");this.close()}validate(){var t=this;return _asyncToGenerator((function*(){let i=yield t.validator(t.value);if(typeof i==="string"){t.errorMsg=i;i=false}t.error=!i}))()}submit(){var t=this;return _asyncToGenerator((function*(){yield t.validate();if(t.error){t.color="red";t.fire();t.render();return}t.done=true;t.aborted=false;t.fire();t.render();t.out.write("\n");t.close()}))()}up(){this.typed="";this.parts[this.cursor].up();this.render()}down(){this.typed="";this.parts[this.cursor].down();this.render()}left(){let t=this.parts[this.cursor].prev();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t));this.render()}right(){let t=this.parts[this.cursor].next();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t));this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof b)));this.render()}_(t){if(/\d/.test(t)){this.typed+=t;this.parts[this.cursor].setTo(this.typed);this.render()}}render(){if(this.closed)return;if(this.firstRender)this.out.write(g.hide);else this.out.write(c(this.outputText,this.out.columns));super.render();this.outputText=[l.symbol(this.done,this.aborted),o.bold(this.msg),l.delimiter(false),this.parts.reduce(((t,i,r)=>t.concat(r===this.cursor&&!this.done?o.cyan().underline(i.toString()):i)),[]).join("")].join(" ");if(this.error){this.outputText+=this.errorMsg.split("\n").reduce(((t,i,r)=>t+`\n${r?` `:u.pointerSmall} ${o.red().italic(i)}`),``)}this.out.write(p.line+g.to(0)+this.outputText)}}t.exports=DatePrompt},9598:(t,i,r)=>{"use strict";t.exports={TextPrompt:r(3484),SelectPrompt:r(2754),TogglePrompt:r(4894),DatePrompt:r(6030),NumberPrompt:r(9829),MultiselectPrompt:r(6240),AutocompletePrompt:r(6807),AutocompleteMultiselectPrompt:r(3930),ConfirmPrompt:r(6018)}},6240:(t,i,r)=>{"use strict";const o=r(5178);const a=r(2907),h=a.cursor;const l=r(9886);const c=r(6591),u=c.clear,d=c.figures,p=c.style,g=c.wrap,y=c.entriesToDisplay;class MultiselectPrompt extends l{constructor(t={}){super(t);this.msg=t.message;this.cursor=t.cursor||0;this.scrollIndex=t.cursor||0;this.hint=t.hint||"";this.warn=t.warn||"- This option is disabled -";this.minSelected=t.min;this.showMinError=false;this.maxChoices=t.max;this.instructions=t.instructions;this.optionsPerPage=t.optionsPerPage||10;this.value=t.choices.map(((t,i)=>{if(typeof t==="string")t={title:t,value:i};return{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===undefined?i:t.value),selected:t&&t.selected,disabled:t&&t.disabled}}));this.clear=u("",this.out.columns);if(!t.overrideRender){this.render()}}reset(){this.value.map((t=>!t.selected));this.cursor=0;this.fire();this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){const t=this.value.filter((t=>t.selected));if(this.minSelected&&t.length<this.minSelected){this.showMinError=true;this.render()}else{this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.value.length;this.render()}up(){if(this.cursor===0){this.cursor=this.value.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.value.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.value[this.cursor].selected=false;this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=true;this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected){t.selected=false;this.render()}else if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices){return this.bell()}else{t.selected=true;this.render()}}toggleAll(){if(this.maxChoices!==undefined||this.value[this.cursor].disabled){return this.bell()}const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((i=>i.selected=t));this.render()}_(t,i){if(t===" "){this.handleSpaceToggle()}else if(t==="a"){this.toggleAll()}else{return this.bell()}}renderInstructions(){if(this.instructions===undefined||this.instructions){if(typeof this.instructions==="string"){return this.instructions}return"\nInstructions:\n"+`    ${d.arrowUp}/${d.arrowDown}: Highlight option\n`+`    ${d.arrowLeft}/${d.arrowRight}/[space]: Toggle selection\n`+(this.maxChoices===undefined?`    a: Toggle all\n`:"")+`    enter/return: Complete answer`}return""}renderOption(t,i,r,a){const h=(i.selected?o.green(d.radioOn):d.radioOff)+" "+a+" ";let l,c;if(i.disabled){l=t===r?o.gray().underline(i.title):o.strikethrough().gray(i.title)}else{l=t===r?o.cyan().underline(i.title):i.title;if(t===r&&i.description){c=` - ${i.description}`;if(h.length+l.length+c.length>=this.out.columns||i.description.split(/\r?\n/).length>1){c="\n"+g(i.description,{margin:h.length,width:this.out.columns})}}}return h+l+o.gray(c||"")}paginateOptions(t){if(t.length===0){return o.red("No matches for this query.")}let i=y(this.cursor,t.length,this.optionsPerPage),r=i.startIndex,a=i.endIndex;let h,l=[];for(let i=r;i<a;i++){if(i===r&&r>0){h=d.arrowUp}else if(i===a-1&&a<t.length){h=d.arrowDown}else{h=" "}l.push(this.renderOption(this.cursor,t[i],i,h))}return"\n"+l.join("\n")}renderOptions(t){if(!this.done){return this.paginateOptions(t)}return""}renderDoneOrInstructions(){if(this.done){return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ")}const t=[o.gray(this.hint),this.renderInstructions()];if(this.value[this.cursor].disabled){t.push(o.yellow(this.warn))}return t.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(h.hide);super.render();let t=[p.symbol(this.done,this.aborted),o.bold(this.msg),p.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){t+=o.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}t+=this.renderOptions(this.value);this.out.write(this.clear+t);this.clear=u(t,this.out.columns)}}t.exports=MultiselectPrompt},9829:(t,i,r)=>{"use strict";function asyncGeneratorStep(t,i,r,o,a,h,l){try{var c=t[h](l);var u=c.value}catch(t){r(t);return}if(c.done){i(u)}else{Promise.resolve(u).then(o,a)}}function _asyncToGenerator(t){return function(){var i=this,r=arguments;return new Promise((function(o,a){var h=t.apply(i,r);function _next(t){asyncGeneratorStep(h,o,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(h,o,a,_next,_throw,"throw",t)}_next(undefined)}))}}const o=r(5178);const a=r(9886);const h=r(2907),l=h.cursor,c=h.erase;const u=r(6591),d=u.style,p=u.figures,g=u.clear,y=u.lines;const b=/[0-9]/;const isDef=t=>t!==undefined;const round=(t,i)=>{let r=Math.pow(10,i);return Math.round(t*r)/r};class NumberPrompt extends a{constructor(t={}){super(t);this.transform=d.render(t.style);this.msg=t.message;this.initial=isDef(t.initial)?t.initial:"";this.float=!!t.float;this.round=t.round||2;this.inc=t.increment||1;this.min=isDef(t.min)?t.min:-Infinity;this.max=isDef(t.max)?t.max:Infinity;this.errorMsg=t.error||`Please Enter A Valid Value`;this.validator=t.validate||(()=>true);this.color=`cyan`;this.value=``;this.typed=``;this.lastHit=0;this.render()}set value(t){if(!t&&t!==0){this.placeholder=true;this.rendered=o.gray(this.transform.render(`${this.initial}`));this._value=``}else{this.placeholder=false;this.rendered=this.transform.render(`${round(t,this.round)}`);this._value=round(t,this.round)}this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return t===`-`||t===`.`&&this.float||b.test(t)}reset(){this.typed=``;this.value=``;this.fire();this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=t!==``?t:this.initial;this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write(`\n`);this.close()}validate(){var t=this;return _asyncToGenerator((function*(){let i=yield t.validator(t.value);if(typeof i===`string`){t.errorMsg=i;i=false}t.error=!i}))()}submit(){var t=this;return _asyncToGenerator((function*(){yield t.validate();if(t.error){t.color=`red`;t.fire();t.render();return}let i=t.value;t.value=i!==``?i:t.initial;t.done=true;t.aborted=false;t.error=false;t.fire();t.render();t.out.write(`\n`);t.close()}))()}up(){this.typed=``;if(this.value===""){this.value=this.min-this.inc}if(this.value>=this.max)return this.bell();this.value+=this.inc;this.color=`cyan`;this.fire();this.render()}down(){this.typed=``;if(this.value===""){this.value=this.min+this.inc}if(this.value<=this.min)return this.bell();this.value-=this.inc;this.color=`cyan`;this.fire();this.render()}delete(){let t=this.value.toString();if(t.length===0)return this.bell();this.value=this.parse(t=t.slice(0,-1))||``;if(this.value!==""&&this.value<this.min){this.value=this.min}this.color=`cyan`;this.fire();this.render()}next(){this.value=this.initial;this.fire();this.render()}_(t,i){if(!this.valid(t))return this.bell();const r=Date.now();if(r-this.lastHit>1e3)this.typed=``;this.typed+=t;this.lastHit=r;this.color=`cyan`;if(t===`.`)return this.fire();this.value=Math.min(this.parse(this.typed),this.max);if(this.value>this.max)this.value=this.max;if(this.value<this.min)this.value=this.min;this.fire();this.render()}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(l.down(y(this.outputError,this.out.columns)-1)+g(this.outputError,this.out.columns));this.out.write(g(this.outputText,this.out.columns))}super.render();this.outputError="";this.outputText=[d.symbol(this.done,this.aborted),o.bold(this.msg),d.delimiter(this.done),!this.done||!this.done&&!this.placeholder?o[this.color]().underline(this.rendered):this.rendered].join(` `);if(this.error){this.outputError+=this.errorMsg.split(`\n`).reduce(((t,i,r)=>t+`\n${r?` `:p.pointerSmall} ${o.red().italic(i)}`),``)}this.out.write(c.line+l.to(0)+this.outputText+l.save+this.outputError+l.restore)}}t.exports=NumberPrompt},9886:(t,i,r)=>{"use strict";const o=r(4521);const a=r(6591),h=a.action;const l=r(2361);const c=r(2907),u=c.beep,d=c.cursor;const p=r(5178);class Prompt extends l{constructor(t={}){super();this.firstRender=true;this.in=t.stdin||process.stdin;this.out=t.stdout||process.stdout;this.onRender=(t.onRender||(()=>void 0)).bind(this);const i=o.createInterface({input:this.in,escapeCodeTimeout:50});o.emitKeypressEvents(this.in,i);if(this.in.isTTY)this.in.setRawMode(true);const r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1;const keypress=(t,i)=>{let o=h(i,r);if(o===false){this._&&this._(t,i)}else if(typeof this[o]==="function"){this[o](i)}else{this.bell()}};this.close=()=>{this.out.write(d.show);this.in.removeListener("keypress",keypress);if(this.in.isTTY)this.in.setRawMode(false);i.close();this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value);this.closed=true};this.in.on("keypress",keypress)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(u)}render(){this.onRender(p);if(this.firstRender)this.firstRender=false}}t.exports=Prompt},2754:(t,i,r)=>{"use strict";const o=r(5178);const a=r(9886);const h=r(6591),l=h.style,c=h.clear,u=h.figures,d=h.wrap,p=h.entriesToDisplay;const g=r(2907),y=g.cursor;class SelectPrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.hint=t.hint||"- Use arrow-keys. Return to submit.";this.warn=t.warn||"- This option is disabled";this.cursor=t.initial||0;this.choices=t.choices.map(((t,i)=>{if(typeof t==="string")t={title:t,value:i};return{title:t&&(t.title||t.value||t),value:t&&(t.value===undefined?i:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}}));this.optionsPerPage=t.optionsPerPage||10;this.value=(this.choices[this.cursor]||{}).value;this.clear=c("",this.out.columns);this.render()}moveCursor(t){this.cursor=t;this.value=this.choices[t].value;this.fire()}reset(){this.moveCursor(0);this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){if(!this.selection.disabled){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}else this.bell()}first(){this.moveCursor(0);this.render()}last(){this.moveCursor(this.choices.length-1);this.render()}up(){if(this.cursor===0){this.moveCursor(this.choices.length-1)}else{this.moveCursor(this.cursor-1)}this.render()}down(){if(this.cursor===this.choices.length-1){this.moveCursor(0)}else{this.moveCursor(this.cursor+1)}this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length);this.render()}_(t,i){if(t===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;if(this.firstRender)this.out.write(y.hide);else this.out.write(c(this.outputText,this.out.columns));super.render();let t=p(this.cursor,this.choices.length,this.optionsPerPage),i=t.startIndex,r=t.endIndex;this.outputText=[l.symbol(this.done,this.aborted),o.bold(this.msg),l.delimiter(false),this.done?this.selection.title:this.selection.disabled?o.yellow(this.warn):o.gray(this.hint)].join(" ");if(!this.done){this.outputText+="\n";for(let t=i;t<r;t++){let a,h,l="",c=this.choices[t];if(t===i&&i>0){h=u.arrowUp}else if(t===r-1&&r<this.choices.length){h=u.arrowDown}else{h=" "}if(c.disabled){a=this.cursor===t?o.gray().underline(c.title):o.strikethrough().gray(c.title);h=(this.cursor===t?o.bold().gray(u.pointer)+" ":"  ")+h}else{a=this.cursor===t?o.cyan().underline(c.title):c.title;h=(this.cursor===t?o.cyan(u.pointer)+" ":"  ")+h;if(c.description&&this.cursor===t){l=` - ${c.description}`;if(h.length+a.length+l.length>=this.out.columns||c.description.split(/\r?\n/).length>1){l="\n"+d(c.description,{margin:3,width:this.out.columns})}}}this.outputText+=`${h} ${a}${o.gray(l)}\n`}}this.out.write(this.outputText)}}t.exports=SelectPrompt},3484:(t,i,r)=>{"use strict";function asyncGeneratorStep(t,i,r,o,a,h,l){try{var c=t[h](l);var u=c.value}catch(t){r(t);return}if(c.done){i(u)}else{Promise.resolve(u).then(o,a)}}function _asyncToGenerator(t){return function(){var i=this,r=arguments;return new Promise((function(o,a){var h=t.apply(i,r);function _next(t){asyncGeneratorStep(h,o,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(h,o,a,_next,_throw,"throw",t)}_next(undefined)}))}}const o=r(5178);const a=r(9886);const h=r(2907),l=h.erase,c=h.cursor;const u=r(6591),d=u.style,p=u.clear,g=u.lines,y=u.figures;class TextPrompt extends a{constructor(t={}){super(t);this.transform=d.render(t.style);this.scale=this.transform.scale;this.msg=t.message;this.initial=t.initial||``;this.validator=t.validate||(()=>true);this.value=``;this.errorMsg=t.error||`Please Enter A Valid Value`;this.cursor=Number(!!this.initial);this.cursorOffset=0;this.clear=p(``,this.out.columns);this.render()}set value(t){if(!t&&this.initial){this.placeholder=true;this.rendered=o.gray(this.transform.render(this.initial))}else{this.placeholder=false;this.rendered=this.transform.render(t)}this._value=t;this.fire()}get value(){return this._value}reset(){this.value=``;this.cursor=Number(!!this.initial);this.cursorOffset=0;this.fire();this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial;this.done=this.aborted=true;this.error=false;this.red=false;this.fire();this.render();this.out.write("\n");this.close()}validate(){var t=this;return _asyncToGenerator((function*(){let i=yield t.validator(t.value);if(typeof i===`string`){t.errorMsg=i;i=false}t.error=!i}))()}submit(){var t=this;return _asyncToGenerator((function*(){t.value=t.value||t.initial;t.cursorOffset=0;t.cursor=t.rendered.length;yield t.validate();if(t.error){t.red=true;t.fire();t.render();return}t.done=true;t.aborted=false;t.fire();t.render();t.out.write("\n");t.close()}))()}next(){if(!this.placeholder)return this.bell();this.value=this.initial;this.cursor=this.rendered.length;this.fire();this.render()}moveCursor(t){if(this.placeholder)return;this.cursor=this.cursor+t;this.cursorOffset+=t}_(t,i){let r=this.value.slice(0,this.cursor);let o=this.value.slice(this.cursor);this.value=`${r}${t}${o}`;this.red=false;this.cursor=this.placeholder?0:r.length+1;this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1);let i=this.value.slice(this.cursor);this.value=`${t}${i}`;this.red=false;if(this.isCursorAtStart()){this.cursorOffset=0}else{this.cursorOffset++;this.moveCursor(-1)}this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor);let i=this.value.slice(this.cursor+1);this.value=`${t}${i}`;this.red=false;if(this.isCursorAtEnd()){this.cursorOffset=0}else{this.cursorOffset++}this.render()}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length;this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1);this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1);this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(c.down(g(this.outputError,this.out.columns)-1)+p(this.outputError,this.out.columns));this.out.write(p(this.outputText,this.out.columns))}super.render();this.outputError="";this.outputText=[d.symbol(this.done,this.aborted),o.bold(this.msg),d.delimiter(this.done),this.red?o.red(this.rendered):this.rendered].join(` `);if(this.error){this.outputError+=this.errorMsg.split(`\n`).reduce(((t,i,r)=>t+`\n${r?" ":y.pointerSmall} ${o.red().italic(i)}`),``)}this.out.write(l.line+c.to(0)+this.outputText+c.save+this.outputError+c.restore+c.move(this.cursorOffset,0))}}t.exports=TextPrompt},4894:(t,i,r)=>{"use strict";const o=r(5178);const a=r(9886);const h=r(6591),l=h.style,c=h.clear;const u=r(2907),d=u.cursor,p=u.erase;class TogglePrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.value=!!t.initial;this.active=t.active||"on";this.inactive=t.inactive||"off";this.initialValue=this.value;this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}deactivate(){if(this.value===false)return this.bell();this.value=false;this.render()}activate(){if(this.value===true)return this.bell();this.value=true;this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value;this.fire();this.render()}_(t,i){if(t===" "){this.value=!this.value}else if(t==="1"){this.value=true}else if(t==="0"){this.value=false}else return this.bell();this.render()}render(){if(this.closed)return;if(this.firstRender)this.out.write(d.hide);else this.out.write(c(this.outputText,this.out.columns));super.render();this.outputText=[l.symbol(this.done,this.aborted),o.bold(this.msg),l.delimiter(this.done),this.value?this.inactive:o.cyan().underline(this.inactive),o.gray("/"),this.value?o.cyan().underline(this.active):this.active].join(" ");this.out.write(p.line+d.to(0)+this.outputText)}}t.exports=TogglePrompt},4395:(t,i,r)=>{"use strict";function ownKeys(t,i){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);if(i){o=o.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))}r.push.apply(r,o)}return r}function _objectSpread(t){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(r),true).forEach((function(i){_defineProperty(t,i,r[i])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{ownKeys(Object(r)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))}))}}return t}function _defineProperty(t,i,r){if(i in t){Object.defineProperty(t,i,{value:r,enumerable:true,configurable:true,writable:true})}else{t[i]=r}return t}function _createForOfIteratorHelper(t,i){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||i&&t&&typeof t.length==="number"){if(r)t=r;var o=0;var a=function F(){};return{s:a,n:function n(){if(o>=t.length)return{done:true};return{done:false,value:t[o++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h=true,l=false,c;return{s:function s(){r=r.call(t)},n:function n(){var t=r.next();h=t.done;return t},e:function e(t){l=true;c=t},f:function f(){try{if(!h&&r.return!=null)r.return()}finally{if(l)throw c}}}}function _unsupportedIterableToArray(t,i){if(!t)return;if(typeof t==="string")return _arrayLikeToArray(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor)r=t.constructor.name;if(r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,i)}function _arrayLikeToArray(t,i){if(i==null||i>t.length)i=t.length;for(var r=0,o=new Array(i);r<i;r++)o[r]=t[r];return o}function asyncGeneratorStep(t,i,r,o,a,h,l){try{var c=t[h](l);var u=c.value}catch(t){r(t);return}if(c.done){i(u)}else{Promise.resolve(u).then(o,a)}}function _asyncToGenerator(t){return function(){var i=this,r=arguments;return new Promise((function(o,a){var h=t.apply(i,r);function _next(t){asyncGeneratorStep(h,o,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(h,o,a,_next,_throw,"throw",t)}_next(undefined)}))}}const o=r(6102);const a=["suggest","format","onState","validate","onRender","type"];const noop=()=>{};function prompt(){return _prompt.apply(this,arguments)}function _prompt(){_prompt=_asyncToGenerator((function*(t=[],{onSubmit:i=noop,onCancel:r=noop}={}){const h={};const l=prompt._override||{};t=[].concat(t);let c,u,d,p,g,y;const b=function(){var t=_asyncToGenerator((function*(t,i,r=false){if(!r&&t.validate&&t.validate(i)!==true){return}return t.format?yield t.format(i,h):i}));return function getFormattedAnswer(i,r){return t.apply(this,arguments)}}();var w=_createForOfIteratorHelper(t),_;try{for(w.s();!(_=w.n()).done;){u=_.value;var v=u;p=v.name;g=v.type;if(typeof g==="function"){g=yield g(c,_objectSpread({},h),u);u["type"]=g}if(!g)continue;for(let t in u){if(a.includes(t))continue;let i=u[t];u[t]=typeof i==="function"?yield i(c,_objectSpread({},h),y):i}y=u;if(typeof u.message!=="string"){throw new Error("prompt message is required")}var E=u;p=E.name;g=E.type;if(o[g]===void 0){throw new Error(`prompt type (${g}) is not defined`)}if(l[u.name]!==undefined){c=yield b(u,l[u.name]);if(c!==undefined){h[p]=c;continue}}try{c=prompt._injected?getInjectedAnswer(prompt._injected,u.initial):yield o[g](u);h[p]=c=yield b(u,c,true);d=yield i(u,c,h)}catch(t){d=!(yield r(u,h))}if(d)return h}}catch(t){w.e(t)}finally{w.f()}return h}));return _prompt.apply(this,arguments)}function getInjectedAnswer(t,i){const r=t.shift();if(r instanceof Error){throw r}return r===undefined?i:r}function inject(t){prompt._injected=(prompt._injected||[]).concat(t)}function override(t){prompt._override=Object.assign({},t)}t.exports=Object.assign(prompt,{prompt:prompt,prompts:o,inject:inject,override:override})},6102:(t,i,r)=>{"use strict";const o=i;const a=r(9598);const noop=t=>t;function toPrompt(t,i,r={}){return new Promise(((o,h)=>{const l=new a[t](i);const c=r.onAbort||noop;const u=r.onSubmit||noop;const d=r.onExit||noop;l.on("state",i.onState||noop);l.on("submit",(t=>o(u(t))));l.on("exit",(t=>o(d(t))));l.on("abort",(t=>h(c(t))))}))}o.text=t=>toPrompt("TextPrompt",t);o.password=t=>{t.style="password";return o.text(t)};o.invisible=t=>{t.style="invisible";return o.text(t)};o.number=t=>toPrompt("NumberPrompt",t);o.date=t=>toPrompt("DatePrompt",t);o.confirm=t=>toPrompt("ConfirmPrompt",t);o.list=t=>{const i=t.separator||",";return toPrompt("TextPrompt",t,{onSubmit:t=>t.split(i).map((t=>t.trim()))})};o.toggle=t=>toPrompt("TogglePrompt",t);o.select=t=>toPrompt("SelectPrompt",t);o.multiselect=t=>{t.choices=[].concat(t.choices||[]);const toSelected=t=>t.filter((t=>t.selected)).map((t=>t.value));return toPrompt("MultiselectPrompt",t,{onAbort:toSelected,onSubmit:toSelected})};o.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const toSelected=t=>t.filter((t=>t.selected)).map((t=>t.value));return toPrompt("AutocompleteMultiselectPrompt",t,{onAbort:toSelected,onSubmit:toSelected})};const byTitle=(t,i)=>Promise.resolve(i.filter((i=>i.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));o.autocomplete=t=>{t.suggest=t.suggest||byTitle;t.choices=[].concat(t.choices||[]);return toPrompt("AutocompletePrompt",t)}},4157:t=>{"use strict";t.exports=(t,i)=>{if(t.meta&&t.name!=="escape")return;if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c")return"abort";if(t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(i){if(t.name==="j")return"down";if(t.name==="k")return"up"}if(t.name==="return")return"submit";if(t.name==="enter")return"submit";if(t.name==="backspace")return"delete";if(t.name==="delete")return"deleteForward";if(t.name==="abort")return"abort";if(t.name==="escape")return"exit";if(t.name==="tab")return"next";if(t.name==="pagedown")return"nextPage";if(t.name==="pageup")return"prevPage";if(t.name==="home")return"home";if(t.name==="end")return"end";if(t.name==="up")return"up";if(t.name==="down")return"down";if(t.name==="right")return"right";if(t.name==="left")return"left";return false}},1186:(t,i,r)=>{"use strict";function _createForOfIteratorHelper(t,i){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||i&&t&&typeof t.length==="number"){if(r)t=r;var o=0;var a=function F(){};return{s:a,n:function n(){if(o>=t.length)return{done:true};return{done:false,value:t[o++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h=true,l=false,c;return{s:function s(){r=r.call(t)},n:function n(){var t=r.next();h=t.done;return t},e:function e(t){l=true;c=t},f:function f(){try{if(!h&&r.return!=null)r.return()}finally{if(l)throw c}}}}function _unsupportedIterableToArray(t,i){if(!t)return;if(typeof t==="string")return _arrayLikeToArray(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor)r=t.constructor.name;if(r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,i)}function _arrayLikeToArray(t,i){if(i==null||i>t.length)i=t.length;for(var r=0,o=new Array(i);r<i;r++)o[r]=t[r];return o}const o=r(4479);const a=r(2907),h=a.erase,l=a.cursor;const width=t=>[...o(t)].length;t.exports=function(t,i){if(!i)return h.line+l.to(0);let r=0;const o=t.split(/\r?\n/);var a=_createForOfIteratorHelper(o),c;try{for(a.s();!(c=a.n()).done;){let t=c.value;r+=1+Math.floor(Math.max(width(t)-1,0)/i)}}catch(t){a.e(t)}finally{a.f()}return h.lines(r)}},8443:t=>{"use strict";t.exports=(t,i,r)=>{r=r||i;let o=Math.min(i-r,t-Math.floor(r/2));if(o<0)o=0;let a=Math.min(o+r,i);return{startIndex:o,endIndex:a}}},8666:t=>{"use strict";const i={arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",radioOn:"",radioOff:"",tick:"",cross:"",ellipsis:"",pointerSmall:"",line:"",pointer:""};const r={arrowUp:i.arrowUp,arrowDown:i.arrowDown,arrowLeft:i.arrowLeft,arrowRight:i.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"",cross:"",ellipsis:"...",pointerSmall:"",line:"",pointer:">"};const o=process.platform==="win32"?r:i;t.exports=o},6591:(t,i,r)=>{"use strict";t.exports={action:r(4157),clear:r(1186),style:r(1928),strip:r(4479),figures:r(8666),lines:r(4923),wrap:r(5438),entriesToDisplay:r(8443)}},4923:(t,i,r)=>{"use strict";const o=r(4479);t.exports=function(t,i){let r=String(o(t)||"").split(/\r?\n/);if(!i)return r.length;return r.map((t=>Math.ceil(t.length/i))).reduce(((t,i)=>t+i))}},4479:t=>{"use strict";t.exports=t=>{const i=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|");const r=new RegExp(i,"g");return typeof t==="string"?t.replace(r,""):t}},1928:(t,i,r)=>{"use strict";const o=r(5178);const a=r(8666);const h=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}});const render=t=>h[t]||h.default;const l=Object.freeze({aborted:o.red(a.cross),done:o.green(a.tick),exited:o.yellow(a.cross),default:o.cyan("?")});const symbol=(t,i,r)=>i?l.aborted:r?l.exited:t?l.done:l.default;const delimiter=t=>o.gray(t?a.ellipsis:a.pointerSmall);const item=(t,i)=>o.gray(t?i?a.pointerSmall:"+":a.line);t.exports={styles:h,render:render,symbols:l,symbol:symbol,delimiter:delimiter,item:item}},5438:t=>{"use strict";t.exports=(t,i={})=>{const r=Number.isSafeInteger(parseInt(i.margin))?new Array(parseInt(i.margin)).fill(" ").join(""):i.margin||"";const o=i.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,i)=>{if(i.length+r.length>=o||t[t.length-1].length+i.length+1<o)t[t.length-1]+=` ${i}`;else t.push(`${r}${i}`);return t}),[r]).join("\n"))).join("\n")}},3309:(t,i,r)=>{function isNodeLT(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let i=0,r=process.versions.node.split(".").map(Number);for(;i<t.length;i++){if(r[i]>t[i])return false;if(t[i]>r[i])return true}return false}t.exports=isNodeLT("8.6.0")?r(4395):r(8202)},9702:t=>{"use strict";class DatePart{constructor({token:t,date:i,parts:r,locales:o}){this.token=t;this.date=i||new Date;this.parts=r||[this];this.locales=o||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find(((i,r)=>r>t&&i instanceof DatePart))}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const i=t.indexOf(this);return t.find(((t,r)=>r>i&&t instanceof DatePart))}toString(){return String(this.date)}}t.exports=DatePart},8879:(t,i,r)=>{"use strict";const o=r(9702);const pos=t=>{t=t%10;return t===1?"st":t===2?"nd":t===3?"rd":"th"};class Day extends o{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate();let i=this.date.getDay();return this.token==="DD"?String(t).padStart(2,"0"):this.token==="Do"?t+pos(t):this.token==="d"?i+1:this.token==="ddd"?this.locales.weekdaysShort[i]:this.token==="dddd"?this.locales.weekdays[i]:t}}t.exports=Day},3601:(t,i,r)=>{"use strict";const o=r(9702);class Hours extends o{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();if(/h/.test(this.token))t=t%12||12;return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Hours},6616:(t,i,r)=>{"use strict";t.exports={DatePart:r(9702),Meridiem:r(8156),Day:r(8879),Hours:r(3601),Milliseconds:r(8126),Minutes:r(6732),Month:r(7035),Seconds:r(5206),Year:r(4383)}},8156:(t,i,r)=>{"use strict";const o=r(9702);class Meridiem extends o{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}t.exports=Meridiem},8126:(t,i,r)=>{"use strict";const o=r(9702);class Milliseconds extends o{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}t.exports=Milliseconds},6732:(t,i,r)=>{"use strict";const o=r(9702);class Minutes extends o{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Minutes},7035:(t,i,r)=>{"use strict";const o=r(9702);class Month extends o{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1;this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth();let i=this.token.length;return i===2?String(t+1).padStart(2,"0"):i===3?this.locales.monthsShort[t]:i===4?this.locales.months[t]:String(t+1)}}t.exports=Month},5206:(t,i,r)=>{"use strict";const o=r(9702);class Seconds extends o{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Seconds},4383:(t,i,r)=>{"use strict";const o=r(9702);class Year extends o{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}}t.exports=Year},3689:(t,i,r)=>{"use strict";const o=r(5178);const a=r(5410);const{erase:h,cursor:l}=r(2907);const{style:c,clear:u,figures:d,wrap:p,entriesToDisplay:g}=r(8665);const getVal=(t,i)=>t[i]&&(t[i].value||t[i].title||t[i]);const getTitle=(t,i)=>t[i]&&(t[i].title||t[i].value||t[i]);const getIndex=(t,i)=>{const r=t.findIndex((t=>t.value===i||t.title===i));return r>-1?r:undefined};class AutocompletePrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.suggest=t.suggest;this.choices=t.choices;this.initial=typeof t.initial==="number"?t.initial:getIndex(t.choices,t.initial);this.select=this.initial||t.cursor||0;this.i18n={noMatches:t.noMatches||"no matches found"};this.fallback=t.fallback||this.initial;this.clearFirst=t.clearFirst||false;this.suggestions=[];this.input="";this.limit=t.limit||10;this.cursor=0;this.transform=c.render(t.style);this.scale=this.transform.scale;this.render=this.render.bind(this);this.complete=this.complete.bind(this);this.clear=u("",this.out.columns);this.complete(this.render);this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;if(typeof this._fb==="number")t=this.choices[this._fb];else if(typeof this._fb==="string")t={title:this._fb};return t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t;if(this.suggestions.length>0)this.value=getVal(this.suggestions,t);else this.value=this.fallback.value;this.fire()}async complete(t){const i=this.completing=this.suggest(this.input,this.choices);const r=await i;if(this.completing!==i)return;this.suggestions=r.map(((t,i,r)=>({title:getTitle(r,i),value:getVal(r,i),description:t.description})));this.completing=false;const o=Math.max(r.length-1,0);this.moveSelect(Math.min(o,this.select));t&&t()}reset(){this.input="";this.complete((()=>{this.moveSelect(this.initial!==void 0?this.initial:0);this.render()}));this.render()}exit(){if(this.clearFirst&&this.input.length>0){this.reset()}else{this.done=this.exited=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}}abort(){this.done=this.aborted=true;this.exited=false;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=this.exited=false;this.fire();this.render();this.out.write("\n");this.close()}_(t,i){let r=this.input.slice(0,this.cursor);let o=this.input.slice(this.cursor);this.input=`${r}${t}${o}`;this.cursor=r.length+1;this.complete(this.render);this.render()}delete(){if(this.cursor===0)return this.bell();let t=this.input.slice(0,this.cursor-1);let i=this.input.slice(this.cursor);this.input=`${t}${i}`;this.complete(this.render);this.cursor=this.cursor-1;this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor);let i=this.input.slice(this.cursor+1);this.input=`${t}${i}`;this.complete(this.render);this.render()}first(){this.moveSelect(0);this.render()}last(){this.moveSelect(this.suggestions.length-1);this.render()}up(){if(this.select===0){this.moveSelect(this.suggestions.length-1)}else{this.moveSelect(this.select-1)}this.render()}down(){if(this.select===this.suggestions.length-1){this.moveSelect(0)}else{this.moveSelect(this.select+1)}this.render()}next(){if(this.select===this.suggestions.length-1){this.moveSelect(0)}else this.moveSelect(this.select+1);this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1));this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0));this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1;this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1;this.render()}renderOption(t,i,r,a){let h;let l=r?d.arrowUp:a?d.arrowDown:" ";let c=i?o.cyan().underline(t.title):t.title;l=(i?o.cyan(d.pointer)+" ":"  ")+l;if(t.description){h=` - ${t.description}`;if(l.length+c.length+h.length>=this.out.columns||t.description.split(/\r?\n/).length>1){h="\n"+p(t.description,{margin:3,width:this.out.columns})}}return l+" "+c+o.gray(h||"")}render(){if(this.closed)return;if(this.firstRender)this.out.write(l.hide);else this.out.write(u(this.outputText,this.out.columns));super.render();let{startIndex:t,endIndex:i}=g(this.select,this.choices.length,this.limit);this.outputText=[c.symbol(this.done,this.aborted,this.exited),o.bold(this.msg),c.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" ");if(!this.done){const r=this.suggestions.slice(t,i).map(((r,o)=>this.renderOption(r,this.select===o+t,o===0&&t>0,o+t===i-1&&i<this.choices.length))).join("\n");this.outputText+=`\n`+(r||o.gray(this.fallback.title))}this.out.write(h.line+l.to(0)+this.outputText)}}t.exports=AutocompletePrompt},2924:(t,i,r)=>{"use strict";const o=r(5178);const{cursor:a}=r(2907);const h=r(2486);const{clear:l,style:c,figures:u}=r(8665);class AutocompleteMultiselectPrompt extends h{constructor(t={}){t.overrideRender=true;super(t);this.inputValue="";this.clear=l("",this.out.columns);this.filteredOptions=this.value;this.render()}last(){this.cursor=this.filteredOptions.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length;this.render()}up(){if(this.cursor===0){this.cursor=this.filteredOptions.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.filteredOptions.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.filteredOptions[this.cursor].selected=false;this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=true;this.render()}delete(){if(this.inputValue.length){this.inputValue=this.inputValue.substr(0,this.inputValue.length-1);this.updateFilteredOptions()}}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>{if(this.inputValue){if(typeof t.title==="string"){if(t.title.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}if(typeof t.value==="string"){if(t.value.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}return false}return true}));const i=this.filteredOptions.findIndex((i=>i===t));this.cursor=i<0?0:i;this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected){t.selected=false;this.render()}else if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices){return this.bell()}else{t.selected=true;this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t;this.updateFilteredOptions()}_(t,i){if(t===" "){this.handleSpaceToggle()}else{this.handleInputChange(t)}}renderInstructions(){if(this.instructions===undefined||this.instructions){if(typeof this.instructions==="string"){return this.instructions}return`\nInstructions:\n    ${u.arrowUp}/${u.arrowDown}: Highlight option\n    ${u.arrowLeft}/${u.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`}return""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:o.gray("Enter something to filter")}\n`}renderOption(t,i,r){let a;if(i.disabled)a=t===r?o.gray().underline(i.title):o.strikethrough().gray(i.title);else a=t===r?o.cyan().underline(i.title):i.title;return(i.selected?o.green(u.radioOn):u.radioOff)+"  "+a}renderDoneOrInstructions(){if(this.done){return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ")}const t=[o.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];if(this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled){t.push(o.yellow(this.warn))}return t.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(a.hide);super.render();let t=[c.symbol(this.done,this.aborted),o.bold(this.msg),c.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){t+=o.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}t+=this.renderOptions(this.filteredOptions);this.out.write(this.clear+t);this.clear=l(t,this.out.columns)}}t.exports=AutocompleteMultiselectPrompt},7789:(t,i,r)=>{const o=r(5178);const a=r(5410);const{style:h,clear:l}=r(8665);const{erase:c,cursor:u}=r(2907);class ConfirmPrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.value=t.initial;this.initialValue=!!t.initial;this.yesMsg=t.yes||"yes";this.yesOption=t.yesOption||"(Y/n)";this.noMsg=t.no||"no";this.noOption=t.noOption||"(y/N)";this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.value=this.value||false;this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}_(t,i){if(t.toLowerCase()==="y"){this.value=true;return this.submit()}if(t.toLowerCase()==="n"){this.value=false;return this.submit()}return this.bell()}render(){if(this.closed)return;if(this.firstRender)this.out.write(u.hide);else this.out.write(l(this.outputText,this.out.columns));super.render();this.outputText=[h.symbol(this.done,this.aborted),o.bold(this.msg),h.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:o.gray(this.initialValue?this.yesOption:this.noOption)].join(" ");this.out.write(c.line+u.to(0)+this.outputText)}}t.exports=ConfirmPrompt},6540:(t,i,r)=>{"use strict";const o=r(5178);const a=r(5410);const{style:h,clear:l,figures:c}=r(8665);const{erase:u,cursor:d}=r(2907);const{DatePart:p,Meridiem:g,Day:y,Hours:b,Milliseconds:w,Minutes:_,Month:v,Seconds:E,Year:S}=r(6616);const x=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g;const O={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new y(t),3:t=>new v(t),4:t=>new S(t),5:t=>new g(t),6:t=>new b(t),7:t=>new _(t),8:t=>new E(t),9:t=>new w(t)};const T={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class DatePrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.cursor=0;this.typed="";this.locales=Object.assign(T,t.locales);this._date=t.initial||new Date;this.errorMsg=t.error||"Please Enter A Valid Value";this.validator=t.validate||(()=>true);this.mask=t.mask||"YYYY-MM-DD HH:mm:ss";this.clear=l("",this.out.columns);this.render()}get value(){return this.date}get date(){return this._date}set date(t){if(t)this._date.setTime(t.getTime())}set mask(t){let i;this.parts=[];while(i=x.exec(t)){let t=i.shift();let r=i.findIndex((t=>t!=null));this.parts.push(r in O?O[r]({token:i[r]||t,date:this.date,parts:this.parts,locales:this.locales}):i[r]||t)}let r=this.parts.reduce(((t,i)=>{if(typeof i==="string"&&typeof t[t.length-1]==="string")t[t.length-1]+=i;else t.push(i);return t}),[]);this.parts.splice(0);this.parts.push(...r);this.reset()}moveCursor(t){this.typed="";this.cursor=t;this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof p)));this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write("\n");this.close()}async validate(){let t=await this.validator(this.value);if(typeof t==="string"){this.errorMsg=t;t=false}this.error=!t}async submit(){await this.validate();if(this.error){this.color="red";this.fire();this.render();return}this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}up(){this.typed="";this.parts[this.cursor].up();this.render()}down(){this.typed="";this.parts[this.cursor].down();this.render()}left(){let t=this.parts[this.cursor].prev();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t));this.render()}right(){let t=this.parts[this.cursor].next();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t));this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof p)));this.render()}_(t){if(/\d/.test(t)){this.typed+=t;this.parts[this.cursor].setTo(this.typed);this.render()}}render(){if(this.closed)return;if(this.firstRender)this.out.write(d.hide);else this.out.write(l(this.outputText,this.out.columns));super.render();this.outputText=[h.symbol(this.done,this.aborted),o.bold(this.msg),h.delimiter(false),this.parts.reduce(((t,i,r)=>t.concat(r===this.cursor&&!this.done?o.cyan().underline(i.toString()):i)),[]).join("")].join(" ");if(this.error){this.outputText+=this.errorMsg.split("\n").reduce(((t,i,r)=>t+`\n${r?` `:c.pointerSmall} ${o.red().italic(i)}`),``)}this.out.write(u.line+d.to(0)+this.outputText)}}t.exports=DatePrompt},443:(t,i,r)=>{"use strict";t.exports={TextPrompt:r(3380),SelectPrompt:r(5893),TogglePrompt:r(4137),DatePrompt:r(6540),NumberPrompt:r(4869),MultiselectPrompt:r(2486),AutocompletePrompt:r(3689),AutocompleteMultiselectPrompt:r(2924),ConfirmPrompt:r(7789)}},2486:(t,i,r)=>{"use strict";const o=r(5178);const{cursor:a}=r(2907);const h=r(5410);const{clear:l,figures:c,style:u,wrap:d,entriesToDisplay:p}=r(8665);class MultiselectPrompt extends h{constructor(t={}){super(t);this.msg=t.message;this.cursor=t.cursor||0;this.scrollIndex=t.cursor||0;this.hint=t.hint||"";this.warn=t.warn||"- This option is disabled -";this.minSelected=t.min;this.showMinError=false;this.maxChoices=t.max;this.instructions=t.instructions;this.optionsPerPage=t.optionsPerPage||10;this.value=t.choices.map(((t,i)=>{if(typeof t==="string")t={title:t,value:i};return{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===undefined?i:t.value),selected:t&&t.selected,disabled:t&&t.disabled}}));this.clear=l("",this.out.columns);if(!t.overrideRender){this.render()}}reset(){this.value.map((t=>!t.selected));this.cursor=0;this.fire();this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){const t=this.value.filter((t=>t.selected));if(this.minSelected&&t.length<this.minSelected){this.showMinError=true;this.render()}else{this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.value.length;this.render()}up(){if(this.cursor===0){this.cursor=this.value.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.value.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.value[this.cursor].selected=false;this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=true;this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected){t.selected=false;this.render()}else if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices){return this.bell()}else{t.selected=true;this.render()}}toggleAll(){if(this.maxChoices!==undefined||this.value[this.cursor].disabled){return this.bell()}const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((i=>i.selected=t));this.render()}_(t,i){if(t===" "){this.handleSpaceToggle()}else if(t==="a"){this.toggleAll()}else{return this.bell()}}renderInstructions(){if(this.instructions===undefined||this.instructions){if(typeof this.instructions==="string"){return this.instructions}return"\nInstructions:\n"+`    ${c.arrowUp}/${c.arrowDown}: Highlight option\n`+`    ${c.arrowLeft}/${c.arrowRight}/[space]: Toggle selection\n`+(this.maxChoices===undefined?`    a: Toggle all\n`:"")+`    enter/return: Complete answer`}return""}renderOption(t,i,r,a){const h=(i.selected?o.green(c.radioOn):c.radioOff)+" "+a+" ";let l,u;if(i.disabled){l=t===r?o.gray().underline(i.title):o.strikethrough().gray(i.title)}else{l=t===r?o.cyan().underline(i.title):i.title;if(t===r&&i.description){u=` - ${i.description}`;if(h.length+l.length+u.length>=this.out.columns||i.description.split(/\r?\n/).length>1){u="\n"+d(i.description,{margin:h.length,width:this.out.columns})}}}return h+l+o.gray(u||"")}paginateOptions(t){if(t.length===0){return o.red("No matches for this query.")}let{startIndex:i,endIndex:r}=p(this.cursor,t.length,this.optionsPerPage);let a,h=[];for(let o=i;o<r;o++){if(o===i&&i>0){a=c.arrowUp}else if(o===r-1&&r<t.length){a=c.arrowDown}else{a=" "}h.push(this.renderOption(this.cursor,t[o],o,a))}return"\n"+h.join("\n")}renderOptions(t){if(!this.done){return this.paginateOptions(t)}return""}renderDoneOrInstructions(){if(this.done){return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ")}const t=[o.gray(this.hint),this.renderInstructions()];if(this.value[this.cursor].disabled){t.push(o.yellow(this.warn))}return t.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(a.hide);super.render();let t=[u.symbol(this.done,this.aborted),o.bold(this.msg),u.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){t+=o.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}t+=this.renderOptions(this.value);this.out.write(this.clear+t);this.clear=l(t,this.out.columns)}}t.exports=MultiselectPrompt},4869:(t,i,r)=>{const o=r(5178);const a=r(5410);const{cursor:h,erase:l}=r(2907);const{style:c,figures:u,clear:d,lines:p}=r(8665);const g=/[0-9]/;const isDef=t=>t!==undefined;const round=(t,i)=>{let r=Math.pow(10,i);return Math.round(t*r)/r};class NumberPrompt extends a{constructor(t={}){super(t);this.transform=c.render(t.style);this.msg=t.message;this.initial=isDef(t.initial)?t.initial:"";this.float=!!t.float;this.round=t.round||2;this.inc=t.increment||1;this.min=isDef(t.min)?t.min:-Infinity;this.max=isDef(t.max)?t.max:Infinity;this.errorMsg=t.error||`Please Enter A Valid Value`;this.validator=t.validate||(()=>true);this.color=`cyan`;this.value=``;this.typed=``;this.lastHit=0;this.render()}set value(t){if(!t&&t!==0){this.placeholder=true;this.rendered=o.gray(this.transform.render(`${this.initial}`));this._value=``}else{this.placeholder=false;this.rendered=this.transform.render(`${round(t,this.round)}`);this._value=round(t,this.round)}this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return t===`-`||t===`.`&&this.float||g.test(t)}reset(){this.typed=``;this.value=``;this.fire();this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=t!==``?t:this.initial;this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write(`\n`);this.close()}async validate(){let t=await this.validator(this.value);if(typeof t===`string`){this.errorMsg=t;t=false}this.error=!t}async submit(){await this.validate();if(this.error){this.color=`red`;this.fire();this.render();return}let t=this.value;this.value=t!==``?t:this.initial;this.done=true;this.aborted=false;this.error=false;this.fire();this.render();this.out.write(`\n`);this.close()}up(){this.typed=``;if(this.value===""){this.value=this.min-this.inc}if(this.value>=this.max)return this.bell();this.value+=this.inc;this.color=`cyan`;this.fire();this.render()}down(){this.typed=``;if(this.value===""){this.value=this.min+this.inc}if(this.value<=this.min)return this.bell();this.value-=this.inc;this.color=`cyan`;this.fire();this.render()}delete(){let t=this.value.toString();if(t.length===0)return this.bell();this.value=this.parse(t=t.slice(0,-1))||``;if(this.value!==""&&this.value<this.min){this.value=this.min}this.color=`cyan`;this.fire();this.render()}next(){this.value=this.initial;this.fire();this.render()}_(t,i){if(!this.valid(t))return this.bell();const r=Date.now();if(r-this.lastHit>1e3)this.typed=``;this.typed+=t;this.lastHit=r;this.color=`cyan`;if(t===`.`)return this.fire();this.value=Math.min(this.parse(this.typed),this.max);if(this.value>this.max)this.value=this.max;if(this.value<this.min)this.value=this.min;this.fire();this.render()}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(h.down(p(this.outputError,this.out.columns)-1)+d(this.outputError,this.out.columns));this.out.write(d(this.outputText,this.out.columns))}super.render();this.outputError="";this.outputText=[c.symbol(this.done,this.aborted),o.bold(this.msg),c.delimiter(this.done),!this.done||!this.done&&!this.placeholder?o[this.color]().underline(this.rendered):this.rendered].join(` `);if(this.error){this.outputError+=this.errorMsg.split(`\n`).reduce(((t,i,r)=>t+`\n${r?` `:u.pointerSmall} ${o.red().italic(i)}`),``)}this.out.write(l.line+h.to(0)+this.outputText+h.save+this.outputError+h.restore)}}t.exports=NumberPrompt},5410:(t,i,r)=>{"use strict";const o=r(4521);const{action:a}=r(8665);const h=r(2361);const{beep:l,cursor:c}=r(2907);const u=r(5178);class Prompt extends h{constructor(t={}){super();this.firstRender=true;this.in=t.stdin||process.stdin;this.out=t.stdout||process.stdout;this.onRender=(t.onRender||(()=>void 0)).bind(this);const i=o.createInterface({input:this.in,escapeCodeTimeout:50});o.emitKeypressEvents(this.in,i);if(this.in.isTTY)this.in.setRawMode(true);const r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1;const keypress=(t,i)=>{let o=a(i,r);if(o===false){this._&&this._(t,i)}else if(typeof this[o]==="function"){this[o](i)}else{this.bell()}};this.close=()=>{this.out.write(c.show);this.in.removeListener("keypress",keypress);if(this.in.isTTY)this.in.setRawMode(false);i.close();this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value);this.closed=true};this.in.on("keypress",keypress)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(l)}render(){this.onRender(u);if(this.firstRender)this.firstRender=false}}t.exports=Prompt},5893:(t,i,r)=>{"use strict";const o=r(5178);const a=r(5410);const{style:h,clear:l,figures:c,wrap:u,entriesToDisplay:d}=r(8665);const{cursor:p}=r(2907);class SelectPrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.hint=t.hint||"- Use arrow-keys. Return to submit.";this.warn=t.warn||"- This option is disabled";this.cursor=t.initial||0;this.choices=t.choices.map(((t,i)=>{if(typeof t==="string")t={title:t,value:i};return{title:t&&(t.title||t.value||t),value:t&&(t.value===undefined?i:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}}));this.optionsPerPage=t.optionsPerPage||10;this.value=(this.choices[this.cursor]||{}).value;this.clear=l("",this.out.columns);this.render()}moveCursor(t){this.cursor=t;this.value=this.choices[t].value;this.fire()}reset(){this.moveCursor(0);this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){if(!this.selection.disabled){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}else this.bell()}first(){this.moveCursor(0);this.render()}last(){this.moveCursor(this.choices.length-1);this.render()}up(){if(this.cursor===0){this.moveCursor(this.choices.length-1)}else{this.moveCursor(this.cursor-1)}this.render()}down(){if(this.cursor===this.choices.length-1){this.moveCursor(0)}else{this.moveCursor(this.cursor+1)}this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length);this.render()}_(t,i){if(t===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;if(this.firstRender)this.out.write(p.hide);else this.out.write(l(this.outputText,this.out.columns));super.render();let{startIndex:t,endIndex:i}=d(this.cursor,this.choices.length,this.optionsPerPage);this.outputText=[h.symbol(this.done,this.aborted),o.bold(this.msg),h.delimiter(false),this.done?this.selection.title:this.selection.disabled?o.yellow(this.warn):o.gray(this.hint)].join(" ");if(!this.done){this.outputText+="\n";for(let r=t;r<i;r++){let a,h,l="",d=this.choices[r];if(r===t&&t>0){h=c.arrowUp}else if(r===i-1&&i<this.choices.length){h=c.arrowDown}else{h=" "}if(d.disabled){a=this.cursor===r?o.gray().underline(d.title):o.strikethrough().gray(d.title);h=(this.cursor===r?o.bold().gray(c.pointer)+" ":"  ")+h}else{a=this.cursor===r?o.cyan().underline(d.title):d.title;h=(this.cursor===r?o.cyan(c.pointer)+" ":"  ")+h;if(d.description&&this.cursor===r){l=` - ${d.description}`;if(h.length+a.length+l.length>=this.out.columns||d.description.split(/\r?\n/).length>1){l="\n"+u(d.description,{margin:3,width:this.out.columns})}}}this.outputText+=`${h} ${a}${o.gray(l)}\n`}}this.out.write(this.outputText)}}t.exports=SelectPrompt},3380:(t,i,r)=>{const o=r(5178);const a=r(5410);const{erase:h,cursor:l}=r(2907);const{style:c,clear:u,lines:d,figures:p}=r(8665);class TextPrompt extends a{constructor(t={}){super(t);this.transform=c.render(t.style);this.scale=this.transform.scale;this.msg=t.message;this.initial=t.initial||``;this.validator=t.validate||(()=>true);this.value=``;this.errorMsg=t.error||`Please Enter A Valid Value`;this.cursor=Number(!!this.initial);this.cursorOffset=0;this.clear=u(``,this.out.columns);this.render()}set value(t){if(!t&&this.initial){this.placeholder=true;this.rendered=o.gray(this.transform.render(this.initial))}else{this.placeholder=false;this.rendered=this.transform.render(t)}this._value=t;this.fire()}get value(){return this._value}reset(){this.value=``;this.cursor=Number(!!this.initial);this.cursorOffset=0;this.fire();this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial;this.done=this.aborted=true;this.error=false;this.red=false;this.fire();this.render();this.out.write("\n");this.close()}async validate(){let t=await this.validator(this.value);if(typeof t===`string`){this.errorMsg=t;t=false}this.error=!t}async submit(){this.value=this.value||this.initial;this.cursorOffset=0;this.cursor=this.rendered.length;await this.validate();if(this.error){this.red=true;this.fire();this.render();return}this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial;this.cursor=this.rendered.length;this.fire();this.render()}moveCursor(t){if(this.placeholder)return;this.cursor=this.cursor+t;this.cursorOffset+=t}_(t,i){let r=this.value.slice(0,this.cursor);let o=this.value.slice(this.cursor);this.value=`${r}${t}${o}`;this.red=false;this.cursor=this.placeholder?0:r.length+1;this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1);let i=this.value.slice(this.cursor);this.value=`${t}${i}`;this.red=false;if(this.isCursorAtStart()){this.cursorOffset=0}else{this.cursorOffset++;this.moveCursor(-1)}this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor);let i=this.value.slice(this.cursor+1);this.value=`${t}${i}`;this.red=false;if(this.isCursorAtEnd()){this.cursorOffset=0}else{this.cursorOffset++}this.render()}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length;this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1);this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1);this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(l.down(d(this.outputError,this.out.columns)-1)+u(this.outputError,this.out.columns));this.out.write(u(this.outputText,this.out.columns))}super.render();this.outputError="";this.outputText=[c.symbol(this.done,this.aborted),o.bold(this.msg),c.delimiter(this.done),this.red?o.red(this.rendered):this.rendered].join(` `);if(this.error){this.outputError+=this.errorMsg.split(`\n`).reduce(((t,i,r)=>t+`\n${r?" ":p.pointerSmall} ${o.red().italic(i)}`),``)}this.out.write(h.line+l.to(0)+this.outputText+l.save+this.outputError+l.restore+l.move(this.cursorOffset,0))}}t.exports=TextPrompt},4137:(t,i,r)=>{const o=r(5178);const a=r(5410);const{style:h,clear:l}=r(8665);const{cursor:c,erase:u}=r(2907);class TogglePrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.value=!!t.initial;this.active=t.active||"on";this.inactive=t.inactive||"off";this.initialValue=this.value;this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}deactivate(){if(this.value===false)return this.bell();this.value=false;this.render()}activate(){if(this.value===true)return this.bell();this.value=true;this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value;this.fire();this.render()}_(t,i){if(t===" "){this.value=!this.value}else if(t==="1"){this.value=true}else if(t==="0"){this.value=false}else return this.bell();this.render()}render(){if(this.closed)return;if(this.firstRender)this.out.write(c.hide);else this.out.write(l(this.outputText,this.out.columns));super.render();this.outputText=[h.symbol(this.done,this.aborted),o.bold(this.msg),h.delimiter(this.done),this.value?this.inactive:o.cyan().underline(this.inactive),o.gray("/"),this.value?o.cyan().underline(this.active):this.active].join(" ");this.out.write(u.line+c.to(0)+this.outputText)}}t.exports=TogglePrompt},8202:(t,i,r)=>{"use strict";const o=r(9236);const a=["suggest","format","onState","validate","onRender","type"];const noop=()=>{};async function prompt(t=[],{onSubmit:i=noop,onCancel:r=noop}={}){const h={};const l=prompt._override||{};t=[].concat(t);let c,u,d,p,g,y;const getFormattedAnswer=async(t,i,r=false)=>{if(!r&&t.validate&&t.validate(i)!==true){return}return t.format?await t.format(i,h):i};for(u of t){({name:p,type:g}=u);if(typeof g==="function"){g=await g(c,{...h},u);u["type"]=g}if(!g)continue;for(let t in u){if(a.includes(t))continue;let i=u[t];u[t]=typeof i==="function"?await i(c,{...h},y):i}y=u;if(typeof u.message!=="string"){throw new Error("prompt message is required")}({name:p,type:g}=u);if(o[g]===void 0){throw new Error(`prompt type (${g}) is not defined`)}if(l[u.name]!==undefined){c=await getFormattedAnswer(u,l[u.name]);if(c!==undefined){h[p]=c;continue}}try{c=prompt._injected?getInjectedAnswer(prompt._injected,u.initial):await o[g](u);h[p]=c=await getFormattedAnswer(u,c,true);d=await i(u,c,h)}catch(t){d=!await r(u,h)}if(d)return h}return h}function getInjectedAnswer(t,i){const r=t.shift();if(r instanceof Error){throw r}return r===undefined?i:r}function inject(t){prompt._injected=(prompt._injected||[]).concat(t)}function override(t){prompt._override=Object.assign({},t)}t.exports=Object.assign(prompt,{prompt:prompt,prompts:o,inject:inject,override:override})},9236:(t,i,r)=>{"use strict";const o=i;const a=r(443);const noop=t=>t;function toPrompt(t,i,r={}){return new Promise(((o,h)=>{const l=new a[t](i);const c=r.onAbort||noop;const u=r.onSubmit||noop;const d=r.onExit||noop;l.on("state",i.onState||noop);l.on("submit",(t=>o(u(t))));l.on("exit",(t=>o(d(t))));l.on("abort",(t=>h(c(t))))}))}o.text=t=>toPrompt("TextPrompt",t);o.password=t=>{t.style="password";return o.text(t)};o.invisible=t=>{t.style="invisible";return o.text(t)};o.number=t=>toPrompt("NumberPrompt",t);o.date=t=>toPrompt("DatePrompt",t);o.confirm=t=>toPrompt("ConfirmPrompt",t);o.list=t=>{const i=t.separator||",";return toPrompt("TextPrompt",t,{onSubmit:t=>t.split(i).map((t=>t.trim()))})};o.toggle=t=>toPrompt("TogglePrompt",t);o.select=t=>toPrompt("SelectPrompt",t);o.multiselect=t=>{t.choices=[].concat(t.choices||[]);const toSelected=t=>t.filter((t=>t.selected)).map((t=>t.value));return toPrompt("MultiselectPrompt",t,{onAbort:toSelected,onSubmit:toSelected})};o.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const toSelected=t=>t.filter((t=>t.selected)).map((t=>t.value));return toPrompt("AutocompleteMultiselectPrompt",t,{onAbort:toSelected,onSubmit:toSelected})};const byTitle=(t,i)=>Promise.resolve(i.filter((i=>i.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));o.autocomplete=t=>{t.suggest=t.suggest||byTitle;t.choices=[].concat(t.choices||[]);return toPrompt("AutocompletePrompt",t)}},2750:t=>{"use strict";t.exports=(t,i)=>{if(t.meta&&t.name!=="escape")return;if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c")return"abort";if(t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(i){if(t.name==="j")return"down";if(t.name==="k")return"up"}if(t.name==="return")return"submit";if(t.name==="enter")return"submit";if(t.name==="backspace")return"delete";if(t.name==="delete")return"deleteForward";if(t.name==="abort")return"abort";if(t.name==="escape")return"exit";if(t.name==="tab")return"next";if(t.name==="pagedown")return"nextPage";if(t.name==="pageup")return"prevPage";if(t.name==="home")return"home";if(t.name==="end")return"end";if(t.name==="up")return"up";if(t.name==="down")return"down";if(t.name==="right")return"right";if(t.name==="left")return"left";return false}},2699:(t,i,r)=>{"use strict";const o=r(404);const{erase:a,cursor:h}=r(2907);const width=t=>[...o(t)].length;t.exports=function(t,i){if(!i)return a.line+h.to(0);let r=0;const o=t.split(/\r?\n/);for(let t of o){r+=1+Math.floor(Math.max(width(t)-1,0)/i)}return a.lines(r)}},9019:t=>{"use strict";t.exports=(t,i,r)=>{r=r||i;let o=Math.min(i-r,t-Math.floor(r/2));if(o<0)o=0;let a=Math.min(o+r,i);return{startIndex:o,endIndex:a}}},775:t=>{"use strict";const i={arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",radioOn:"",radioOff:"",tick:"",cross:"",ellipsis:"",pointerSmall:"",line:"",pointer:""};const r={arrowUp:i.arrowUp,arrowDown:i.arrowDown,arrowLeft:i.arrowLeft,arrowRight:i.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"",cross:"",ellipsis:"...",pointerSmall:"",line:"",pointer:">"};const o=process.platform==="win32"?r:i;t.exports=o},8665:(t,i,r)=>{"use strict";t.exports={action:r(2750),clear:r(2699),style:r(3033),strip:r(404),figures:r(775),lines:r(1265),wrap:r(9621),entriesToDisplay:r(9019)}},1265:(t,i,r)=>{"use strict";const o=r(404);t.exports=function(t,i){let r=String(o(t)||"").split(/\r?\n/);if(!i)return r.length;return r.map((t=>Math.ceil(t.length/i))).reduce(((t,i)=>t+i))}},404:t=>{"use strict";t.exports=t=>{const i=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|");const r=new RegExp(i,"g");return typeof t==="string"?t.replace(r,""):t}},3033:(t,i,r)=>{"use strict";const o=r(5178);const a=r(775);const h=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}});const render=t=>h[t]||h.default;const l=Object.freeze({aborted:o.red(a.cross),done:o.green(a.tick),exited:o.yellow(a.cross),default:o.cyan("?")});const symbol=(t,i,r)=>i?l.aborted:r?l.exited:t?l.done:l.default;const delimiter=t=>o.gray(t?a.ellipsis:a.pointerSmall);const item=(t,i)=>o.gray(t?i?a.pointerSmall:"+":a.line);t.exports={styles:h,render:render,symbols:l,symbol:symbol,delimiter:delimiter,item:item}},9621:t=>{"use strict";t.exports=(t,i={})=>{const r=Number.isSafeInteger(parseInt(i.margin))?new Array(parseInt(i.margin)).fill(" ").join(""):i.margin||"";const o=i.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,i)=>{if(i.length+r.length>=o||t[t.length-1].length+i.length+1<o)t[t.length-1]+=` ${i}`;else t.push(`${r}${i}`);return t}),[r]).join("\n"))).join("\n")}},3751:t=>{"use strict";class QuickLRU{constructor(t={}){if(!(t.maxSize&&t.maxSize>0)){throw new TypeError("`maxSize` must be a number greater than 0")}this.maxSize=t.maxSize;this.onEviction=t.onEviction;this.cache=new Map;this.oldCache=new Map;this._size=0}_set(t,i){this.cache.set(t,i);this._size++;if(this._size>=this.maxSize){this._size=0;if(typeof this.onEviction==="function"){for(const[t,i]of this.oldCache.entries()){this.onEviction(t,i)}}this.oldCache=this.cache;this.cache=new Map}}get(t){if(this.cache.has(t)){return this.cache.get(t)}if(this.oldCache.has(t)){const i=this.oldCache.get(t);this.oldCache.delete(t);this._set(t,i);return i}}set(t,i){if(this.cache.has(t)){this.cache.set(t,i)}else{this._set(t,i)}return this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t)){return this.cache.get(t)}if(this.oldCache.has(t)){return this.oldCache.get(t)}}delete(t){const i=this.cache.delete(t);if(i){this._size--}return this.oldCache.delete(t)||i}clear(){this.cache.clear();this.oldCache.clear();this._size=0}*keys(){for(const[t]of this){yield t}}*values(){for(const[,t]of this){yield t}}*[Symbol.iterator](){for(const t of this.cache){yield t}for(const t of this.oldCache){const[i]=t;if(!this.cache.has(i)){yield t}}}get size(){let t=0;for(const i of this.oldCache.keys()){if(!this.cache.has(i)){t++}}return Math.min(this._size+t,this.maxSize)}}t.exports=QuickLRU},4352:(t,i,r)=>{"use strict";const o=r(4404);t.exports=(t={},i=o.connect)=>new Promise(((r,o)=>{let a=false;let h;const callback=async()=>{await l;h.off("timeout",onTimeout);h.off("error",o);if(t.resolveSocket){r({alpnProtocol:h.alpnProtocol,socket:h,timeout:a});if(a){await Promise.resolve();h.emit("timeout")}}else{h.destroy();r({alpnProtocol:h.alpnProtocol,timeout:a})}};const onTimeout=async()=>{a=true;callback()};const l=(async()=>{try{h=await i(t,callback);h.on("error",o);h.once("timeout",onTimeout)}catch(t){o(t)}})()}))},124:(t,i,r)=>{t.exports=r(2246)},2246:(t,i,r)=>{var o=r(3327);i.operation=function(t){var r=i.timeouts(t);return new o(r,{forever:t&&(t.forever||t.retries===Infinity),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})};i.timeouts=function(t){if(t instanceof Array){return[].concat(t)}var i={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:Infinity,randomize:false};for(var r in t){i[r]=t[r]}if(i.minTimeout>i.maxTimeout){throw new Error("minTimeout is greater than maxTimeout")}var o=[];for(var a=0;a<i.retries;a++){o.push(this.createTimeout(a,i))}if(t&&t.forever&&!o.length){o.push(this.createTimeout(a,i))}o.sort((function(t,i){return t-i}));return o};i.createTimeout=function(t,i){var r=i.randomize?Math.random()+1:1;var o=Math.round(r*Math.max(i.minTimeout,1)*Math.pow(i.factor,t));o=Math.min(o,i.maxTimeout);return o};i.wrap=function(t,r,o){if(r instanceof Array){o=r;r=null}if(!o){o=[];for(var a in t){if(typeof t[a]==="function"){o.push(a)}}}for(var h=0;h<o.length;h++){var l=o[h];var c=t[l];t[l]=function retryWrapper(o){var a=i.operation(r);var h=Array.prototype.slice.call(arguments,1);var l=h.pop();h.push((function(t){if(a.retry(t)){return}if(t){arguments[0]=a.mainError()}l.apply(this,arguments)}));a.attempt((function(){o.apply(t,h)}))}.bind(t,c);t[l].options=r}}},3327:t=>{function RetryOperation(t,i){if(typeof i==="boolean"){i={forever:i}}this._originalTimeouts=JSON.parse(JSON.stringify(t));this._timeouts=t;this._options=i||{};this._maxRetryTime=i&&i.maxRetryTime||Infinity;this._fn=null;this._errors=[];this._attempts=1;this._operationTimeout=null;this._operationTimeoutCb=null;this._timeout=null;this._operationStart=null;this._timer=null;if(this._options.forever){this._cachedTimeouts=this._timeouts.slice(0)}}t.exports=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1;this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){if(this._timeout){clearTimeout(this._timeout)}if(this._timer){clearTimeout(this._timer)}this._timeouts=[];this._cachedTimeouts=null};RetryOperation.prototype.retry=function(t){if(this._timeout){clearTimeout(this._timeout)}if(!t){return false}var i=(new Date).getTime();if(t&&i-this._operationStart>=this._maxRetryTime){this._errors.push(t);this._errors.unshift(new Error("RetryOperation timeout occurred"));return false}this._errors.push(t);var r=this._timeouts.shift();if(r===undefined){if(this._cachedTimeouts){this._errors.splice(0,this._errors.length-1);r=this._cachedTimeouts.slice(-1)}else{return false}}var o=this;this._timer=setTimeout((function(){o._attempts++;if(o._operationTimeoutCb){o._timeout=setTimeout((function(){o._operationTimeoutCb(o._attempts)}),o._operationTimeout);if(o._options.unref){o._timeout.unref()}}o._fn(o._attempts)}),r);if(this._options.unref){this._timer.unref()}return true};RetryOperation.prototype.attempt=function(t,i){this._fn=t;if(i){if(i.timeout){this._operationTimeout=i.timeout}if(i.cb){this._operationTimeoutCb=i.cb}}var r=this;if(this._operationTimeoutCb){this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)}this._operationStart=(new Date).getTime();this._fn(this._attempts)};RetryOperation.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated");this.attempt(t)};RetryOperation.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated");this.attempt(t)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0){return null}var t={};var i=null;var r=0;for(var o=0;o<this._errors.length;o++){var a=this._errors[o];var h=a.message;var l=(t[h]||0)+1;t[h]=l;if(l>=r){i=a;r=l}}return i}},6746:(t,i,r)=>{const o=Symbol("SemVer ANY");class Comparator{static get ANY(){return o}constructor(t,i){i=a(i);if(t instanceof Comparator){if(t.loose===!!i.loose){return t}else{t=t.value}}u("comparator",t,i);this.options=i;this.loose=!!i.loose;this.parse(t);if(this.semver===o){this.value=""}else{this.value=this.operator+this.semver.version}u("comp",this)}parse(t){const i=this.options.loose?h[l.COMPARATORLOOSE]:h[l.COMPARATOR];const r=t.match(i);if(!r){throw new TypeError(`Invalid comparator: ${t}`)}this.operator=r[1]!==undefined?r[1]:"";if(this.operator==="="){this.operator=""}if(!r[2]){this.semver=o}else{this.semver=new d(r[2],this.options.loose)}}toString(){return this.value}test(t){u("Comparator.test",t,this.options.loose);if(this.semver===o||t===o){return true}if(typeof t==="string"){try{t=new d(t,this.options)}catch(t){return false}}return c(t,this.operator,this.semver,this.options)}intersects(t,i){if(!(t instanceof Comparator)){throw new TypeError("a Comparator is required")}if(this.operator===""){if(this.value===""){return true}return new p(t.value,i).test(this.value)}else if(t.operator===""){if(t.value===""){return true}return new p(this.value,i).test(t.semver)}i=a(i);if(i.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")){return false}if(!i.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))){return false}if(this.operator.startsWith(">")&&t.operator.startsWith(">")){return true}if(this.operator.startsWith("<")&&t.operator.startsWith("<")){return true}if(this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")){return true}if(c(this.semver,"<",t.semver,i)&&this.operator.startsWith(">")&&t.operator.startsWith("<")){return true}if(c(this.semver,">",t.semver,i)&&this.operator.startsWith("<")&&t.operator.startsWith(">")){return true}return false}}t.exports=Comparator;const a=r(9323);const{re:h,t:l}=r(6780);const c=r(5924);const u=r(80);const d=r(7628);const p=r(2092)},2092:(t,i,r)=>{class Range{constructor(t,i){i=h(i);if(t instanceof Range){if(t.loose===!!i.loose&&t.includePrerelease===!!i.includePrerelease){return t}else{return new Range(t.raw,i)}}if(t instanceof l){this.raw=t.value;this.set=[[t]];this.format();return this}this.options=i;this.loose=!!i.loose;this.includePrerelease=!!i.includePrerelease;this.raw=t;this.set=t.split("||").map((t=>this.parseRange(t.trim()))).filter((t=>t.length));if(!this.set.length){throw new TypeError(`Invalid SemVer Range: ${t}`)}if(this.set.length>1){const t=this.set[0];this.set=this.set.filter((t=>!isNullSet(t[0])));if(this.set.length===0){this.set=[t]}else if(this.set.length>1){for(const t of this.set){if(t.length===1&&isAny(t[0])){this.set=[t];break}}}}this.format()}format(){this.range=this.set.map((t=>t.join(" ").trim())).join("||").trim();return this.range}toString(){return this.range}parseRange(t){t=t.trim();const i=(this.options.includePrerelease&&w)|(this.options.loose&&_);const r=i+":"+t;const o=a.get(r);if(o){return o}const h=this.options.loose;const u=h?d[p.HYPHENRANGELOOSE]:d[p.HYPHENRANGE];t=t.replace(u,hyphenReplace(this.options.includePrerelease));c("hyphen replace",t);t=t.replace(d[p.COMPARATORTRIM],g);c("comparator trim",t);t=t.replace(d[p.TILDETRIM],y);t=t.replace(d[p.CARETTRIM],b);t=t.split(/\s+/).join(" ");let v=t.split(" ").map((t=>parseComparator(t,this.options))).join(" ").split(/\s+/).map((t=>replaceGTE0(t,this.options)));if(h){v=v.filter((t=>{c("loose invalid filter",t,this.options);return!!t.match(d[p.COMPARATORLOOSE])}))}c("range list",v);const E=new Map;const S=v.map((t=>new l(t,this.options)));for(const t of S){if(isNullSet(t)){return[t]}E.set(t.value,t)}if(E.size>1&&E.has("")){E.delete("")}const x=[...E.values()];a.set(r,x);return x}intersects(t,i){if(!(t instanceof Range)){throw new TypeError("a Range is required")}return this.set.some((r=>isSatisfiable(r,i)&&t.set.some((t=>isSatisfiable(t,i)&&r.every((r=>t.every((t=>r.intersects(t,i)))))))))}test(t){if(!t){return false}if(typeof t==="string"){try{t=new u(t,this.options)}catch(t){return false}}for(let i=0;i<this.set.length;i++){if(testSet(this.set[i],t,this.options)){return true}}return false}}t.exports=Range;const o=r(7116);const a=new o({max:1e3});const h=r(9323);const l=r(6746);const c=r(80);const u=r(7628);const{re:d,t:p,comparatorTrimReplace:g,tildeTrimReplace:y,caretTrimReplace:b}=r(6780);const{FLAG_INCLUDE_PRERELEASE:w,FLAG_LOOSE:_}=r(7843);const isNullSet=t=>t.value==="<0.0.0-0";const isAny=t=>t.value==="";const isSatisfiable=(t,i)=>{let r=true;const o=t.slice();let a=o.pop();while(r&&o.length){r=o.every((t=>a.intersects(t,i)));a=o.pop()}return r};const parseComparator=(t,i)=>{c("comp",t,i);t=replaceCarets(t,i);c("caret",t);t=replaceTildes(t,i);c("tildes",t);t=replaceXRanges(t,i);c("xrange",t);t=replaceStars(t,i);c("stars",t);return t};const isX=t=>!t||t.toLowerCase()==="x"||t==="*";const replaceTildes=(t,i)=>t.trim().split(/\s+/).map((t=>replaceTilde(t,i))).join(" ");const replaceTilde=(t,i)=>{const r=i.loose?d[p.TILDELOOSE]:d[p.TILDE];return t.replace(r,((i,r,o,a,h)=>{c("tilde",t,i,r,o,a,h);let l;if(isX(r)){l=""}else if(isX(o)){l=`>=${r}.0.0 <${+r+1}.0.0-0`}else if(isX(a)){l=`>=${r}.${o}.0 <${r}.${+o+1}.0-0`}else if(h){c("replaceTilde pr",h);l=`>=${r}.${o}.${a}-${h} <${r}.${+o+1}.0-0`}else{l=`>=${r}.${o}.${a} <${r}.${+o+1}.0-0`}c("tilde return",l);return l}))};const replaceCarets=(t,i)=>t.trim().split(/\s+/).map((t=>replaceCaret(t,i))).join(" ");const replaceCaret=(t,i)=>{c("caret",t,i);const r=i.loose?d[p.CARETLOOSE]:d[p.CARET];const o=i.includePrerelease?"-0":"";return t.replace(r,((i,r,a,h,l)=>{c("caret",t,i,r,a,h,l);let u;if(isX(r)){u=""}else if(isX(a)){u=`>=${r}.0.0${o} <${+r+1}.0.0-0`}else if(isX(h)){if(r==="0"){u=`>=${r}.${a}.0${o} <${r}.${+a+1}.0-0`}else{u=`>=${r}.${a}.0${o} <${+r+1}.0.0-0`}}else if(l){c("replaceCaret pr",l);if(r==="0"){if(a==="0"){u=`>=${r}.${a}.${h}-${l} <${r}.${a}.${+h+1}-0`}else{u=`>=${r}.${a}.${h}-${l} <${r}.${+a+1}.0-0`}}else{u=`>=${r}.${a}.${h}-${l} <${+r+1}.0.0-0`}}else{c("no pr");if(r==="0"){if(a==="0"){u=`>=${r}.${a}.${h}${o} <${r}.${a}.${+h+1}-0`}else{u=`>=${r}.${a}.${h}${o} <${r}.${+a+1}.0-0`}}else{u=`>=${r}.${a}.${h} <${+r+1}.0.0-0`}}c("caret return",u);return u}))};const replaceXRanges=(t,i)=>{c("replaceXRanges",t,i);return t.split(/\s+/).map((t=>replaceXRange(t,i))).join(" ")};const replaceXRange=(t,i)=>{t=t.trim();const r=i.loose?d[p.XRANGELOOSE]:d[p.XRANGE];return t.replace(r,((r,o,a,h,l,u)=>{c("xRange",t,r,o,a,h,l,u);const d=isX(a);const p=d||isX(h);const g=p||isX(l);const y=g;if(o==="="&&y){o=""}u=i.includePrerelease?"-0":"";if(d){if(o===">"||o==="<"){r="<0.0.0-0"}else{r="*"}}else if(o&&y){if(p){h=0}l=0;if(o===">"){o=">=";if(p){a=+a+1;h=0;l=0}else{h=+h+1;l=0}}else if(o==="<="){o="<";if(p){a=+a+1}else{h=+h+1}}if(o==="<"){u="-0"}r=`${o+a}.${h}.${l}${u}`}else if(p){r=`>=${a}.0.0${u} <${+a+1}.0.0-0`}else if(g){r=`>=${a}.${h}.0${u} <${a}.${+h+1}.0-0`}c("xRange return",r);return r}))};const replaceStars=(t,i)=>{c("replaceStars",t,i);return t.trim().replace(d[p.STAR],"")};const replaceGTE0=(t,i)=>{c("replaceGTE0",t,i);return t.trim().replace(d[i.includePrerelease?p.GTE0PRE:p.GTE0],"")};const hyphenReplace=t=>(i,r,o,a,h,l,c,u,d,p,g,y,b)=>{if(isX(o)){r=""}else if(isX(a)){r=`>=${o}.0.0${t?"-0":""}`}else if(isX(h)){r=`>=${o}.${a}.0${t?"-0":""}`}else if(l){r=`>=${r}`}else{r=`>=${r}${t?"-0":""}`}if(isX(d)){u=""}else if(isX(p)){u=`<${+d+1}.0.0-0`}else if(isX(g)){u=`<${d}.${+p+1}.0-0`}else if(y){u=`<=${d}.${p}.${g}-${y}`}else if(t){u=`<${d}.${p}.${+g+1}-0`}else{u=`<=${u}`}return`${r} ${u}`.trim()};const testSet=(t,i,r)=>{for(let r=0;r<t.length;r++){if(!t[r].test(i)){return false}}if(i.prerelease.length&&!r.includePrerelease){for(let r=0;r<t.length;r++){c(t[r].semver);if(t[r].semver===l.ANY){continue}if(t[r].semver.prerelease.length>0){const o=t[r].semver;if(o.major===i.major&&o.minor===i.minor&&o.patch===i.patch){return true}}}return false}return true}},7628:(t,i,r)=>{const o=r(80);const{MAX_LENGTH:a,MAX_SAFE_INTEGER:h}=r(7843);const{re:l,t:c}=r(6780);const u=r(9323);const{compareIdentifiers:d}=r(2287);class SemVer{constructor(t,i){i=u(i);if(t instanceof SemVer){if(t.loose===!!i.loose&&t.includePrerelease===!!i.includePrerelease){return t}else{t=t.version}}else if(typeof t!=="string"){throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`)}if(t.length>a){throw new TypeError(`version is longer than ${a} characters`)}o("SemVer",t,i);this.options=i;this.loose=!!i.loose;this.includePrerelease=!!i.includePrerelease;const r=t.trim().match(i.loose?l[c.LOOSE]:l[c.FULL]);if(!r){throw new TypeError(`Invalid Version: ${t}`)}this.raw=t;this.major=+r[1];this.minor=+r[2];this.patch=+r[3];if(this.major>h||this.major<0){throw new TypeError("Invalid major version")}if(this.minor>h||this.minor<0){throw new TypeError("Invalid minor version")}if(this.patch>h||this.patch<0){throw new TypeError("Invalid patch version")}if(!r[4]){this.prerelease=[]}else{this.prerelease=r[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const i=+t;if(i>=0&&i<h){return i}}return t}))}this.build=r[5]?r[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;if(this.prerelease.length){this.version+=`-${this.prerelease.join(".")}`}return this.version}toString(){return this.version}compare(t){o("SemVer.compare",this.version,this.options,t);if(!(t instanceof SemVer)){if(typeof t==="string"&&t===this.version){return 0}t=new SemVer(t,this.options)}if(t.version===this.version){return 0}return this.compareMain(t)||this.comparePre(t)}compareMain(t){if(!(t instanceof SemVer)){t=new SemVer(t,this.options)}return d(this.major,t.major)||d(this.minor,t.minor)||d(this.patch,t.patch)}comparePre(t){if(!(t instanceof SemVer)){t=new SemVer(t,this.options)}if(this.prerelease.length&&!t.prerelease.length){return-1}else if(!this.prerelease.length&&t.prerelease.length){return 1}else if(!this.prerelease.length&&!t.prerelease.length){return 0}let i=0;do{const r=this.prerelease[i];const a=t.prerelease[i];o("prerelease compare",i,r,a);if(r===undefined&&a===undefined){return 0}else if(a===undefined){return 1}else if(r===undefined){return-1}else if(r===a){continue}else{return d(r,a)}}while(++i)}compareBuild(t){if(!(t instanceof SemVer)){t=new SemVer(t,this.options)}let i=0;do{const r=this.build[i];const a=t.build[i];o("prerelease compare",i,r,a);if(r===undefined&&a===undefined){return 0}else if(a===undefined){return 1}else if(r===undefined){return-1}else if(r===a){continue}else{return d(r,a)}}while(++i)}inc(t,i,r){switch(t){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",i,r);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",i,r);break;case"prepatch":this.prerelease.length=0;this.inc("patch",i,r);this.inc("pre",i,r);break;case"prerelease":if(this.prerelease.length===0){this.inc("patch",i,r)}this.inc("pre",i,r);break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0){this.major++}this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0){this.minor++}this.patch=0;this.prerelease=[];break;case"patch":if(this.prerelease.length===0){this.patch++}this.prerelease=[];break;case"pre":{const t=Number(r)?1:0;if(!i&&r===false){throw new Error("invalid increment argument: identifier is empty")}if(this.prerelease.length===0){this.prerelease=[t]}else{let o=this.prerelease.length;while(--o>=0){if(typeof this.prerelease[o]==="number"){this.prerelease[o]++;o=-2}}if(o===-1){if(i===this.prerelease.join(".")&&r===false){throw new Error("invalid increment argument: identifier already exists")}this.prerelease.push(t)}}if(i){let o=[i,t];if(r===false){o=[i]}if(d(this.prerelease[0],i)===0){if(isNaN(this.prerelease[1])){this.prerelease=o}}else{this.prerelease=o}}break}default:throw new Error(`invalid increment argument: ${t}`)}this.format();this.raw=this.version;return this}}t.exports=SemVer},8722:(t,i,r)=>{const o=r(6075);const clean=(t,i)=>{const r=o(t.trim().replace(/^[=v]+/,""),i);return r?r.version:null};t.exports=clean},5924:(t,i,r)=>{const o=r(8382);const a=r(204);const h=r(4663);const l=r(1112);const c=r(374);const u=r(4626);const cmp=(t,i,r,d)=>{switch(i){case"===":if(typeof t==="object"){t=t.version}if(typeof r==="object"){r=r.version}return t===r;case"!==":if(typeof t==="object"){t=t.version}if(typeof r==="object"){r=r.version}return t!==r;case"":case"=":case"==":return o(t,r,d);case"!=":return a(t,r,d);case">":return h(t,r,d);case">=":return l(t,r,d);case"<":return c(t,r,d);case"<=":return u(t,r,d);default:throw new TypeError(`Invalid operator: ${i}`)}};t.exports=cmp},51:(t,i,r)=>{const o=r(7628);const a=r(6075);const{re:h,t:l}=r(6780);const coerce=(t,i)=>{if(t instanceof o){return t}if(typeof t==="number"){t=String(t)}if(typeof t!=="string"){return null}i=i||{};let r=null;if(!i.rtl){r=t.match(h[l.COERCE])}else{let i;while((i=h[l.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length)){if(!r||i.index+i[0].length!==r.index+r[0].length){r=i}h[l.COERCERTL].lastIndex=i.index+i[1].length+i[2].length}h[l.COERCERTL].lastIndex=-1}if(r===null){return null}return a(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,i)};t.exports=coerce},3783:(t,i,r)=>{const o=r(7628);const compareBuild=(t,i,r)=>{const a=new o(t,r);const h=new o(i,r);return a.compare(h)||a.compareBuild(h)};t.exports=compareBuild},2251:(t,i,r)=>{const o=r(6053);const compareLoose=(t,i)=>o(t,i,true);t.exports=compareLoose},6053:(t,i,r)=>{const o=r(7628);const compare=(t,i,r)=>new o(t,r).compare(new o(i,r));t.exports=compare},7326:(t,i,r)=>{const o=r(6075);const diff=(t,i)=>{const r=o(t,null,true);const a=o(i,null,true);const h=r.compare(a);if(h===0){return null}const l=h>0;const c=l?r:a;const u=l?a:r;const d=!!c.prerelease.length;const p=d?"pre":"";if(r.major!==a.major){return p+"major"}if(r.minor!==a.minor){return p+"minor"}if(r.patch!==a.patch){return p+"patch"}if(d){return"prerelease"}if(u.patch){return"patch"}if(u.minor){return"minor"}return"major"};t.exports=diff},8382:(t,i,r)=>{const o=r(6053);const eq=(t,i,r)=>o(t,i,r)===0;t.exports=eq},4663:(t,i,r)=>{const o=r(6053);const gt=(t,i,r)=>o(t,i,r)>0;t.exports=gt},1112:(t,i,r)=>{const o=r(6053);const gte=(t,i,r)=>o(t,i,r)>=0;t.exports=gte},1438:(t,i,r)=>{const o=r(7628);const inc=(t,i,r,a,h)=>{if(typeof r==="string"){h=a;a=r;r=undefined}try{return new o(t instanceof o?t.version:t,r).inc(i,a,h).version}catch(t){return null}};t.exports=inc},374:(t,i,r)=>{const o=r(6053);const lt=(t,i,r)=>o(t,i,r)<0;t.exports=lt},4626:(t,i,r)=>{const o=r(6053);const lte=(t,i,r)=>o(t,i,r)<=0;t.exports=lte},2774:(t,i,r)=>{const o=r(7628);const major=(t,i)=>new o(t,i).major;t.exports=major},3559:(t,i,r)=>{const o=r(7628);const minor=(t,i)=>new o(t,i).minor;t.exports=minor},204:(t,i,r)=>{const o=r(6053);const neq=(t,i,r)=>o(t,i,r)!==0;t.exports=neq},6075:(t,i,r)=>{const o=r(7628);const parse=(t,i,r=false)=>{if(t instanceof o){return t}try{return new o(t,i)}catch(t){if(!r){return null}throw t}};t.exports=parse},8867:(t,i,r)=>{const o=r(7628);const patch=(t,i)=>new o(t,i).patch;t.exports=patch},9065:(t,i,r)=>{const o=r(6075);const prerelease=(t,i)=>{const r=o(t,i);return r&&r.prerelease.length?r.prerelease:null};t.exports=prerelease},1227:(t,i,r)=>{const o=r(6053);const rcompare=(t,i,r)=>o(i,t,r);t.exports=rcompare},3576:(t,i,r)=>{const o=r(3783);const rsort=(t,i)=>t.sort(((t,r)=>o(r,t,i)));t.exports=rsort},5453:(t,i,r)=>{const o=r(2092);const satisfies=(t,i,r)=>{try{i=new o(i,r)}catch(t){return false}return i.test(t)};t.exports=satisfies},2671:(t,i,r)=>{const o=r(3783);const sort=(t,i)=>t.sort(((t,r)=>o(t,r,i)));t.exports=sort},7105:(t,i,r)=>{const o=r(6075);const valid=(t,i)=>{const r=o(t,i);return r?r.version:null};t.exports=valid},1805:(t,i,r)=>{const o=r(6780);const a=r(7843);const h=r(7628);const l=r(2287);const c=r(6075);const u=r(7105);const d=r(8722);const p=r(1438);const g=r(7326);const y=r(2774);const b=r(3559);const w=r(8867);const _=r(9065);const v=r(6053);const E=r(1227);const S=r(2251);const x=r(3783);const O=r(2671);const T=r(3576);const R=r(4663);const k=r(374);const A=r(8382);const C=r(204);const P=r(1112);const I=r(4626);const L=r(5924);const N=r(51);const M=r(6746);const D=r(2092);const $=r(5453);const j=r(8286);const B=r(6197);const H=r(383);const z=r(2026);const U=r(9230);const q=r(7616);const G=r(965);const W=r(8147);const V=r(8441);const Y=r(6683);const Z=r(8376);t.exports={parse:c,valid:u,clean:d,inc:p,diff:g,major:y,minor:b,patch:w,prerelease:_,compare:v,rcompare:E,compareLoose:S,compareBuild:x,sort:O,rsort:T,gt:R,lt:k,eq:A,neq:C,gte:P,lte:I,cmp:L,coerce:N,Comparator:M,Range:D,satisfies:$,toComparators:j,maxSatisfying:B,minSatisfying:H,minVersion:z,validRange:U,outside:q,gtr:G,ltr:W,intersects:V,simplifyRange:Y,subset:Z,SemVer:h,re:o.re,src:o.src,tokens:o.t,SEMVER_SPEC_VERSION:a.SEMVER_SPEC_VERSION,RELEASE_TYPES:a.RELEASE_TYPES,compareIdentifiers:l.compareIdentifiers,rcompareIdentifiers:l.rcompareIdentifiers}},7843:t=>{const i="2.0.0";const r=256;const o=Number.MAX_SAFE_INTEGER||9007199254740991;const a=16;const h=["major","premajor","minor","preminor","patch","prepatch","prerelease"];t.exports={MAX_LENGTH:r,MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_INTEGER:o,RELEASE_TYPES:h,SEMVER_SPEC_VERSION:i,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},80:t=>{const i=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};t.exports=i},2287:t=>{const i=/^[0-9]+$/;const compareIdentifiers=(t,r)=>{const o=i.test(t);const a=i.test(r);if(o&&a){t=+t;r=+r}return t===r?0:o&&!a?-1:a&&!o?1:t<r?-1:1};const rcompareIdentifiers=(t,i)=>compareIdentifiers(i,t);t.exports={compareIdentifiers:compareIdentifiers,rcompareIdentifiers:rcompareIdentifiers}},9323:t=>{const i=Object.freeze({loose:true});const r=Object.freeze({});const parseOptions=t=>{if(!t){return r}if(typeof t!=="object"){return i}return t};t.exports=parseOptions},6780:(t,i,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:o}=r(7843);const a=r(80);i=t.exports={};const h=i.re=[];const l=i.src=[];const c=i.t={};let u=0;const createToken=(t,i,r)=>{const o=u++;a(t,o,i);c[t]=o;l[o]=i;h[o]=new RegExp(i,r?"g":undefined)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","[0-9]+");createToken("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");createToken("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.`+`(${l[c.NUMERICIDENTIFIER]})\\.`+`(${l[c.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.`+`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.`+`(${l[c.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER","[0-9A-Za-z-]+");createToken("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`);createToken("FULL",`^${l[c.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`);createToken("LOOSE",`^${l[c.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})`+`(?:\\.(${l[c.XRANGEIDENTIFIER]})`+`(?:\\.(${l[c.XRANGEIDENTIFIER]})`+`(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?`+`)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})`+`(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?`+`)?)?`);createToken("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`);createToken("COERCE",`${"(^|[^\\d])"+"(\\d{1,"}${o}})`+`(?:\\.(\\d{1,${o}}))?`+`(?:\\.(\\d{1,${o}}))?`+`(?:$|[^\\d])`);createToken("COERCERTL",l[c.COERCE],true);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,true);i.tildeTrimReplace="$1~";createToken("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,true);i.caretTrimReplace="$1^";createToken("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,true);i.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})`+`\\s+-\\s+`+`(${l[c.XRANGEPLAIN]})`+`\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})`+`\\s+-\\s+`+`(${l[c.XRANGEPLAINLOOSE]})`+`\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},965:(t,i,r)=>{const o=r(7616);const gtr=(t,i,r)=>o(t,i,">",r);t.exports=gtr},8441:(t,i,r)=>{const o=r(2092);const intersects=(t,i,r)=>{t=new o(t,r);i=new o(i,r);return t.intersects(i,r)};t.exports=intersects},8147:(t,i,r)=>{const o=r(7616);const ltr=(t,i,r)=>o(t,i,"<",r);t.exports=ltr},6197:(t,i,r)=>{const o=r(7628);const a=r(2092);const maxSatisfying=(t,i,r)=>{let h=null;let l=null;let c=null;try{c=new a(i,r)}catch(t){return null}t.forEach((t=>{if(c.test(t)){if(!h||l.compare(t)===-1){h=t;l=new o(h,r)}}}));return h};t.exports=maxSatisfying},383:(t,i,r)=>{const o=r(7628);const a=r(2092);const minSatisfying=(t,i,r)=>{let h=null;let l=null;let c=null;try{c=new a(i,r)}catch(t){return null}t.forEach((t=>{if(c.test(t)){if(!h||l.compare(t)===1){h=t;l=new o(h,r)}}}));return h};t.exports=minSatisfying},2026:(t,i,r)=>{const o=r(7628);const a=r(2092);const h=r(4663);const minVersion=(t,i)=>{t=new a(t,i);let r=new o("0.0.0");if(t.test(r)){return r}r=new o("0.0.0-0");if(t.test(r)){return r}r=null;for(let i=0;i<t.set.length;++i){const a=t.set[i];let l=null;a.forEach((t=>{const i=new o(t.semver.version);switch(t.operator){case">":if(i.prerelease.length===0){i.patch++}else{i.prerelease.push(0)}i.raw=i.format();case"":case">=":if(!l||h(i,l)){l=i}break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}}));if(l&&(!r||h(r,l))){r=l}}if(r&&t.test(r)){return r}return null};t.exports=minVersion},7616:(t,i,r)=>{const o=r(7628);const a=r(6746);const{ANY:h}=a;const l=r(2092);const c=r(5453);const u=r(4663);const d=r(374);const p=r(4626);const g=r(1112);const outside=(t,i,r,y)=>{t=new o(t,y);i=new l(i,y);let b,w,_,v,E;switch(r){case">":b=u;w=p;_=d;v=">";E=">=";break;case"<":b=d;w=g;_=u;v="<";E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(c(t,i,y)){return false}for(let r=0;r<i.set.length;++r){const o=i.set[r];let l=null;let c=null;o.forEach((t=>{if(t.semver===h){t=new a(">=0.0.0")}l=l||t;c=c||t;if(b(t.semver,l.semver,y)){l=t}else if(_(t.semver,c.semver,y)){c=t}}));if(l.operator===v||l.operator===E){return false}if((!c.operator||c.operator===v)&&w(t,c.semver)){return false}else if(c.operator===E&&_(t,c.semver)){return false}}return true};t.exports=outside},6683:(t,i,r)=>{const o=r(5453);const a=r(6053);t.exports=(t,i,r)=>{const h=[];let l=null;let c=null;const u=t.sort(((t,i)=>a(t,i,r)));for(const t of u){const a=o(t,i,r);if(a){c=t;if(!l){l=t}}else{if(c){h.push([l,c])}c=null;l=null}}if(l){h.push([l,null])}const d=[];for(const[t,i]of h){if(t===i){d.push(t)}else if(!i&&t===u[0]){d.push("*")}else if(!i){d.push(`>=${t}`)}else if(t===u[0]){d.push(`<=${i}`)}else{d.push(`${t} - ${i}`)}}const p=d.join(" || ");const g=typeof i.raw==="string"?i.raw:String(i);return p.length<g.length?p:i}},8376:(t,i,r)=>{const o=r(2092);const a=r(6746);const{ANY:h}=a;const l=r(5453);const c=r(6053);const subset=(t,i,r={})=>{if(t===i){return true}t=new o(t,r);i=new o(i,r);let a=false;e:for(const o of t.set){for(const t of i.set){const i=simpleSubset(o,t,r);a=a||i!==null;if(i){continue e}}if(a){return false}}return true};const u=[new a(">=0.0.0-0")];const d=[new a(">=0.0.0")];const simpleSubset=(t,i,r)=>{if(t===i){return true}if(t.length===1&&t[0].semver===h){if(i.length===1&&i[0].semver===h){return true}else if(r.includePrerelease){t=u}else{t=d}}if(i.length===1&&i[0].semver===h){if(r.includePrerelease){return true}else{i=d}}const o=new Set;let a,p;for(const i of t){if(i.operator===">"||i.operator===">="){a=higherGT(a,i,r)}else if(i.operator==="<"||i.operator==="<="){p=lowerLT(p,i,r)}else{o.add(i.semver)}}if(o.size>1){return null}let g;if(a&&p){g=c(a.semver,p.semver,r);if(g>0){return null}else if(g===0&&(a.operator!==">="||p.operator!=="<=")){return null}}for(const t of o){if(a&&!l(t,String(a),r)){return null}if(p&&!l(t,String(p),r)){return null}for(const o of i){if(!l(t,String(o),r)){return false}}return true}let y,b;let w,_;let v=p&&!r.includePrerelease&&p.semver.prerelease.length?p.semver:false;let E=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:false;if(v&&v.prerelease.length===1&&p.operator==="<"&&v.prerelease[0]===0){v=false}for(const t of i){_=_||t.operator===">"||t.operator===">=";w=w||t.operator==="<"||t.operator==="<=";if(a){if(E){if(t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===E.major&&t.semver.minor===E.minor&&t.semver.patch===E.patch){E=false}}if(t.operator===">"||t.operator===">="){y=higherGT(a,t,r);if(y===t&&y!==a){return false}}else if(a.operator===">="&&!l(a.semver,String(t),r)){return false}}if(p){if(v){if(t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===v.major&&t.semver.minor===v.minor&&t.semver.patch===v.patch){v=false}}if(t.operator==="<"||t.operator==="<="){b=lowerLT(p,t,r);if(b===t&&b!==p){return false}}else if(p.operator==="<="&&!l(p.semver,String(t),r)){return false}}if(!t.operator&&(p||a)&&g!==0){return false}}if(a&&w&&!p&&g!==0){return false}if(p&&_&&!a&&g!==0){return false}if(E||v){return false}return true};const higherGT=(t,i,r)=>{if(!t){return i}const o=c(t.semver,i.semver,r);return o>0?t:o<0?i:i.operator===">"&&t.operator===">="?i:t};const lowerLT=(t,i,r)=>{if(!t){return i}const o=c(t.semver,i.semver,r);return o<0?t:o>0?i:i.operator==="<"&&t.operator==="<="?i:t};t.exports=subset},8286:(t,i,r)=>{const o=r(2092);const toComparators=(t,i)=>new o(t,i).set.map((t=>t.map((t=>t.value)).join(" ").trim().split(" ")));t.exports=toComparators},9230:(t,i,r)=>{const o=r(2092);const validRange=(t,i)=>{try{return new o(t,i).range||"*"}catch(t){return null}};t.exports=validRange},5655:(t,i,r)=>{"use strict";const o=r(526);t.exports=(t="")=>{const i=t.match(o);if(!i){return null}const[r,a]=i[0].replace(/#! ?/,"").split(" ");const h=r.split("/").pop();if(h==="env"){return a}return a?`${h} ${a}`:h}},526:t=>{"use strict";t.exports=/^#!(.*)/},2907:t=>{"use strict";const i="";const r=`${i}[`;const o="";const a={to(t,i){if(!i)return`${r}${t+1}G`;return`${r}${i+1};${t+1}H`},move(t,i){let o="";if(t<0)o+=`${r}${-t}D`;else if(t>0)o+=`${r}${t}C`;if(i<0)o+=`${r}${-i}A`;else if(i>0)o+=`${r}${i}B`;return o},up:(t=1)=>`${r}${t}A`,down:(t=1)=>`${r}${t}B`,forward:(t=1)=>`${r}${t}C`,backward:(t=1)=>`${r}${t}D`,nextLine:(t=1)=>`${r}E`.repeat(t),prevLine:(t=1)=>`${r}F`.repeat(t),left:`${r}G`,hide:`${r}?25l`,show:`${r}?25h`,save:`${i}7`,restore:`${i}8`};const h={up:(t=1)=>`${r}S`.repeat(t),down:(t=1)=>`${r}T`.repeat(t)};const l={screen:`${r}2J`,up:(t=1)=>`${r}1J`.repeat(t),down:(t=1)=>`${r}J`.repeat(t),line:`${r}2K`,lineEnd:`${r}K`,lineStart:`${r}1K`,lines(t){let i="";for(let r=0;r<t;r++)i+=this.line+(r<t-1?a.up():"");if(t)i+=a.left;return i}};t.exports={cursor:a,scroll:h,erase:l,beep:o}},8808:(t,i,r)=>{"use strict";i.c=i.create=r(3834);i.r=i.replace=r(1376);i.t=i.list=r(182);i.u=i.update=r(2350);i.x=i.extract=r(6132);i.Pack=r(1550);i.Unpack=r(2622);i.Parse=r(2600);i.ReadEntry=r(9613);i.WriteEntry=r(7394);i.Header=r(1926);i.Pax=r(2186);i.types=r(5435)},3834:(t,i,r)=>{"use strict";const o=r(1527);const a=r(1550);const h=r(5271);const l=r(182);const c=r(1017);t.exports=(t,i,r)=>{if(typeof i==="function"){r=i}if(Array.isArray(t)){i=t,t={}}if(!i||!Array.isArray(i)||!i.length){throw new TypeError("no files or directories specified")}i=Array.from(i);const a=o(t);if(a.sync&&typeof r==="function"){throw new TypeError("callback not supported for sync tar functions")}if(!a.file&&typeof r==="function"){throw new TypeError("callback only supported with file option")}return a.file&&a.sync?createFileSync(a,i):a.file?createFile(a,i,r):a.sync?createSync(a,i):create(a,i)};const createFileSync=(t,i)=>{const r=new a.Sync(t);const o=new h.WriteStreamSync(t.file,{mode:t.mode||438});r.pipe(o);addFilesSync(r,i)};const createFile=(t,i,r)=>{const o=new a(t);const l=new h.WriteStream(t.file,{mode:t.mode||438});o.pipe(l);const c=new Promise(((t,i)=>{l.on("error",i);l.on("close",t);o.on("error",i)}));addFilesAsync(o,i);return r?c.then(r,r):c};const addFilesSync=(t,i)=>{i.forEach((i=>{if(i.charAt(0)==="@"){l({file:c.resolve(t.cwd,i.slice(1)),sync:true,noResume:true,onentry:i=>t.add(i)})}else{t.add(i)}}));t.end()};const addFilesAsync=(t,i)=>{while(i.length){const r=i.shift();if(r.charAt(0)==="@"){return l({file:c.resolve(t.cwd,r.slice(1)),noResume:true,onentry:i=>t.add(i)}).then((r=>addFilesAsync(t,i)))}else{t.add(r)}}t.end()};const createSync=(t,i)=>{const r=new a.Sync(t);addFilesSync(r,i);return r};const create=(t,i)=>{const r=new a(t);addFilesAsync(r,i);return r}},6132:(t,i,r)=>{"use strict";const o=r(1527);const a=r(2622);const h=r(7147);const l=r(5271);const c=r(1017);const u=r(8414);t.exports=(t,i,r)=>{if(typeof t==="function"){r=t,i=null,t={}}else if(Array.isArray(t)){i=t,t={}}if(typeof i==="function"){r=i,i=null}if(!i){i=[]}else{i=Array.from(i)}const a=o(t);if(a.sync&&typeof r==="function"){throw new TypeError("callback not supported for sync tar functions")}if(!a.file&&typeof r==="function"){throw new TypeError("callback only supported with file option")}if(i.length){filesFilter(a,i)}return a.file&&a.sync?extractFileSync(a):a.file?extractFile(a,r):a.sync?extractSync(a):extract(a)};const filesFilter=(t,i)=>{const r=new Map(i.map((t=>[u(t),true])));const o=t.filter;const mapHas=(t,i)=>{const o=i||c.parse(t).root||".";const a=t===o?false:r.has(t)?r.get(t):mapHas(c.dirname(t),o);r.set(t,a);return a};t.filter=o?(t,i)=>o(t,i)&&mapHas(u(t)):t=>mapHas(u(t))};const extractFileSync=t=>{const i=new a.Sync(t);const r=t.file;const o=h.statSync(r);const c=t.maxReadSize||16*1024*1024;const u=new l.ReadStreamSync(r,{readSize:c,size:o.size});u.pipe(i)};const extractFile=(t,i)=>{const r=new a(t);const o=t.maxReadSize||16*1024*1024;const c=t.file;const u=new Promise(((t,i)=>{r.on("error",i);r.on("close",t);h.stat(c,((t,a)=>{if(t){i(t)}else{const t=new l.ReadStream(c,{readSize:o,size:a.size});t.on("error",i);t.pipe(r)}}))}));return i?u.then(i,i):u};const extractSync=t=>new a.Sync(t);const extract=t=>new a(t)},335:(t,i,r)=>{const o=process.env.__FAKE_PLATFORM__||process.platform;const a=o==="win32";const h=global.__FAKE_TESTING_FS__||r(7147);const{O_CREAT:l,O_TRUNC:c,O_WRONLY:u,UV_FS_O_FILEMAP:d=0}=h.constants;const p=a&&!!d;const g=512*1024;const y=d|c|l|u;t.exports=!p?()=>"w":t=>t<g?y:"w"},1926:(t,i,r)=>{"use strict";const o=r(5435);const a=r(1017).posix;const h=r(4341);const l=Symbol("slurp");const c=Symbol("type");class Header{constructor(t,i,r,o){this.cksumValid=false;this.needPax=false;this.nullBlock=false;this.block=null;this.path=null;this.mode=null;this.uid=null;this.gid=null;this.size=null;this.mtime=null;this.cksum=null;this[c]="0";this.linkpath=null;this.uname=null;this.gname=null;this.devmaj=0;this.devmin=0;this.atime=null;this.ctime=null;if(Buffer.isBuffer(t)){this.decode(t,i||0,r,o)}else if(t){this.set(t)}}decode(t,i,r,o){if(!i){i=0}if(!t||!(t.length>=i+512)){throw new Error("need 512 bytes for header")}this.path=decString(t,i,100);this.mode=decNumber(t,i+100,8);this.uid=decNumber(t,i+108,8);this.gid=decNumber(t,i+116,8);this.size=decNumber(t,i+124,12);this.mtime=decDate(t,i+136,12);this.cksum=decNumber(t,i+148,12);this[l](r);this[l](o,true);this[c]=decString(t,i+156,1);if(this[c]===""){this[c]="0"}if(this[c]==="0"&&this.path.slice(-1)==="/"){this[c]="5"}if(this[c]==="5"){this.size=0}this.linkpath=decString(t,i+157,100);if(t.slice(i+257,i+265).toString()==="ustar\x0000"){this.uname=decString(t,i+265,32);this.gname=decString(t,i+297,32);this.devmaj=decNumber(t,i+329,8);this.devmin=decNumber(t,i+337,8);if(t[i+475]!==0){const r=decString(t,i+345,155);this.path=r+"/"+this.path}else{const r=decString(t,i+345,130);if(r){this.path=r+"/"+this.path}this.atime=decDate(t,i+476,12);this.ctime=decDate(t,i+488,12)}}let a=8*32;for(let r=i;r<i+148;r++){a+=t[r]}for(let r=i+156;r<i+512;r++){a+=t[r]}this.cksumValid=a===this.cksum;if(this.cksum===null&&a===8*32){this.nullBlock=true}}[l](t,i){for(const r in t){if(t[r]!==null&&t[r]!==undefined&&!(i&&r==="path")){this[r]=t[r]}}}encode(t,i){if(!t){t=this.block=Buffer.alloc(512);i=0}if(!i){i=0}if(!(t.length>=i+512)){throw new Error("need 512 bytes for header")}const r=this.ctime||this.atime?130:155;const o=splitPrefix(this.path||"",r);const a=o[0];const h=o[1];this.needPax=o[2];this.needPax=encString(t,i,100,a)||this.needPax;this.needPax=encNumber(t,i+100,8,this.mode)||this.needPax;this.needPax=encNumber(t,i+108,8,this.uid)||this.needPax;this.needPax=encNumber(t,i+116,8,this.gid)||this.needPax;this.needPax=encNumber(t,i+124,12,this.size)||this.needPax;this.needPax=encDate(t,i+136,12,this.mtime)||this.needPax;t[i+156]=this[c].charCodeAt(0);this.needPax=encString(t,i+157,100,this.linkpath)||this.needPax;t.write("ustar\x0000",i+257,8);this.needPax=encString(t,i+265,32,this.uname)||this.needPax;this.needPax=encString(t,i+297,32,this.gname)||this.needPax;this.needPax=encNumber(t,i+329,8,this.devmaj)||this.needPax;this.needPax=encNumber(t,i+337,8,this.devmin)||this.needPax;this.needPax=encString(t,i+345,r,h)||this.needPax;if(t[i+475]!==0){this.needPax=encString(t,i+345,155,h)||this.needPax}else{this.needPax=encString(t,i+345,130,h)||this.needPax;this.needPax=encDate(t,i+476,12,this.atime)||this.needPax;this.needPax=encDate(t,i+488,12,this.ctime)||this.needPax}let l=8*32;for(let r=i;r<i+148;r++){l+=t[r]}for(let r=i+156;r<i+512;r++){l+=t[r]}this.cksum=l;encNumber(t,i+148,8,this.cksum);this.cksumValid=true;return this.needPax}set(t){for(const i in t){if(t[i]!==null&&t[i]!==undefined){this[i]=t[i]}}}get type(){return o.name.get(this[c])||this[c]}get typeKey(){return this[c]}set type(t){if(o.code.has(t)){this[c]=o.code.get(t)}else{this[c]=t}}}const splitPrefix=(t,i)=>{const r=100;let o=t;let h="";let l;const c=a.parse(t).root||".";if(Buffer.byteLength(o)<r){l=[o,h,false]}else{h=a.dirname(o);o=a.basename(o);do{if(Buffer.byteLength(o)<=r&&Buffer.byteLength(h)<=i){l=[o,h,false]}else if(Buffer.byteLength(o)>r&&Buffer.byteLength(h)<=i){l=[o.slice(0,r-1),h,true]}else{o=a.join(a.basename(h),o);h=a.dirname(h)}}while(h!==c&&!l);if(!l){l=[t.slice(0,r-1),"",true]}}return l};const decString=(t,i,r)=>t.slice(i,i+r).toString("utf8").replace(/\0.*/,"");const decDate=(t,i,r)=>numToDate(decNumber(t,i,r));const numToDate=t=>t===null?null:new Date(t*1e3);const decNumber=(t,i,r)=>t[i]&128?h.parse(t.slice(i,i+r)):decSmallNumber(t,i,r);const nanNull=t=>isNaN(t)?null:t;const decSmallNumber=(t,i,r)=>nanNull(parseInt(t.slice(i,i+r).toString("utf8").replace(/\0.*$/,"").trim(),8));const u={12:8589934591,8:2097151};const encNumber=(t,i,r,o)=>o===null?false:o>u[r]||o<0?(h.encode(o,t.slice(i,i+r)),true):(encSmallNumber(t,i,r,o),false);const encSmallNumber=(t,i,r,o)=>t.write(octalString(o,r),i,r,"ascii");const octalString=(t,i)=>padOctal(Math.floor(t).toString(8),i);const padOctal=(t,i)=>(t.length===i-1?t:new Array(i-t.length-1).join("0")+t+" ")+"\0";const encDate=(t,i,r,o)=>o===null?false:encNumber(t,i,r,o.getTime()/1e3);const d=new Array(156).join("\0");const encString=(t,i,r,o)=>o===null?false:(t.write(o+d,i,r,"utf8"),o.length!==Buffer.byteLength(o)||o.length>r);t.exports=Header},1527:t=>{"use strict";const i=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);t.exports=t=>t?Object.keys(t).map((r=>[i.has(r)?i.get(r):r,t[r]])).reduce(((t,i)=>(t[i[0]]=i[1],t)),Object.create(null)):{}},4341:t=>{"use strict";const encode=(t,i)=>{if(!Number.isSafeInteger(t)){throw Error("cannot encode number outside of javascript safe integer range")}else if(t<0){encodeNegative(t,i)}else{encodePositive(t,i)}return i};const encodePositive=(t,i)=>{i[0]=128;for(var r=i.length;r>1;r--){i[r-1]=t&255;t=Math.floor(t/256)}};const encodeNegative=(t,i)=>{i[0]=255;var r=false;t=t*-1;for(var o=i.length;o>1;o--){var a=t&255;t=Math.floor(t/256);if(r){i[o-1]=onesComp(a)}else if(a===0){i[o-1]=0}else{r=true;i[o-1]=twosComp(a)}}};const parse=t=>{const i=t[0];const r=i===128?pos(t.slice(1,t.length)):i===255?twos(t):null;if(r===null){throw Error("invalid base256 encoding")}if(!Number.isSafeInteger(r)){throw Error("parsed number outside of javascript safe integer range")}return r};const twos=t=>{var i=t.length;var r=0;var o=false;for(var a=i-1;a>-1;a--){var h=t[a];var l;if(o){l=onesComp(h)}else if(h===0){l=h}else{o=true;l=twosComp(h)}if(l!==0){r-=l*Math.pow(256,i-a-1)}}return r};const pos=t=>{var i=t.length;var r=0;for(var o=i-1;o>-1;o--){var a=t[o];if(a!==0){r+=a*Math.pow(256,i-o-1)}}return r};const onesComp=t=>(255^t)&255;const twosComp=t=>(255^t)+1&255;t.exports={encode:encode,parse:parse}},182:(t,i,r)=>{"use strict";const o=r(1527);const a=r(2600);const h=r(7147);const l=r(5271);const c=r(1017);const u=r(8414);t.exports=(t,i,r)=>{if(typeof t==="function"){r=t,i=null,t={}}else if(Array.isArray(t)){i=t,t={}}if(typeof i==="function"){r=i,i=null}if(!i){i=[]}else{i=Array.from(i)}const a=o(t);if(a.sync&&typeof r==="function"){throw new TypeError("callback not supported for sync tar functions")}if(!a.file&&typeof r==="function"){throw new TypeError("callback only supported with file option")}if(i.length){filesFilter(a,i)}if(!a.noResume){onentryFunction(a)}return a.file&&a.sync?listFileSync(a):a.file?listFile(a,r):list(a)};const onentryFunction=t=>{const i=t.onentry;t.onentry=i?t=>{i(t);t.resume()}:t=>t.resume()};const filesFilter=(t,i)=>{const r=new Map(i.map((t=>[u(t),true])));const o=t.filter;const mapHas=(t,i)=>{const o=i||c.parse(t).root||".";const a=t===o?false:r.has(t)?r.get(t):mapHas(c.dirname(t),o);r.set(t,a);return a};t.filter=o?(t,i)=>o(t,i)&&mapHas(u(t)):t=>mapHas(u(t))};const listFileSync=t=>{const i=list(t);const r=t.file;let o=true;let a;try{const l=h.statSync(r);const c=t.maxReadSize||16*1024*1024;if(l.size<c){i.end(h.readFileSync(r))}else{let t=0;const o=Buffer.allocUnsafe(c);a=h.openSync(r,"r");while(t<l.size){const r=h.readSync(a,o,0,c,t);t+=r;i.write(o.slice(0,r))}i.end()}o=false}finally{if(o&&a){try{h.closeSync(a)}catch(t){}}}};const listFile=(t,i)=>{const r=new a(t);const o=t.maxReadSize||16*1024*1024;const c=t.file;const u=new Promise(((t,i)=>{r.on("error",i);r.on("end",t);h.stat(c,((t,a)=>{if(t){i(t)}else{const t=new l.ReadStream(c,{readSize:o,size:a.size});t.on("error",i);t.pipe(r)}}))}));return i?u.then(i,i):u};const list=t=>new a(t)},6940:(t,i,r)=>{"use strict";const o=r(5824);const a=r(7147);const h=r(1017);const l=r(3337);const c=r(4183);class SymlinkError extends Error{constructor(t,i){super("Cannot extract through symbolic link");this.path=i;this.symlink=t}get name(){return"SylinkError"}}class CwdError extends Error{constructor(t,i){super(i+": Cannot cd into '"+t+"'");this.path=t;this.code=i}get name(){return"CwdError"}}const cGet=(t,i)=>t.get(c(i));const cSet=(t,i,r)=>t.set(c(i),r);const checkCwd=(t,i)=>{a.stat(t,((r,o)=>{if(r||!o.isDirectory()){r=new CwdError(t,r&&r.code||"ENOTDIR")}i(r)}))};t.exports=(t,i,r)=>{t=c(t);const u=i.umask;const d=i.mode|448;const p=(d&u)!==0;const g=i.uid;const y=i.gid;const b=typeof g==="number"&&typeof y==="number"&&(g!==i.processUid||y!==i.processGid);const w=i.preserve;const _=i.unlink;const v=i.cache;const E=c(i.cwd);const done=(i,o)=>{if(i){r(i)}else{cSet(v,t,true);if(o&&b){l(o,g,y,(t=>done(t)))}else if(p){a.chmod(t,d,r)}else{r()}}};if(v&&cGet(v,t)===true){return done()}if(t===E){return checkCwd(t,done)}if(w){return o(t,{mode:d}).then((t=>done(null,t)),done)}const S=c(h.relative(E,t));const x=S.split("/");mkdir_(E,x,d,v,_,E,null,done)};const mkdir_=(t,i,r,o,l,u,d,p)=>{if(!i.length){return p(null,d)}const g=i.shift();const y=c(h.resolve(t+"/"+g));if(cGet(o,y)){return mkdir_(y,i,r,o,l,u,d,p)}a.mkdir(y,r,onmkdir(y,i,r,o,l,u,d,p))};const onmkdir=(t,i,r,o,h,l,u,d)=>p=>{if(p){a.lstat(t,((g,y)=>{if(g){g.path=g.path&&c(g.path);d(g)}else if(y.isDirectory()){mkdir_(t,i,r,o,h,l,u,d)}else if(h){a.unlink(t,(c=>{if(c){return d(c)}a.mkdir(t,r,onmkdir(t,i,r,o,h,l,u,d))}))}else if(y.isSymbolicLink()){return d(new SymlinkError(t,t+"/"+i.join("/")))}else{d(p)}}))}else{u=u||t;mkdir_(t,i,r,o,h,l,u,d)}};const checkCwdSync=t=>{let i=false;let r="ENOTDIR";try{i=a.statSync(t).isDirectory()}catch(t){r=t.code}finally{if(!i){throw new CwdError(t,r)}}};t.exports.sync=(t,i)=>{t=c(t);const r=i.umask;const u=i.mode|448;const d=(u&r)!==0;const p=i.uid;const g=i.gid;const y=typeof p==="number"&&typeof g==="number"&&(p!==i.processUid||g!==i.processGid);const b=i.preserve;const w=i.unlink;const _=i.cache;const v=c(i.cwd);const done=i=>{cSet(_,t,true);if(i&&y){l.sync(i,p,g)}if(d){a.chmodSync(t,u)}};if(_&&cGet(_,t)===true){return done()}if(t===v){checkCwdSync(v);return done()}if(b){return done(o.sync(t,u))}const E=c(h.relative(v,t));const S=E.split("/");let x=null;for(let t=S.shift(),i=v;t&&(i+="/"+t);t=S.shift()){i=c(h.resolve(i));if(cGet(_,i)){continue}try{a.mkdirSync(i,u);x=x||i;cSet(_,i,true)}catch(t){const r=a.lstatSync(i);if(r.isDirectory()){cSet(_,i,true);continue}else if(w){a.unlinkSync(i);a.mkdirSync(i,u);x=x||i;cSet(_,i,true);continue}else if(r.isSymbolicLink()){return new SymlinkError(i,i+"/"+S.join("/"))}}}return done(x)}},7474:t=>{"use strict";t.exports=(t,i,r)=>{t&=4095;if(r){t=(t|384)&~18}if(i){if(t&256){t|=64}if(t&32){t|=8}if(t&4){t|=1}}return t}},2192:t=>{const i=Object.create(null);const{hasOwnProperty:r}=Object.prototype;t.exports=t=>{if(!r.call(i,t)){i[t]=t.normalize("NFD")}return i[t]}},4183:t=>{const i=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;t.exports=i!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")},1550:(t,i,r)=>{"use strict";class PackJob{constructor(t,i){this.path=t||"./";this.absolute=i;this.entry=null;this.stat=null;this.readdir=null;this.pending=false;this.ignore=false;this.piped=false}}const{Minipass:o}=r(6684);const a=r(3366);const h=r(9613);const l=r(7394);const c=l.Sync;const u=l.Tar;const d=r(9248);const p=Buffer.alloc(1024);const g=Symbol("onStat");const y=Symbol("ended");const b=Symbol("queue");const w=Symbol("current");const _=Symbol("process");const v=Symbol("processing");const E=Symbol("processJob");const S=Symbol("jobs");const x=Symbol("jobDone");const O=Symbol("addFSEntry");const T=Symbol("addTarEntry");const R=Symbol("stat");const k=Symbol("readdir");const A=Symbol("onreaddir");const C=Symbol("pipe");const P=Symbol("entry");const I=Symbol("entryOpt");const L=Symbol("writeEntryClass");const N=Symbol("write");const M=Symbol("ondrain");const D=r(7147);const $=r(1017);const j=r(1189);const B=r(4183);const H=j(class Pack extends o{constructor(t){super(t);t=t||Object.create(null);this.opt=t;this.file=t.file||"";this.cwd=t.cwd||process.cwd();this.maxReadSize=t.maxReadSize;this.preservePaths=!!t.preservePaths;this.strict=!!t.strict;this.noPax=!!t.noPax;this.prefix=B(t.prefix||"");this.linkCache=t.linkCache||new Map;this.statCache=t.statCache||new Map;this.readdirCache=t.readdirCache||new Map;this[L]=l;if(typeof t.onwarn==="function"){this.on("warn",t.onwarn)}this.portable=!!t.portable;this.zip=null;if(t.gzip){if(typeof t.gzip!=="object"){t.gzip={}}if(this.portable){t.gzip.portable=true}this.zip=new a.Gzip(t.gzip);this.zip.on("data",(t=>super.write(t)));this.zip.on("end",(t=>super.end()));this.zip.on("drain",(t=>this[M]()));this.on("resume",(t=>this.zip.resume()))}else{this.on("drain",this[M])}this.noDirRecurse=!!t.noDirRecurse;this.follow=!!t.follow;this.noMtime=!!t.noMtime;this.mtime=t.mtime||null;this.filter=typeof t.filter==="function"?t.filter:t=>true;this[b]=new d;this[S]=0;this.jobs=+t.jobs||4;this[v]=false;this[y]=false}[N](t){return super.write(t)}add(t){this.write(t);return this}end(t){if(t){this.write(t)}this[y]=true;this[_]();return this}write(t){if(this[y]){throw new Error("write after end")}if(t instanceof h){this[T](t)}else{this[O](t)}return this.flowing}[T](t){const i=B($.resolve(this.cwd,t.path));if(!this.filter(t.path,t)){t.resume()}else{const r=new PackJob(t.path,i,false);r.entry=new u(t,this[I](r));r.entry.on("end",(t=>this[x](r)));this[S]+=1;this[b].push(r)}this[_]()}[O](t){const i=B($.resolve(this.cwd,t));this[b].push(new PackJob(t,i));this[_]()}[R](t){t.pending=true;this[S]+=1;const i=this.follow?"stat":"lstat";D[i](t.absolute,((i,r)=>{t.pending=false;this[S]-=1;if(i){this.emit("error",i)}else{this[g](t,r)}}))}[g](t,i){this.statCache.set(t.absolute,i);t.stat=i;if(!this.filter(t.path,i)){t.ignore=true}this[_]()}[k](t){t.pending=true;this[S]+=1;D.readdir(t.absolute,((i,r)=>{t.pending=false;this[S]-=1;if(i){return this.emit("error",i)}this[A](t,r)}))}[A](t,i){this.readdirCache.set(t.absolute,i);t.readdir=i;this[_]()}[_](){if(this[v]){return}this[v]=true;for(let t=this[b].head;t!==null&&this[S]<this.jobs;t=t.next){this[E](t.value);if(t.value.ignore){const i=t.next;this[b].removeNode(t);t.next=i}}this[v]=false;if(this[y]&&!this[b].length&&this[S]===0){if(this.zip){this.zip.end(p)}else{super.write(p);super.end()}}}get[w](){return this[b]&&this[b].head&&this[b].head.value}[x](t){this[b].shift();this[S]-=1;this[_]()}[E](t){if(t.pending){return}if(t.entry){if(t===this[w]&&!t.piped){this[C](t)}return}if(!t.stat){if(this.statCache.has(t.absolute)){this[g](t,this.statCache.get(t.absolute))}else{this[R](t)}}if(!t.stat){return}if(t.ignore){return}if(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir){if(this.readdirCache.has(t.absolute)){this[A](t,this.readdirCache.get(t.absolute))}else{this[k](t)}if(!t.readdir){return}}t.entry=this[P](t);if(!t.entry){t.ignore=true;return}if(t===this[w]&&!t.piped){this[C](t)}}[I](t){return{onwarn:(t,i,r)=>this.warn(t,i,r),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[P](t){this[S]+=1;try{return new this[L](t.path,this[I](t)).on("end",(()=>this[x](t))).on("error",(t=>this.emit("error",t)))}catch(t){this.emit("error",t)}}[M](){if(this[w]&&this[w].entry){this[w].entry.resume()}}[C](t){t.piped=true;if(t.readdir){t.readdir.forEach((i=>{const r=t.path;const o=r==="./"?"":r.replace(/\/*$/,"/");this[O](o+i)}))}const i=t.entry;const r=this.zip;if(r){i.on("data",(t=>{if(!r.write(t)){i.pause()}}))}else{i.on("data",(t=>{if(!super.write(t)){i.pause()}}))}}pause(){if(this.zip){this.zip.pause()}return super.pause()}});class PackSync extends H{constructor(t){super(t);this[L]=c}pause(){}resume(){}[R](t){const i=this.follow?"statSync":"lstatSync";this[g](t,D[i](t.absolute))}[k](t,i){this[A](t,D.readdirSync(t.absolute))}[C](t){const i=t.entry;const r=this.zip;if(t.readdir){t.readdir.forEach((i=>{const r=t.path;const o=r==="./"?"":r.replace(/\/*$/,"/");this[O](o+i)}))}if(r){i.on("data",(t=>{r.write(t)}))}else{i.on("data",(t=>{super[N](t)}))}}}H.Sync=PackSync;t.exports=H},2600:(t,i,r)=>{"use strict";const o=r(1189);const a=r(1926);const h=r(2361);const l=r(9248);const c=1024*1024;const u=r(9613);const d=r(2186);const p=r(3366);const{nextTick:g}=r(7282);const y=Buffer.from([31,139]);const b=Symbol("state");const w=Symbol("writeEntry");const _=Symbol("readEntry");const v=Symbol("nextEntry");const E=Symbol("processEntry");const S=Symbol("extendedHeader");const x=Symbol("globalExtendedHeader");const O=Symbol("meta");const T=Symbol("emitMeta");const R=Symbol("buffer");const k=Symbol("queue");const A=Symbol("ended");const C=Symbol("emittedEnd");const P=Symbol("emit");const I=Symbol("unzip");const L=Symbol("consumeChunk");const N=Symbol("consumeChunkSub");const M=Symbol("consumeBody");const D=Symbol("consumeMeta");const $=Symbol("consumeHeader");const j=Symbol("consuming");const B=Symbol("bufferConcat");const H=Symbol("maybeEnd");const z=Symbol("writing");const U=Symbol("aborted");const q=Symbol("onDone");const G=Symbol("sawValidEntry");const W=Symbol("sawNullBlock");const V=Symbol("sawEOF");const Y=Symbol("closeStream");const noop=t=>true;t.exports=o(class Parser extends h{constructor(t){t=t||{};super(t);this.file=t.file||"";this[G]=null;this.on(q,(t=>{if(this[b]==="begin"||this[G]===false){this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}}));if(t.ondone){this.on(q,t.ondone)}else{this.on(q,(t=>{this.emit("prefinish");this.emit("finish");this.emit("end")}))}this.strict=!!t.strict;this.maxMetaEntrySize=t.maxMetaEntrySize||c;this.filter=typeof t.filter==="function"?t.filter:noop;this.writable=true;this.readable=false;this[k]=new l;this[R]=null;this[_]=null;this[w]=null;this[b]="begin";this[O]="";this[S]=null;this[x]=null;this[A]=false;this[I]=null;this[U]=false;this[W]=false;this[V]=false;this.on("end",(()=>this[Y]()));if(typeof t.onwarn==="function"){this.on("warn",t.onwarn)}if(typeof t.onentry==="function"){this.on("entry",t.onentry)}}[$](t,i){if(this[G]===null){this[G]=false}let r;try{r=new a(t,i,this[S],this[x])}catch(t){return this.warn("TAR_ENTRY_INVALID",t)}if(r.nullBlock){if(this[W]){this[V]=true;if(this[b]==="begin"){this[b]="header"}this[P]("eof")}else{this[W]=true;this[P]("nullBlock")}}else{this[W]=false;if(!r.cksumValid){this.warn("TAR_ENTRY_INVALID","checksum failure",{header:r})}else if(!r.path){this.warn("TAR_ENTRY_INVALID","path is required",{header:r})}else{const t=r.type;if(/^(Symbolic)?Link$/.test(t)&&!r.linkpath){this.warn("TAR_ENTRY_INVALID","linkpath required",{header:r})}else if(!/^(Symbolic)?Link$/.test(t)&&r.linkpath){this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:r})}else{const t=this[w]=new u(r,this[S],this[x]);if(!this[G]){if(t.remain){const onend=()=>{if(!t.invalid){this[G]=true}};t.on("end",onend)}else{this[G]=true}}if(t.meta){if(t.size>this.maxMetaEntrySize){t.ignore=true;this[P]("ignoredEntry",t);this[b]="ignore";t.resume()}else if(t.size>0){this[O]="";t.on("data",(t=>this[O]+=t));this[b]="meta"}}else{this[S]=null;t.ignore=t.ignore||!this.filter(t.path,t);if(t.ignore){this[P]("ignoredEntry",t);this[b]=t.remain?"ignore":"header";t.resume()}else{if(t.remain){this[b]="body"}else{this[b]="header";t.end()}if(!this[_]){this[k].push(t);this[v]()}else{this[k].push(t)}}}}}}}[Y](){g((()=>this.emit("close")))}[E](t){let i=true;if(!t){this[_]=null;i=false}else if(Array.isArray(t)){this.emit.apply(this,t)}else{this[_]=t;this.emit("entry",t);if(!t.emittedEnd){t.on("end",(t=>this[v]()));i=false}}return i}[v](){do{}while(this[E](this[k].shift()));if(!this[k].length){const t=this[_];const i=!t||t.flowing||t.size===t.remain;if(i){if(!this[z]){this.emit("drain")}}else{t.once("drain",(t=>this.emit("drain")))}}}[M](t,i){const r=this[w];const o=r.blockRemain;const a=o>=t.length&&i===0?t:t.slice(i,i+o);r.write(a);if(!r.blockRemain){this[b]="header";this[w]=null;r.end()}return a.length}[D](t,i){const r=this[w];const o=this[M](t,i);if(!this[w]){this[T](r)}return o}[P](t,i,r){if(!this[k].length&&!this[_]){this.emit(t,i,r)}else{this[k].push([t,i,r])}}[T](t){this[P]("meta",this[O]);switch(t.type){case"ExtendedHeader":case"OldExtendedHeader":this[S]=d.parse(this[O],this[S],false);break;case"GlobalExtendedHeader":this[x]=d.parse(this[O],this[x],true);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[S]=this[S]||Object.create(null);this[S].path=this[O].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[S]=this[S]||Object.create(null);this[S].linkpath=this[O].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[U]=true;this.emit("abort",t);this.warn("TAR_ABORT",t,{recoverable:false})}write(t){if(this[U]){return}if(this[I]===null&&t){if(this[R]){t=Buffer.concat([this[R],t]);this[R]=null}if(t.length<y.length){this[R]=t;return true}for(let i=0;this[I]===null&&i<y.length;i++){if(t[i]!==y[i]){this[I]=false}}if(this[I]===null){const i=this[A];this[A]=false;this[I]=new p.Unzip;this[I].on("data",(t=>this[L](t)));this[I].on("error",(t=>this.abort(t)));this[I].on("end",(t=>{this[A]=true;this[L]()}));this[z]=true;const r=this[I][i?"end":"write"](t);this[z]=false;return r}}this[z]=true;if(this[I]){this[I].write(t)}else{this[L](t)}this[z]=false;const i=this[k].length?false:this[_]?this[_].flowing:true;if(!i&&!this[k].length){this[_].once("drain",(t=>this.emit("drain")))}return i}[B](t){if(t&&!this[U]){this[R]=this[R]?Buffer.concat([this[R],t]):t}}[H](){if(this[A]&&!this[C]&&!this[U]&&!this[j]){this[C]=true;const t=this[w];if(t&&t.blockRemain){const i=this[R]?this[R].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${i} available)`,{entry:t});if(this[R]){t.write(this[R])}t.end()}this[P](q)}}[L](t){if(this[j]){this[B](t)}else if(!t&&!this[R]){this[H]()}else{this[j]=true;if(this[R]){this[B](t);const i=this[R];this[R]=null;this[N](i)}else{this[N](t)}while(this[R]&&this[R].length>=512&&!this[U]&&!this[V]){const t=this[R];this[R]=null;this[N](t)}this[j]=false}if(!this[R]||this[A]){this[H]()}}[N](t){let i=0;const r=t.length;while(i+512<=r&&!this[U]&&!this[V]){switch(this[b]){case"begin":case"header":this[$](t,i);i+=512;break;case"ignore":case"body":i+=this[M](t,i);break;case"meta":i+=this[D](t,i);break;default:throw new Error("invalid state: "+this[b])}}if(i<r){if(this[R]){this[R]=Buffer.concat([t.slice(i),this[R]])}else{this[R]=t.slice(i)}}}end(t){if(!this[U]){if(this[I]){this[I].end(t)}else{this[A]=true;this.write(t)}}}})},1205:(t,i,r)=>{const o=r(9491);const a=r(2192);const h=r(8414);const{join:l}=r(1017);const c=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;const u=c==="win32";t.exports=()=>{const t=new Map;const i=new Map;const getDirs=t=>{const i=t.split("/").slice(0,-1).reduce(((t,i)=>{if(t.length){i=l(t[t.length-1],i)}t.push(i||"/");return t}),[]);return i};const r=new Set;const getQueues=r=>{const o=i.get(r);if(!o){throw new Error("function does not have any path reservations")}return{paths:o.paths.map((i=>t.get(i))),dirs:[...o.dirs].map((i=>t.get(i)))}};const check=t=>{const{paths:i,dirs:r}=getQueues(t);return i.every((i=>i[0]===t))&&r.every((i=>i[0]instanceof Set&&i[0].has(t)))};const run=t=>{if(r.has(t)||!check(t)){return false}r.add(t);t((()=>clear(t)));return true};const clear=a=>{if(!r.has(a)){return false}const{paths:h,dirs:l}=i.get(a);const c=new Set;h.forEach((i=>{const r=t.get(i);o.equal(r[0],a);if(r.length===1){t.delete(i)}else{r.shift();if(typeof r[0]==="function"){c.add(r[0])}else{r[0].forEach((t=>c.add(t)))}}}));l.forEach((i=>{const r=t.get(i);o(r[0]instanceof Set);if(r[0].size===1&&r.length===1){t.delete(i)}else if(r[0].size===1){r.shift();c.add(r[0])}else{r[0].delete(a)}}));r.delete(a);c.forEach((t=>run(t)));return true};const reserve=(r,o)=>{r=u?["win32 parallelization disabled"]:r.map((t=>h(l(a(t))).toLowerCase()));const c=new Set(r.map((t=>getDirs(t))).reduce(((t,i)=>t.concat(i))));i.set(o,{dirs:c,paths:r});r.forEach((i=>{const r=t.get(i);if(!r){t.set(i,[o])}else{r.push(o)}}));c.forEach((i=>{const r=t.get(i);if(!r){t.set(i,[new Set([o])])}else if(r[r.length-1]instanceof Set){r[r.length-1].add(o)}else{r.push(new Set([o]))}}));return run(o)};return{check:check,reserve:reserve}}},2186:(t,i,r)=>{"use strict";const o=r(1926);const a=r(1017);class Pax{constructor(t,i){this.atime=t.atime||null;this.charset=t.charset||null;this.comment=t.comment||null;this.ctime=t.ctime||null;this.gid=t.gid||null;this.gname=t.gname||null;this.linkpath=t.linkpath||null;this.mtime=t.mtime||null;this.path=t.path||null;this.size=t.size||null;this.uid=t.uid||null;this.uname=t.uname||null;this.dev=t.dev||null;this.ino=t.ino||null;this.nlink=t.nlink||null;this.global=i||false}encode(){const t=this.encodeBody();if(t===""){return null}const i=Buffer.byteLength(t);const r=512*Math.ceil(1+i/512);const h=Buffer.allocUnsafe(r);for(let t=0;t<512;t++){h[t]=0}new o({path:("PaxHeader/"+a.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:i,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(h);h.write(t,512,i,"utf8");for(let t=i+512;t<h.length;t++){h[t]=0}return h}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===undefined){return""}const i=this[t]instanceof Date?this[t].getTime()/1e3:this[t];const r=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+i+"\n";const o=Buffer.byteLength(r);let a=Math.floor(Math.log(o)/Math.log(10))+1;if(o+a>=Math.pow(10,a)){a+=1}const h=a+o;return h+r}}Pax.parse=(t,i,r)=>new Pax(merge(parseKV(t),i),r);const merge=(t,i)=>i?Object.keys(t).reduce(((i,r)=>(i[r]=t[r],i)),i):t;const parseKV=t=>t.replace(/\n$/,"").split("\n").reduce(parseKVLine,Object.create(null));const parseKVLine=(t,i)=>{const r=parseInt(i,10);if(r!==Buffer.byteLength(i)+1){return t}i=i.slice((r+" ").length);const o=i.split("=");const a=o.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!a){return t}const h=o.join("=");t[a]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(a)?new Date(h*1e3):/^[0-9]+$/.test(h)?+h:h;return t};t.exports=Pax},9613:(t,i,r)=>{"use strict";const{Minipass:o}=r(6684);const a=r(4183);const h=Symbol("slurp");t.exports=class ReadEntry extends o{constructor(t,i,r){super();this.pause();this.extended=i;this.globalExtended=r;this.header=t;this.startBlockSize=512*Math.ceil(t.size/512);this.blockRemain=this.startBlockSize;this.remain=t.size;this.type=t.type;this.meta=false;this.ignore=false;switch(this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=true;break;default:this.ignore=true}this.path=a(t.path);this.mode=t.mode;if(this.mode){this.mode=this.mode&4095}this.uid=t.uid;this.gid=t.gid;this.uname=t.uname;this.gname=t.gname;this.size=t.size;this.mtime=t.mtime;this.atime=t.atime;this.ctime=t.ctime;this.linkpath=a(t.linkpath);this.uname=t.uname;this.gname=t.gname;if(i){this[h](i)}if(r){this[h](r,true)}}write(t){const i=t.length;if(i>this.blockRemain){throw new Error("writing more to entry than is appropriate")}const r=this.remain;const o=this.blockRemain;this.remain=Math.max(0,r-i);this.blockRemain=Math.max(0,o-i);if(this.ignore){return true}if(r>=i){return super.write(t)}return super.write(t.slice(0,r))}[h](t,i){for(const r in t){if(t[r]!==null&&t[r]!==undefined&&!(i&&r==="path")){this[r]=r==="path"||r==="linkpath"?a(t[r]):t[r]}}}}},1376:(t,i,r)=>{"use strict";const o=r(1527);const a=r(1550);const h=r(7147);const l=r(5271);const c=r(182);const u=r(1017);const d=r(1926);t.exports=(t,i,r)=>{const a=o(t);if(!a.file){throw new TypeError("file is required")}if(a.gzip){throw new TypeError("cannot append to compressed archives")}if(!i||!Array.isArray(i)||!i.length){throw new TypeError("no files or directories specified")}i=Array.from(i);return a.sync?replaceSync(a,i):replace(a,i,r)};const replaceSync=(t,i)=>{const r=new a.Sync(t);let o=true;let l;let c;try{try{l=h.openSync(t.file,"r+")}catch(i){if(i.code==="ENOENT"){l=h.openSync(t.file,"w+")}else{throw i}}const a=h.fstatSync(l);const u=Buffer.alloc(512);e:for(c=0;c<a.size;c+=512){for(let t=0,i=0;t<512;t+=i){i=h.readSync(l,u,t,u.length-t,c+t);if(c===0&&u[0]===31&&u[1]===139){throw new Error("cannot append to compressed archives")}if(!i){break e}}const i=new d(u);if(!i.cksumValid){break}const r=512*Math.ceil(i.size/512);if(c+r+512>a.size){break}c+=r;if(t.mtimeCache){t.mtimeCache.set(i.path,i.mtime)}}o=false;streamSync(t,r,c,l,i)}finally{if(o){try{h.closeSync(l)}catch(t){}}}};const streamSync=(t,i,r,o,a)=>{const h=new l.WriteStreamSync(t.file,{fd:o,start:r});i.pipe(h);addFilesSync(i,a)};const replace=(t,i,r)=>{i=Array.from(i);const o=new a(t);const getPos=(i,r,o)=>{const cb=(t,r)=>{if(t){h.close(i,(i=>o(t)))}else{o(null,r)}};let a=0;if(r===0){return cb(null,0)}let l=0;const c=Buffer.alloc(512);const onread=(o,u)=>{if(o){return cb(o)}l+=u;if(l<512&&u){return h.read(i,c,l,c.length-l,a+l,onread)}if(a===0&&c[0]===31&&c[1]===139){return cb(new Error("cannot append to compressed archives"))}if(l<512){return cb(null,a)}const p=new d(c);if(!p.cksumValid){return cb(null,a)}const g=512*Math.ceil(p.size/512);if(a+g+512>r){return cb(null,a)}a+=g+512;if(a>=r){return cb(null,a)}if(t.mtimeCache){t.mtimeCache.set(p.path,p.mtime)}l=0;h.read(i,c,0,512,a,onread)};h.read(i,c,0,512,a,onread)};const c=new Promise(((r,a)=>{o.on("error",a);let c="r+";const onopen=(u,d)=>{if(u&&u.code==="ENOENT"&&c==="r+"){c="w+";return h.open(t.file,c,onopen)}if(u){return a(u)}h.fstat(d,((c,u)=>{if(c){return h.close(d,(()=>a(c)))}getPos(d,u.size,((h,c)=>{if(h){return a(h)}const u=new l.WriteStream(t.file,{fd:d,start:c});o.pipe(u);u.on("error",a);u.on("close",r);addFilesAsync(o,i)}))}))};h.open(t.file,c,onopen)}));return r?c.then(r,r):c};const addFilesSync=(t,i)=>{i.forEach((i=>{if(i.charAt(0)==="@"){c({file:u.resolve(t.cwd,i.slice(1)),sync:true,noResume:true,onentry:i=>t.add(i)})}else{t.add(i)}}));t.end()};const addFilesAsync=(t,i)=>{while(i.length){const r=i.shift();if(r.charAt(0)==="@"){return c({file:u.resolve(t.cwd,r.slice(1)),noResume:true,onentry:i=>t.add(i)}).then((r=>addFilesAsync(t,i)))}else{t.add(r)}}t.end()}},717:(t,i,r)=>{const{isAbsolute:o,parse:a}=r(1017).win32;t.exports=t=>{let i="";let r=a(t);while(o(t)||r.root){const o=t.charAt(0)==="/"&&t.slice(0,4)!=="//?/"?"/":r.root;t=t.slice(o.length);i+=o;r=a(t)}return[i,t]}},8414:t=>{t.exports=t=>{let i=t.length-1;let r=-1;while(i>-1&&t.charAt(i)==="/"){r=i;i--}return r===-1?t:t.slice(0,r)}},5435:(t,i)=>{"use strict";i.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);i.code=new Map(Array.from(i.name).map((t=>[t[1],t[0]])))},2622:(t,i,r)=>{"use strict";const o=r(9491);const a=r(2600);const h=r(7147);const l=r(5271);const c=r(1017);const u=r(6940);const d=r(8494);const p=r(1205);const g=r(717);const y=r(4183);const b=r(8414);const w=r(2192);const _=Symbol("onEntry");const v=Symbol("checkFs");const E=Symbol("checkFs2");const S=Symbol("pruneCache");const x=Symbol("isReusable");const O=Symbol("makeFs");const T=Symbol("file");const R=Symbol("directory");const k=Symbol("link");const A=Symbol("symlink");const C=Symbol("hardlink");const P=Symbol("unsupported");const I=Symbol("checkPath");const L=Symbol("mkdir");const N=Symbol("onError");const M=Symbol("pending");const D=Symbol("pend");const $=Symbol("unpend");const j=Symbol("ended");const B=Symbol("maybeClose");const H=Symbol("skip");const z=Symbol("doChown");const U=Symbol("uid");const q=Symbol("gid");const G=Symbol("checkedCwd");const W=r(6113);const V=r(335);const Y=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;const Z=Y==="win32";const unlinkFile=(t,i)=>{if(!Z){return h.unlink(t,i)}const r=t+".DELETE."+W.randomBytes(16).toString("hex");h.rename(t,r,(t=>{if(t){return i(t)}h.unlink(r,i)}))};const unlinkFileSync=t=>{if(!Z){return h.unlinkSync(t)}const i=t+".DELETE."+W.randomBytes(16).toString("hex");h.renameSync(t,i);h.unlinkSync(i)};const uint32=(t,i,r)=>t===t>>>0?t:i===i>>>0?i:r;const cacheKeyNormalize=t=>b(y(w(t))).toLowerCase();const pruneCache=(t,i)=>{i=cacheKeyNormalize(i);for(const r of t.keys()){const o=cacheKeyNormalize(r);if(o===i||o.indexOf(i+"/")===0){t.delete(r)}}};const dropCache=t=>{for(const i of t.keys()){t.delete(i)}};class Unpack extends a{constructor(t){if(!t){t={}}t.ondone=t=>{this[j]=true;this[B]()};super(t);this[G]=false;this.reservations=p();this.transform=typeof t.transform==="function"?t.transform:null;this.writable=true;this.readable=false;this[M]=0;this[j]=false;this.dirCache=t.dirCache||new Map;if(typeof t.uid==="number"||typeof t.gid==="number"){if(typeof t.uid!=="number"||typeof t.gid!=="number"){throw new TypeError("cannot set owner without number uid and gid")}if(t.preserveOwner){throw new TypeError("cannot preserve owner in archive and also set owner explicitly")}this.uid=t.uid;this.gid=t.gid;this.setOwner=true}else{this.uid=null;this.gid=null;this.setOwner=false}if(t.preserveOwner===undefined&&typeof t.uid!=="number"){this.preserveOwner=process.getuid&&process.getuid()===0}else{this.preserveOwner=!!t.preserveOwner}this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null;this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null;this.forceChown=t.forceChown===true;this.win32=!!t.win32||Z;this.newer=!!t.newer;this.keep=!!t.keep;this.noMtime=!!t.noMtime;this.preservePaths=!!t.preservePaths;this.unlink=!!t.unlink;this.cwd=y(c.resolve(t.cwd||process.cwd()));this.strip=+t.strip||0;this.processUmask=t.noChmod?0:process.umask();this.umask=typeof t.umask==="number"?t.umask:this.processUmask;this.dmode=t.dmode||511&~this.umask;this.fmode=t.fmode||438&~this.umask;this.on("entry",(t=>this[_](t)))}warn(t,i,r={}){if(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT"){r.recoverable=false}return super.warn(t,i,r)}[B](){if(this[j]&&this[M]===0){this.emit("prefinish");this.emit("finish");this.emit("end")}}[I](t){if(this.strip){const i=y(t.path).split("/");if(i.length<this.strip){return false}t.path=i.slice(this.strip).join("/");if(t.type==="Link"){const i=y(t.linkpath).split("/");if(i.length>=this.strip){t.linkpath=i.slice(this.strip).join("/")}else{return false}}}if(!this.preservePaths){const i=y(t.path);const r=i.split("/");if(r.includes("..")||Z&&/^[a-z]:\.\.$/i.test(r[0])){this.warn("TAR_ENTRY_ERROR",`path contains '..'`,{entry:t,path:i});return false}const[o,a]=g(i);if(o){t.path=a;this.warn("TAR_ENTRY_INFO",`stripping ${o} from absolute path`,{entry:t,path:i})}}if(c.isAbsolute(t.path)){t.absolute=y(c.resolve(t.path))}else{t.absolute=y(c.resolve(this.cwd,t.path))}if(!this.preservePaths&&t.absolute.indexOf(this.cwd+"/")!==0&&t.absolute!==this.cwd){this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:t,path:y(t.path),resolvedPath:t.absolute,cwd:this.cwd});return false}if(t.absolute===this.cwd&&t.type!=="Directory"&&t.type!=="GNUDumpDir"){return false}if(this.win32){const{root:i}=c.win32.parse(t.absolute);t.absolute=i+d.encode(t.absolute.slice(i.length));const{root:r}=c.win32.parse(t.path);t.path=r+d.encode(t.path.slice(r.length))}return true}[_](t){if(!this[I](t)){return t.resume()}o.equal(typeof t.absolute,"string");switch(t.type){case"Directory":case"GNUDumpDir":if(t.mode){t.mode=t.mode|448}case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[v](t);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[P](t)}}[N](t,i){if(t.name==="CwdError"){this.emit("error",t)}else{this.warn("TAR_ENTRY_ERROR",t,{entry:i});this[$]();i.resume()}}[L](t,i,r){u(y(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:i,noChmod:this.noChmod},r)}[z](t){return this.forceChown||this.preserveOwner&&(typeof t.uid==="number"&&t.uid!==this.processUid||typeof t.gid==="number"&&t.gid!==this.processGid)||(typeof this.uid==="number"&&this.uid!==this.processUid||typeof this.gid==="number"&&this.gid!==this.processGid)}[U](t){return uint32(this.uid,t.uid,this.processUid)}[q](t){return uint32(this.gid,t.gid,this.processGid)}[T](t,i){const r=t.mode&4095||this.fmode;const o=new l.WriteStream(t.absolute,{flags:V(t.size),mode:r,autoClose:false});o.on("error",(r=>{if(o.fd){h.close(o.fd,(()=>{}))}o.write=()=>true;this[N](r,t);i()}));let a=1;const done=r=>{if(r){if(o.fd){h.close(o.fd,(()=>{}))}this[N](r,t);i();return}if(--a===0){h.close(o.fd,(r=>{if(r){this[N](r,t)}else{this[$]()}i()}))}};o.on("finish",(i=>{const r=t.absolute;const l=o.fd;if(t.mtime&&!this.noMtime){a++;const i=t.atime||new Date;const o=t.mtime;h.futimes(l,i,o,(t=>t?h.utimes(r,i,o,(i=>done(i&&t))):done()))}if(this[z](t)){a++;const i=this[U](t);const o=this[q](t);h.fchown(l,i,o,(t=>t?h.chown(r,i,o,(i=>done(i&&t))):done()))}done()}));const c=this.transform?this.transform(t)||t:t;if(c!==t){c.on("error",(r=>{this[N](r,t);i()}));t.pipe(c)}c.pipe(o)}[R](t,i){const r=t.mode&4095||this.dmode;this[L](t.absolute,r,(r=>{if(r){this[N](r,t);i();return}let o=1;const done=r=>{if(--o===0){i();this[$]();t.resume()}};if(t.mtime&&!this.noMtime){o++;h.utimes(t.absolute,t.atime||new Date,t.mtime,done)}if(this[z](t)){o++;h.chown(t.absolute,this[U](t),this[q](t),done)}done()}))}[P](t){t.unsupported=true;this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t});t.resume()}[A](t,i){this[k](t,t.linkpath,"symlink",i)}[C](t,i){const r=y(c.resolve(this.cwd,t.linkpath));this[k](t,r,"link",i)}[D](){this[M]++}[$](){this[M]--;this[B]()}[H](t){this[$]();t.resume()}[x](t,i){return t.type==="File"&&!this.unlink&&i.isFile()&&i.nlink<=1&&!Z}[v](t){this[D]();const i=[t.path];if(t.linkpath){i.push(t.linkpath)}this.reservations.reserve(i,(i=>this[E](t,i)))}[S](t){if(t.type==="SymbolicLink"){dropCache(this.dirCache)}else if(t.type!=="Directory"){pruneCache(this.dirCache,t.absolute)}}[E](t,i){this[S](t);const done=r=>{this[S](t);i(r)};const checkCwd=()=>{this[L](this.cwd,this.dmode,(i=>{if(i){this[N](i,t);done();return}this[G]=true;start()}))};const start=()=>{if(t.absolute!==this.cwd){const i=y(c.dirname(t.absolute));if(i!==this.cwd){return this[L](i,this.dmode,(i=>{if(i){this[N](i,t);done();return}afterMakeParent()}))}}afterMakeParent()};const afterMakeParent=()=>{h.lstat(t.absolute,((i,r)=>{if(r&&(this.keep||this.newer&&r.mtime>t.mtime)){this[H](t);done();return}if(i||this[x](t,r)){return this[O](null,t,done)}if(r.isDirectory()){if(t.type==="Directory"){const i=!this.noChmod&&t.mode&&(r.mode&4095)!==t.mode;const afterChmod=i=>this[O](i,t,done);if(!i){return afterChmod()}return h.chmod(t.absolute,t.mode,afterChmod)}if(t.absolute!==this.cwd){return h.rmdir(t.absolute,(i=>this[O](i,t,done)))}}if(t.absolute===this.cwd){return this[O](null,t,done)}unlinkFile(t.absolute,(i=>this[O](i,t,done)))}))};if(this[G]){start()}else{checkCwd()}}[O](t,i,r){if(t){this[N](t,i);r();return}switch(i.type){case"File":case"OldFile":case"ContiguousFile":return this[T](i,r);case"Link":return this[C](i,r);case"SymbolicLink":return this[A](i,r);case"Directory":case"GNUDumpDir":return this[R](i,r)}}[k](t,i,r,o){h[r](i,t.absolute,(i=>{if(i){this[N](i,t)}else{this[$]();t.resume()}o()}))}}const callSync=t=>{try{return[null,t()]}catch(t){return[t,null]}};class UnpackSync extends Unpack{[O](t,i){return super[O](t,i,(()=>{}))}[v](t){this[S](t);if(!this[G]){const i=this[L](this.cwd,this.dmode);if(i){return this[N](i,t)}this[G]=true}if(t.absolute!==this.cwd){const i=y(c.dirname(t.absolute));if(i!==this.cwd){const r=this[L](i,this.dmode);if(r){return this[N](r,t)}}}const[i,r]=callSync((()=>h.lstatSync(t.absolute)));if(r&&(this.keep||this.newer&&r.mtime>t.mtime)){return this[H](t)}if(i||this[x](t,r)){return this[O](null,t)}if(r.isDirectory()){if(t.type==="Directory"){const i=!this.noChmod&&t.mode&&(r.mode&4095)!==t.mode;const[o]=i?callSync((()=>{h.chmodSync(t.absolute,t.mode)})):[];return this[O](o,t)}const[i]=callSync((()=>h.rmdirSync(t.absolute)));this[O](i,t)}const[o]=t.absolute===this.cwd?[]:callSync((()=>unlinkFileSync(t.absolute)));this[O](o,t)}[T](t,i){const r=t.mode&4095||this.fmode;const oner=r=>{let a;try{h.closeSync(o)}catch(t){a=t}if(r||a){this[N](r||a,t)}i()};let o;try{o=h.openSync(t.absolute,V(t.size),r)}catch(t){return oner(t)}const a=this.transform?this.transform(t)||t:t;if(a!==t){a.on("error",(i=>this[N](i,t)));t.pipe(a)}a.on("data",(t=>{try{h.writeSync(o,t,0,t.length)}catch(t){oner(t)}}));a.on("end",(i=>{let r=null;if(t.mtime&&!this.noMtime){const i=t.atime||new Date;const a=t.mtime;try{h.futimesSync(o,i,a)}catch(o){try{h.utimesSync(t.absolute,i,a)}catch(t){r=o}}}if(this[z](t)){const i=this[U](t);const a=this[q](t);try{h.fchownSync(o,i,a)}catch(o){try{h.chownSync(t.absolute,i,a)}catch(t){r=r||o}}}oner(r)}))}[R](t,i){const r=t.mode&4095||this.dmode;const o=this[L](t.absolute,r);if(o){this[N](o,t);i();return}if(t.mtime&&!this.noMtime){try{h.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch(o){}}if(this[z](t)){try{h.chownSync(t.absolute,this[U](t),this[q](t))}catch(o){}}i();t.resume()}[L](t,i){try{return u.sync(y(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:i})}catch(t){return t}}[k](t,i,r,o){try{h[r+"Sync"](i,t.absolute);o();t.resume()}catch(i){return this[N](i,t)}}}Unpack.Sync=UnpackSync;t.exports=Unpack},2350:(t,i,r)=>{"use strict";const o=r(1527);const a=r(1376);t.exports=(t,i,r)=>{const h=o(t);if(!h.file){throw new TypeError("file is required")}if(h.gzip){throw new TypeError("cannot append to compressed archives")}if(!i||!Array.isArray(i)||!i.length){throw new TypeError("no files or directories specified")}i=Array.from(i);mtimeFilter(h);return a(h,i,r)};const mtimeFilter=t=>{const i=t.filter;if(!t.mtimeCache){t.mtimeCache=new Map}t.filter=i?(r,o)=>i(r,o)&&!(t.mtimeCache.get(r)>o.mtime):(i,r)=>!(t.mtimeCache.get(i)>r.mtime)}},1189:t=>{"use strict";t.exports=t=>class extends t{warn(t,i,r={}){if(this.file){r.file=this.file}if(this.cwd){r.cwd=this.cwd}r.code=i instanceof Error&&i.code||t;r.tarCode=t;if(!this.strict&&r.recoverable!==false){if(i instanceof Error){r=Object.assign(i,r);i=i.message}this.emit("warn",r.tarCode,i,r)}else if(i instanceof Error){this.emit("error",Object.assign(i,r))}else{this.emit("error",Object.assign(new Error(`${t}: ${i}`),r))}}}},8494:t=>{"use strict";const i=["|","<",">","?",":"];const r=i.map((t=>String.fromCharCode(61440+t.charCodeAt(0))));const o=new Map(i.map(((t,i)=>[t,r[i]])));const a=new Map(r.map(((t,r)=>[t,i[r]])));t.exports={encode:t=>i.reduce(((t,i)=>t.split(i).join(o.get(i))),t),decode:t=>r.reduce(((t,i)=>t.split(i).join(a.get(i))),t)}},7394:(t,i,r)=>{"use strict";const{Minipass:o}=r(6684);const a=r(2186);const h=r(1926);const l=r(7147);const c=r(1017);const u=r(4183);const d=r(8414);const prefixPath=(t,i)=>{if(!i){return u(t)}t=u(t).replace(/^\.(\/|$)/,"");return d(i)+"/"+t};const p=16*1024*1024;const g=Symbol("process");const y=Symbol("file");const b=Symbol("directory");const w=Symbol("symlink");const _=Symbol("hardlink");const v=Symbol("header");const E=Symbol("read");const S=Symbol("lstat");const x=Symbol("onlstat");const O=Symbol("onread");const T=Symbol("onreadlink");const R=Symbol("openfile");const k=Symbol("onopenfile");const A=Symbol("close");const C=Symbol("mode");const P=Symbol("awaitDrain");const I=Symbol("ondrain");const L=Symbol("prefix");const N=Symbol("hadError");const M=r(1189);const D=r(8494);const $=r(717);const j=r(7474);const B=M(class WriteEntry extends o{constructor(t,i){i=i||{};super(i);if(typeof t!=="string"){throw new TypeError("path is required")}this.path=u(t);this.portable=!!i.portable;this.myuid=process.getuid&&process.getuid()||0;this.myuser=process.env.USER||"";this.maxReadSize=i.maxReadSize||p;this.linkCache=i.linkCache||new Map;this.statCache=i.statCache||new Map;this.preservePaths=!!i.preservePaths;this.cwd=u(i.cwd||process.cwd());this.strict=!!i.strict;this.noPax=!!i.noPax;this.noMtime=!!i.noMtime;this.mtime=i.mtime||null;this.prefix=i.prefix?u(i.prefix):null;this.fd=null;this.blockLen=null;this.blockRemain=null;this.buf=null;this.offset=null;this.length=null;this.pos=null;this.remain=null;if(typeof i.onwarn==="function"){this.on("warn",i.onwarn)}let r=false;if(!this.preservePaths){const[t,i]=$(this.path);if(t){this.path=i;r=t}}this.win32=!!i.win32||process.platform==="win32";if(this.win32){this.path=D.decode(this.path.replace(/\\/g,"/"));t=t.replace(/\\/g,"/")}this.absolute=u(i.absolute||c.resolve(this.cwd,t));if(this.path===""){this.path="./"}if(r){this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path})}if(this.statCache.has(this.absolute)){this[x](this.statCache.get(this.absolute))}else{this[S]()}}emit(t,...i){if(t==="error"){this[N]=true}return super.emit(t,...i)}[S](){l.lstat(this.absolute,((t,i)=>{if(t){return this.emit("error",t)}this[x](i)}))}[x](t){this.statCache.set(this.absolute,t);this.stat=t;if(!t.isFile()){t.size=0}this.type=getType(t);this.emit("stat",t);this[g]()}[g](){switch(this.type){case"File":return this[y]();case"Directory":return this[b]();case"SymbolicLink":return this[w]();default:return this.end()}}[C](t){return j(t,this.type==="Directory",this.portable)}[L](t){return prefixPath(t,this.prefix)}[v](){if(this.type==="Directory"&&this.portable){this.noMtime=true}this.header=new h({path:this[L](this.path),linkpath:this.type==="Link"?this[L](this.linkpath):this.linkpath,mode:this[C](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime});if(this.header.encode()&&!this.noPax){super.write(new a({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[L](this.path),linkpath:this.type==="Link"?this[L](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode())}super.write(this.header.block)}[b](){if(this.path.slice(-1)!=="/"){this.path+="/"}this.stat.size=0;this[v]();this.end()}[w](){l.readlink(this.absolute,((t,i)=>{if(t){return this.emit("error",t)}this[T](i)}))}[T](t){this.linkpath=u(t);this[v]();this.end()}[_](t){this.type="Link";this.linkpath=u(c.relative(this.cwd,t));this.stat.size=0;this[v]();this.end()}[y](){if(this.stat.nlink>1){const t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){const i=this.linkCache.get(t);if(i.indexOf(this.cwd)===0){return this[_](i)}}this.linkCache.set(t,this.absolute)}this[v]();if(this.stat.size===0){return this.end()}this[R]()}[R](){l.open(this.absolute,"r",((t,i)=>{if(t){return this.emit("error",t)}this[k](i)}))}[k](t){this.fd=t;if(this[N]){return this[A]()}this.blockLen=512*Math.ceil(this.stat.size/512);this.blockRemain=this.blockLen;const i=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(i);this.offset=0;this.pos=0;this.remain=this.stat.size;this.length=this.buf.length;this[E]()}[E](){const{fd:t,buf:i,offset:r,length:o,pos:a}=this;l.read(t,i,r,o,a,((t,i)=>{if(t){return this[A]((()=>this.emit("error",t)))}this[O](i)}))}[A](t){l.close(this.fd,t)}[O](t){if(t<=0&&this.remain>0){const t=new Error("encountered unexpected EOF");t.path=this.absolute;t.syscall="read";t.code="EOF";return this[A]((()=>this.emit("error",t)))}if(t>this.remain){const t=new Error("did not encounter expected EOF");t.path=this.absolute;t.syscall="read";t.code="EOF";return this[A]((()=>this.emit("error",t)))}if(t===this.remain){for(let i=t;i<this.length&&t<this.blockRemain;i++){this.buf[i+this.offset]=0;t++;this.remain++}}const i=this.offset===0&&t===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+t);const r=this.write(i);if(!r){this[P]((()=>this[I]()))}else{this[I]()}}[P](t){this.once("drain",t)}write(t){if(this.blockRemain<t.length){const t=new Error("writing more data than expected");t.path=this.absolute;return this.emit("error",t)}this.remain-=t.length;this.blockRemain-=t.length;this.pos+=t.length;this.offset+=t.length;return super.write(t)}[I](){if(!this.remain){if(this.blockRemain){super.write(Buffer.alloc(this.blockRemain))}return this[A]((t=>t?this.emit("error",t):this.end()))}if(this.offset>=this.length){this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length));this.offset=0}this.length=this.buf.length-this.offset;this[E]()}});class WriteEntrySync extends B{[S](){this[x](l.lstatSync(this.absolute))}[w](){this[T](l.readlinkSync(this.absolute))}[R](){this[k](l.openSync(this.absolute,"r"))}[E](){let t=true;try{const{fd:i,buf:r,offset:o,length:a,pos:h}=this;const c=l.readSync(i,r,o,a,h);this[O](c);t=false}finally{if(t){try{this[A]((()=>{}))}catch(t){}}}}[P](t){t()}[A](t){l.closeSync(this.fd);t()}}const H=M(class WriteEntryTar extends o{constructor(t,i){i=i||{};super(i);this.preservePaths=!!i.preservePaths;this.portable=!!i.portable;this.strict=!!i.strict;this.noPax=!!i.noPax;this.noMtime=!!i.noMtime;this.readEntry=t;this.type=t.type;if(this.type==="Directory"&&this.portable){this.noMtime=true}this.prefix=i.prefix||null;this.path=u(t.path);this.mode=this[C](t.mode);this.uid=this.portable?null:t.uid;this.gid=this.portable?null:t.gid;this.uname=this.portable?null:t.uname;this.gname=this.portable?null:t.gname;this.size=t.size;this.mtime=this.noMtime?null:i.mtime||t.mtime;this.atime=this.portable?null:t.atime;this.ctime=this.portable?null:t.ctime;this.linkpath=u(t.linkpath);if(typeof i.onwarn==="function"){this.on("warn",i.onwarn)}let r=false;if(!this.preservePaths){const[t,i]=$(this.path);if(t){this.path=i;r=t}}this.remain=t.size;this.blockRemain=t.startBlockSize;this.header=new h({path:this[L](this.path),linkpath:this.type==="Link"?this[L](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime});if(r){this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path})}if(this.header.encode()&&!this.noPax){super.write(new a({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[L](this.path),linkpath:this.type==="Link"?this[L](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode())}super.write(this.header.block);t.pipe(this)}[L](t){return prefixPath(t,this.prefix)}[C](t){return j(t,this.type==="Directory",this.portable)}write(t){const i=t.length;if(i>this.blockRemain){throw new Error("writing more to entry than is appropriate")}this.blockRemain-=i;return super.write(t)}end(){if(this.blockRemain){super.write(Buffer.alloc(this.blockRemain))}return super.end()}});B.Sync=WriteEntrySync;B.Tar=H;const getType=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";t.exports=B},6492:(t,i,r)=>{"use strict";var o=new RegExp("^(?:@([^/]+?)[/])?([^/]+?)$");var a=r(768);var h=["node_modules","favicon.ico"];function validate(t){var i=[];var r=[];if(t===null){r.push("name cannot be null");return done(i,r)}if(t===undefined){r.push("name cannot be undefined");return done(i,r)}if(typeof t!=="string"){r.push("name must be a string");return done(i,r)}if(!t.length){r.push("name length must be greater than zero")}if(t.match(/^\./)){r.push("name cannot start with a period")}if(t.match(/^_/)){r.push("name cannot start with an underscore")}if(t.trim()!==t){r.push("name cannot contain leading or trailing spaces")}h.forEach((function(i){if(t.toLowerCase()===i){r.push(i+" is a blacklisted name")}}));a({version:"*"}).forEach((function(r){if(t.toLowerCase()===r){i.push(r+" is a core module name")}}));if(t.length>214){i.push("name can no longer contain more than 214 characters")}if(t.toLowerCase()!==t){i.push("name can no longer contain capital letters")}if(/[~'!()*]/.test(t.split("/").slice(-1)[0])){i.push('name can no longer contain special characters ("~\'!()*")')}if(encodeURIComponent(t)!==t){var l=t.match(o);if(l){var c=l[1];var u=l[2];if(encodeURIComponent(c)===c&&encodeURIComponent(u)===u){return done(i,r)}}r.push("name can only contain URL-friendly characters")}return done(i,r)}var done=function(t,i){var r={validForNewPackages:i.length===0&&t.length===0,validForOldPackages:i.length===0,warnings:t,errors:i};if(!r.warnings.length){delete r.warnings}if(!r.errors.length){delete r.errors}return r};t.exports=validate},8562:(t,i,r)=>{const o=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys";const a=r(1017);const h=o?";":":";const l=r(2284);const getNotFoundError=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"});const getPathInfo=(t,i)=>{const r=i.colon||h;const a=t.match(/\//)||o&&t.match(/\\/)?[""]:[...o?[process.cwd()]:[],...(i.path||process.env.PATH||"").split(r)];const l=o?i.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"";const c=o?l.split(r):[""];if(o){if(t.indexOf(".")!==-1&&c[0]!=="")c.unshift("")}return{pathEnv:a,pathExt:c,pathExtExe:l}};const which=(t,i,r)=>{if(typeof i==="function"){r=i;i={}}if(!i)i={};const{pathEnv:o,pathExt:h,pathExtExe:c}=getPathInfo(t,i);const u=[];const step=r=>new Promise(((h,l)=>{if(r===o.length)return i.all&&u.length?h(u):l(getNotFoundError(t));const c=o[r];const d=/^".*"$/.test(c)?c.slice(1,-1):c;const p=a.join(d,t);const g=!d&&/^\.[\\\/]/.test(t)?t.slice(0,2)+p:p;h(subStep(g,r,0))}));const subStep=(t,r,o)=>new Promise(((a,d)=>{if(o===h.length)return a(step(r+1));const p=h[o];l(t+p,{pathExt:c},((h,l)=>{if(!h&&l){if(i.all)u.push(t+p);else return a(t+p)}return a(subStep(t,r,o+1))}))}));return r?step(0).then((t=>r(null,t)),r):step(0)};const whichSync=(t,i)=>{i=i||{};const{pathEnv:r,pathExt:o,pathExtExe:h}=getPathInfo(t,i);const c=[];for(let u=0;u<r.length;u++){const d=r[u];const p=/^".*"$/.test(d)?d.slice(1,-1):d;const g=a.join(p,t);const y=!p&&/^\.[\\\/]/.test(t)?t.slice(0,2)+g:g;for(let t=0;t<o.length;t++){const r=y+o[t];try{const t=l.sync(r,{pathExt:h});if(t){if(i.all)c.push(r);else return r}}catch(t){}}}if(i.all&&c.length)return c;if(i.nothrow)return null;throw getNotFoundError(t)};t.exports=which;which.sync=whichSync},8728:t=>{"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next){yield t.value}}}},9248:(t,i,r)=>{"use strict";t.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(t){var i=this;if(!(i instanceof Yallist)){i=new Yallist}i.tail=null;i.head=null;i.length=0;if(t&&typeof t.forEach==="function"){t.forEach((function(t){i.push(t)}))}else if(arguments.length>0){for(var r=0,o=arguments.length;r<o;r++){i.push(arguments[r])}}return i}Yallist.prototype.removeNode=function(t){if(t.list!==this){throw new Error("removing node which does not belong to this list")}var i=t.next;var r=t.prev;if(i){i.prev=r}if(r){r.next=i}if(t===this.head){this.head=i}if(t===this.tail){this.tail=r}t.list.length--;t.next=null;t.prev=null;t.list=null;return i};Yallist.prototype.unshiftNode=function(t){if(t===this.head){return}if(t.list){t.list.removeNode(t)}var i=this.head;t.list=this;t.next=i;if(i){i.prev=t}this.head=t;if(!this.tail){this.tail=t}this.length++};Yallist.prototype.pushNode=function(t){if(t===this.tail){return}if(t.list){t.list.removeNode(t)}var i=this.tail;t.list=this;t.prev=i;if(i){i.next=t}this.tail=t;if(!this.head){this.head=t}this.length++};Yallist.prototype.push=function(){for(var t=0,i=arguments.length;t<i;t++){push(this,arguments[t])}return this.length};Yallist.prototype.unshift=function(){for(var t=0,i=arguments.length;t<i;t++){unshift(this,arguments[t])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var t=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return t};Yallist.prototype.shift=function(){if(!this.head){return undefined}var t=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return t};Yallist.prototype.forEach=function(t,i){i=i||this;for(var r=this.head,o=0;r!==null;o++){t.call(i,r.value,o,this);r=r.next}};Yallist.prototype.forEachReverse=function(t,i){i=i||this;for(var r=this.tail,o=this.length-1;r!==null;o--){t.call(i,r.value,o,this);r=r.prev}};Yallist.prototype.get=function(t){for(var i=0,r=this.head;r!==null&&i<t;i++){r=r.next}if(i===t&&r!==null){return r.value}};Yallist.prototype.getReverse=function(t){for(var i=0,r=this.tail;r!==null&&i<t;i++){r=r.prev}if(i===t&&r!==null){return r.value}};Yallist.prototype.map=function(t,i){i=i||this;var r=new Yallist;for(var o=this.head;o!==null;){r.push(t.call(i,o.value,this));o=o.next}return r};Yallist.prototype.mapReverse=function(t,i){i=i||this;var r=new Yallist;for(var o=this.tail;o!==null;){r.push(t.call(i,o.value,this));o=o.prev}return r};Yallist.prototype.reduce=function(t,i){var r;var o=this.head;if(arguments.length>1){r=i}else if(this.head){o=this.head.next;r=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var a=0;o!==null;a++){r=t(r,o.value,a);o=o.next}return r};Yallist.prototype.reduceReverse=function(t,i){var r;var o=this.tail;if(arguments.length>1){r=i}else if(this.tail){o=this.tail.prev;r=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var a=this.length-1;o!==null;a--){r=t(r,o.value,a);o=o.prev}return r};Yallist.prototype.toArray=function(){var t=new Array(this.length);for(var i=0,r=this.head;r!==null;i++){t[i]=r.value;r=r.next}return t};Yallist.prototype.toArrayReverse=function(){var t=new Array(this.length);for(var i=0,r=this.tail;r!==null;i++){t[i]=r.value;r=r.prev}return t};Yallist.prototype.slice=function(t,i){i=i||this.length;if(i<0){i+=this.length}t=t||0;if(t<0){t+=this.length}var r=new Yallist;if(i<t||i<0){return r}if(t<0){t=0}if(i>this.length){i=this.length}for(var o=0,a=this.head;a!==null&&o<t;o++){a=a.next}for(;a!==null&&o<i;o++,a=a.next){r.push(a.value)}return r};Yallist.prototype.sliceReverse=function(t,i){i=i||this.length;if(i<0){i+=this.length}t=t||0;if(t<0){t+=this.length}var r=new Yallist;if(i<t||i<0){return r}if(t<0){t=0}if(i>this.length){i=this.length}for(var o=this.length,a=this.tail;a!==null&&o>i;o--){a=a.prev}for(;a!==null&&o>t;o--,a=a.prev){r.push(a.value)}return r};Yallist.prototype.splice=function(t,i,...r){if(t>this.length){t=this.length-1}if(t<0){t=this.length+t}for(var o=0,a=this.head;a!==null&&o<t;o++){a=a.next}var h=[];for(var o=0;a&&o<i;o++){h.push(a.value);a=this.removeNode(a)}if(a===null){a=this.tail}if(a!==this.head&&a!==this.tail){a=a.prev}for(var o=0;o<r.length;o++){a=insert(this,a,r[o])}return h};Yallist.prototype.reverse=function(){var t=this.head;var i=this.tail;for(var r=t;r!==null;r=r.prev){var o=r.prev;r.prev=r.next;r.next=o}this.head=i;this.tail=t;return this};function insert(t,i,r){var o=i===t.head?new Node(r,null,i,t):new Node(r,i,i.next,t);if(o.next===null){t.tail=o}if(o.prev===null){t.head=o}t.length++;return o}function push(t,i){t.tail=new Node(i,t.tail,null,t);if(!t.head){t.head=t.tail}t.length++}function unshift(t,i){t.head=new Node(i,null,t.head,t);if(!t.tail){t.tail=t.head}t.length++}function Node(t,i,r,o){if(!(this instanceof Node)){return new Node(t,i,r,o)}this.list=o;this.value=t;if(i){i.next=this;this.prev=i}else{this.prev=null}if(r){r.prev=this;this.next=r}else{this.next=null}}try{r(8728)(Yallist)}catch(t){}},9491:t=>{"use strict";t.exports=require("assert")},4300:t=>{"use strict";t.exports=require("buffer")},2081:t=>{"use strict";t.exports=require("child_process")},6113:t=>{"use strict";t.exports=require("crypto")},2361:t=>{"use strict";t.exports=require("events")},7147:t=>{"use strict";t.exports=require("fs")},3685:t=>{"use strict";t.exports=require("http")},5158:t=>{"use strict";t.exports=require("http2")},5687:t=>{"use strict";t.exports=require("https")},1808:t=>{"use strict";t.exports=require("net")},1017:t=>{"use strict";t.exports=require("path")},7282:t=>{"use strict";t.exports=require("process")},4521:t=>{"use strict";t.exports=require("readline")},2781:t=>{"use strict";t.exports=require("stream")},1576:t=>{"use strict";t.exports=require("string_decoder")},4404:t=>{"use strict";t.exports=require("tls")},7310:t=>{"use strict";t.exports=require("url")},3837:t=>{"use strict";t.exports=require("util")},9796:t=>{"use strict";t.exports=require("zlib")},6047:(t,i,r)=>{const{Argument:o}=r(9763);const{Command:a}=r(1287);const{CommanderError:h,InvalidArgumentError:l}=r(6260);const{Help:c}=r(8223);const{Option:u}=r(1228);i=t.exports=new a;i.program=i;i.Argument=o;i.Command=a;i.CommanderError=h;i.Help=c;i.InvalidArgumentError=l;i.InvalidOptionArgumentError=l;i.Option=u},9763:(t,i,r)=>{const{InvalidArgumentError:o}=r(6260);class Argument{constructor(t,i){this.description=i||"";this.variadic=false;this.parseArg=undefined;this.defaultValue=undefined;this.defaultValueDescription=undefined;this.argChoices=undefined;switch(t[0]){case"<":this.required=true;this._name=t.slice(1,-1);break;case"[":this.required=false;this._name=t.slice(1,-1);break;default:this.required=true;this._name=t;break}if(this._name.length>3&&this._name.slice(-3)==="..."){this.variadic=true;this._name=this._name.slice(0,-3)}}name(){return this._name}_concatValue(t,i){if(i===this.defaultValue||!Array.isArray(i)){return[t]}return i.concat(t)}default(t,i){this.defaultValue=t;this.defaultValueDescription=i;return this}argParser(t){this.parseArg=t;return this}choices(t){this.argChoices=t.slice();this.parseArg=(t,i)=>{if(!this.argChoices.includes(t)){throw new o(`Allowed choices are ${this.argChoices.join(", ")}.`)}if(this.variadic){return this._concatValue(t,i)}return t};return this}argRequired(){this.required=true;return this}argOptional(){this.required=false;return this}}function humanReadableArgName(t){const i=t.name()+(t.variadic===true?"...":"");return t.required?"<"+i+">":"["+i+"]"}i.Argument=Argument;i.humanReadableArgName=humanReadableArgName},1287:(t,i,r)=>{const o=r(2361).EventEmitter;const a=r(2081);const h=r(1017);const l=r(7147);const c=r(7282);const{Argument:u,humanReadableArgName:d}=r(9763);const{CommanderError:p}=r(6260);const{Help:g}=r(8223);const{Option:y,splitOptionFlags:b,DualOptions:w}=r(1228);const{suggestSimilar:_}=r(5841);class Command extends o{constructor(t){super();this.commands=[];this.options=[];this.parent=null;this._allowUnknownOption=false;this._allowExcessArguments=true;this._args=[];this.args=[];this.rawArgs=[];this.processedArgs=[];this._scriptPath=null;this._name=t||"";this._optionValues={};this._optionValueSources={};this._storeOptionsAsProperties=false;this._actionHandler=null;this._executableHandler=false;this._executableFile=null;this._executableDir=null;this._defaultCommandName=null;this._exitCallback=null;this._aliases=[];this._combineFlagAndOptionalValue=true;this._description="";this._summary="";this._argsDescription=undefined;this._enablePositionalOptions=false;this._passThroughOptions=false;this._lifeCycleHooks={};this._showHelpAfterError=false;this._showSuggestionAfterError=true;this._outputConfiguration={writeOut:t=>c.stdout.write(t),writeErr:t=>c.stderr.write(t),getOutHelpWidth:()=>c.stdout.isTTY?c.stdout.columns:undefined,getErrHelpWidth:()=>c.stderr.isTTY?c.stderr.columns:undefined,outputError:(t,i)=>i(t)};this._hidden=false;this._hasHelpOption=true;this._helpFlags="-h, --help";this._helpDescription="display help for command";this._helpShortFlag="-h";this._helpLongFlag="--help";this._addImplicitHelpCommand=undefined;this._helpCommandName="help";this._helpCommandnameAndArgs="help [command]";this._helpCommandDescription="display help for command";this._helpConfiguration={}}copyInheritedSettings(t){this._outputConfiguration=t._outputConfiguration;this._hasHelpOption=t._hasHelpOption;this._helpFlags=t._helpFlags;this._helpDescription=t._helpDescription;this._helpShortFlag=t._helpShortFlag;this._helpLongFlag=t._helpLongFlag;this._helpCommandName=t._helpCommandName;this._helpCommandnameAndArgs=t._helpCommandnameAndArgs;this._helpCommandDescription=t._helpCommandDescription;this._helpConfiguration=t._helpConfiguration;this._exitCallback=t._exitCallback;this._storeOptionsAsProperties=t._storeOptionsAsProperties;this._combineFlagAndOptionalValue=t._combineFlagAndOptionalValue;this._allowExcessArguments=t._allowExcessArguments;this._enablePositionalOptions=t._enablePositionalOptions;this._showHelpAfterError=t._showHelpAfterError;this._showSuggestionAfterError=t._showSuggestionAfterError;return this}command(t,i,r){let o=i;let a=r;if(typeof o==="object"&&o!==null){a=o;o=null}a=a||{};const[,h,l]=t.match(/([^ ]+) *(.*)/);const c=this.createCommand(h);if(o){c.description(o);c._executableHandler=true}if(a.isDefault)this._defaultCommandName=c._name;c._hidden=!!(a.noHelp||a.hidden);c._executableFile=a.executableFile||null;if(l)c.arguments(l);this.commands.push(c);c.parent=this;c.copyInheritedSettings(this);if(o)return this;return c}createCommand(t){return new Command(t)}createHelp(){return Object.assign(new g,this.configureHelp())}configureHelp(t){if(t===undefined)return this._helpConfiguration;this._helpConfiguration=t;return this}configureOutput(t){if(t===undefined)return this._outputConfiguration;Object.assign(this._outputConfiguration,t);return this}showHelpAfterError(t=true){if(typeof t!=="string")t=!!t;this._showHelpAfterError=t;return this}showSuggestionAfterError(t=true){this._showSuggestionAfterError=!!t;return this}addCommand(t,i){if(!t._name){throw new Error(`Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()`)}i=i||{};if(i.isDefault)this._defaultCommandName=t._name;if(i.noHelp||i.hidden)t._hidden=true;this.commands.push(t);t.parent=this;return this}createArgument(t,i){return new u(t,i)}argument(t,i,r,o){const a=this.createArgument(t,i);if(typeof r==="function"){a.default(o).argParser(r)}else{a.default(r)}this.addArgument(a);return this}arguments(t){t.split(/ +/).forEach((t=>{this.argument(t)}));return this}addArgument(t){const i=this._args.slice(-1)[0];if(i&&i.variadic){throw new Error(`only the last argument can be variadic '${i.name()}'`)}if(t.required&&t.defaultValue!==undefined&&t.parseArg===undefined){throw new Error(`a default value for a required argument is never used: '${t.name()}'`)}this._args.push(t);return this}addHelpCommand(t,i){if(t===false){this._addImplicitHelpCommand=false}else{this._addImplicitHelpCommand=true;if(typeof t==="string"){this._helpCommandName=t.split(" ")[0];this._helpCommandnameAndArgs=t}this._helpCommandDescription=i||this._helpCommandDescription}return this}_hasImplicitHelpCommand(){if(this._addImplicitHelpCommand===undefined){return this.commands.length&&!this._actionHandler&&!this._findCommand("help")}return this._addImplicitHelpCommand}hook(t,i){const r=["preSubcommand","preAction","postAction"];if(!r.includes(t)){throw new Error(`Unexpected value for event passed to hook : '${t}'.\nExpecting one of '${r.join("', '")}'`)}if(this._lifeCycleHooks[t]){this._lifeCycleHooks[t].push(i)}else{this._lifeCycleHooks[t]=[i]}return this}exitOverride(t){if(t){this._exitCallback=t}else{this._exitCallback=t=>{if(t.code!=="commander.executeSubCommandAsync"){throw t}else{}}}return this}_exit(t,i,r){if(this._exitCallback){this._exitCallback(new p(t,i,r))}c.exit(t)}action(t){const listener=i=>{const r=this._args.length;const o=i.slice(0,r);if(this._storeOptionsAsProperties){o[r]=this}else{o[r]=this.opts()}o.push(this);return t.apply(this,o)};this._actionHandler=listener;return this}createOption(t,i){return new y(t,i)}addOption(t){const i=t.name();const r=t.attributeName();if(t.negate){const i=t.long.replace(/^--no-/,"--");if(!this._findOption(i)){this.setOptionValueWithSource(r,t.defaultValue===undefined?true:t.defaultValue,"default")}}else if(t.defaultValue!==undefined){this.setOptionValueWithSource(r,t.defaultValue,"default")}this.options.push(t);const handleOptionValue=(i,o,a)=>{if(i==null&&t.presetArg!==undefined){i=t.presetArg}const h=this.getOptionValue(r);if(i!==null&&t.parseArg){try{i=t.parseArg(i,h)}catch(t){if(t.code==="commander.invalidArgument"){const i=`${o} ${t.message}`;this.error(i,{exitCode:t.exitCode,code:t.code})}throw t}}else if(i!==null&&t.variadic){i=t._concatValue(i,h)}if(i==null){if(t.negate){i=false}else if(t.isBoolean()||t.optional){i=true}else{i=""}}this.setOptionValueWithSource(r,i,a)};this.on("option:"+i,(i=>{const r=`error: option '${t.flags}' argument '${i}' is invalid.`;handleOptionValue(i,r,"cli")}));if(t.envVar){this.on("optionEnv:"+i,(i=>{const r=`error: option '${t.flags}' value '${i}' from env '${t.envVar}' is invalid.`;handleOptionValue(i,r,"env")}))}return this}_optionEx(t,i,r,o,a){if(typeof i==="object"&&i instanceof y){throw new Error("To add an Option object use addOption() instead of option() or requiredOption()")}const h=this.createOption(i,r);h.makeOptionMandatory(!!t.mandatory);if(typeof o==="function"){h.default(a).argParser(o)}else if(o instanceof RegExp){const t=o;o=(i,r)=>{const o=t.exec(i);return o?o[0]:r};h.default(a).argParser(o)}else{h.default(o)}return this.addOption(h)}option(t,i,r,o){return this._optionEx({},t,i,r,o)}requiredOption(t,i,r,o){return this._optionEx({mandatory:true},t,i,r,o)}combineFlagAndOptionalValue(t=true){this._combineFlagAndOptionalValue=!!t;return this}allowUnknownOption(t=true){this._allowUnknownOption=!!t;return this}allowExcessArguments(t=true){this._allowExcessArguments=!!t;return this}enablePositionalOptions(t=true){this._enablePositionalOptions=!!t;return this}passThroughOptions(t=true){this._passThroughOptions=!!t;if(!!this.parent&&t&&!this.parent._enablePositionalOptions){throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)")}return this}storeOptionsAsProperties(t=true){this._storeOptionsAsProperties=!!t;if(this.options.length){throw new Error("call .storeOptionsAsProperties() before adding options")}return this}getOptionValue(t){if(this._storeOptionsAsProperties){return this[t]}return this._optionValues[t]}setOptionValue(t,i){return this.setOptionValueWithSource(t,i,undefined)}setOptionValueWithSource(t,i,r){if(this._storeOptionsAsProperties){this[t]=i}else{this._optionValues[t]=i}this._optionValueSources[t]=r;return this}getOptionValueSource(t){return this._optionValueSources[t]}getOptionValueSourceWithGlobals(t){let i;getCommandAndParents(this).forEach((r=>{if(r.getOptionValueSource(t)!==undefined){i=r.getOptionValueSource(t)}}));return i}_prepareUserArgs(t,i){if(t!==undefined&&!Array.isArray(t)){throw new Error("first parameter to parse must be array or undefined")}i=i||{};if(t===undefined){t=c.argv;if(c.versions&&c.versions.electron){i.from="electron"}}this.rawArgs=t.slice();let r;switch(i.from){case undefined:case"node":this._scriptPath=t[1];r=t.slice(2);break;case"electron":if(c.defaultApp){this._scriptPath=t[1];r=t.slice(2)}else{r=t.slice(1)}break;case"user":r=t.slice(0);break;default:throw new Error(`unexpected parse option { from: '${i.from}' }`)}if(!this._name&&this._scriptPath)this.nameFromFilename(this._scriptPath);this._name=this._name||"program";return r}parse(t,i){const r=this._prepareUserArgs(t,i);this._parseCommand([],r);return this}async parseAsync(t,i){const r=this._prepareUserArgs(t,i);await this._parseCommand([],r);return this}_executeSubCommand(t,i){i=i.slice();let r=false;const o=[".js",".ts",".tsx",".mjs",".cjs"];function findFile(t,i){const r=h.resolve(t,i);if(l.existsSync(r))return r;if(o.includes(h.extname(i)))return undefined;const a=o.find((t=>l.existsSync(`${r}${t}`)));if(a)return`${r}${a}`;return undefined}this._checkForMissingMandatoryOptions();this._checkForConflictingOptions();let u=t._executableFile||`${this._name}-${t._name}`;let d=this._executableDir||"";if(this._scriptPath){let t;try{t=l.realpathSync(this._scriptPath)}catch(i){t=this._scriptPath}d=h.resolve(h.dirname(t),d)}if(d){let i=findFile(d,u);if(!i&&!t._executableFile&&this._scriptPath){const r=h.basename(this._scriptPath,h.extname(this._scriptPath));if(r!==this._name){i=findFile(d,`${r}-${t._name}`)}}u=i||u}r=o.includes(h.extname(u));let g;if(c.platform!=="win32"){if(r){i.unshift(u);i=incrementNodeInspectorPort(c.execArgv).concat(i);g=a.spawn(c.argv[0],i,{stdio:"inherit"})}else{g=a.spawn(u,i,{stdio:"inherit"})}}else{i.unshift(u);i=incrementNodeInspectorPort(c.execArgv).concat(i);g=a.spawn(c.execPath,i,{stdio:"inherit"})}if(!g.killed){const t=["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"];t.forEach((t=>{c.on(t,(()=>{if(g.killed===false&&g.exitCode===null){g.kill(t)}}))}))}const y=this._exitCallback;if(!y){g.on("close",c.exit.bind(c))}else{g.on("close",(()=>{y(new p(c.exitCode||0,"commander.executeSubCommandAsync","(close)"))}))}g.on("error",(i=>{if(i.code==="ENOENT"){const i=d?`searched for local subcommand relative to directory '${d}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory";const r=`'${u}' does not exist\n - if '${t._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${i}`;throw new Error(r)}else if(i.code==="EACCES"){throw new Error(`'${u}' not executable`)}if(!y){c.exit(1)}else{const t=new p(1,"commander.executeSubCommandAsync","(error)");t.nestedError=i;y(t)}}));this.runningCommand=g}_dispatchSubcommand(t,i,r){const o=this._findCommand(t);if(!o)this.help({error:true});let a;a=this._chainOrCallSubCommandHook(a,o,"preSubcommand");a=this._chainOrCall(a,(()=>{if(o._executableHandler){this._executeSubCommand(o,i.concat(r))}else{return o._parseCommand(i,r)}}));return a}_checkNumberOfArguments(){this._args.forEach(((t,i)=>{if(t.required&&this.args[i]==null){this.missingArgument(t.name())}}));if(this._args.length>0&&this._args[this._args.length-1].variadic){return}if(this.args.length>this._args.length){this._excessArguments(this.args)}}_processArguments(){const myParseArg=(t,i,r)=>{let o=i;if(i!==null&&t.parseArg){try{o=t.parseArg(i,r)}catch(r){if(r.code==="commander.invalidArgument"){const o=`error: command-argument value '${i}' is invalid for argument '${t.name()}'. ${r.message}`;this.error(o,{exitCode:r.exitCode,code:r.code})}throw r}}return o};this._checkNumberOfArguments();const t=[];this._args.forEach(((i,r)=>{let o=i.defaultValue;if(i.variadic){if(r<this.args.length){o=this.args.slice(r);if(i.parseArg){o=o.reduce(((t,r)=>myParseArg(i,r,t)),i.defaultValue)}}else if(o===undefined){o=[]}}else if(r<this.args.length){o=this.args[r];if(i.parseArg){o=myParseArg(i,o,i.defaultValue)}}t[r]=o}));this.processedArgs=t}_chainOrCall(t,i){if(t&&t.then&&typeof t.then==="function"){return t.then((()=>i()))}return i()}_chainOrCallHooks(t,i){let r=t;const o=[];getCommandAndParents(this).reverse().filter((t=>t._lifeCycleHooks[i]!==undefined)).forEach((t=>{t._lifeCycleHooks[i].forEach((i=>{o.push({hookedCommand:t,callback:i})}))}));if(i==="postAction"){o.reverse()}o.forEach((t=>{r=this._chainOrCall(r,(()=>t.callback(t.hookedCommand,this)))}));return r}_chainOrCallSubCommandHook(t,i,r){let o=t;if(this._lifeCycleHooks[r]!==undefined){this._lifeCycleHooks[r].forEach((t=>{o=this._chainOrCall(o,(()=>t(this,i)))}))}return o}_parseCommand(t,i){const r=this.parseOptions(i);this._parseOptionsEnv();this._parseOptionsImplied();t=t.concat(r.operands);i=r.unknown;this.args=t.concat(i);if(t&&this._findCommand(t[0])){return this._dispatchSubcommand(t[0],t.slice(1),i)}if(this._hasImplicitHelpCommand()&&t[0]===this._helpCommandName){if(t.length===1){this.help()}return this._dispatchSubcommand(t[1],[],[this._helpLongFlag])}if(this._defaultCommandName){outputHelpIfRequested(this,i);return this._dispatchSubcommand(this._defaultCommandName,t,i)}if(this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName){this.help({error:true})}outputHelpIfRequested(this,r.unknown);this._checkForMissingMandatoryOptions();this._checkForConflictingOptions();const checkForUnknownOptions=()=>{if(r.unknown.length>0){this.unknownOption(r.unknown[0])}};const o=`command:${this.name()}`;if(this._actionHandler){checkForUnknownOptions();this._processArguments();let r;r=this._chainOrCallHooks(r,"preAction");r=this._chainOrCall(r,(()=>this._actionHandler(this.processedArgs)));if(this.parent){r=this._chainOrCall(r,(()=>{this.parent.emit(o,t,i)}))}r=this._chainOrCallHooks(r,"postAction");return r}if(this.parent&&this.parent.listenerCount(o)){checkForUnknownOptions();this._processArguments();this.parent.emit(o,t,i)}else if(t.length){if(this._findCommand("*")){return this._dispatchSubcommand("*",t,i)}if(this.listenerCount("command:*")){this.emit("command:*",t,i)}else if(this.commands.length){this.unknownCommand()}else{checkForUnknownOptions();this._processArguments()}}else if(this.commands.length){checkForUnknownOptions();this.help({error:true})}else{checkForUnknownOptions();this._processArguments()}}_findCommand(t){if(!t)return undefined;return this.commands.find((i=>i._name===t||i._aliases.includes(t)))}_findOption(t){return this.options.find((i=>i.is(t)))}_checkForMissingMandatoryOptions(){for(let t=this;t;t=t.parent){t.options.forEach((i=>{if(i.mandatory&&t.getOptionValue(i.attributeName())===undefined){t.missingMandatoryOptionValue(i)}}))}}_checkForConflictingLocalOptions(){const t=this.options.filter((t=>{const i=t.attributeName();if(this.getOptionValue(i)===undefined){return false}return this.getOptionValueSource(i)!=="default"}));const i=t.filter((t=>t.conflictsWith.length>0));i.forEach((i=>{const r=t.find((t=>i.conflictsWith.includes(t.attributeName())));if(r){this._conflictingOption(i,r)}}))}_checkForConflictingOptions(){for(let t=this;t;t=t.parent){t._checkForConflictingLocalOptions()}}parseOptions(t){const i=[];const r=[];let o=i;const a=t.slice();function maybeOption(t){return t.length>1&&t[0]==="-"}let h=null;while(a.length){const t=a.shift();if(t==="--"){if(o===r)o.push(t);o.push(...a);break}if(h&&!maybeOption(t)){this.emit(`option:${h.name()}`,t);continue}h=null;if(maybeOption(t)){const i=this._findOption(t);if(i){if(i.required){const t=a.shift();if(t===undefined)this.optionMissingArgument(i);this.emit(`option:${i.name()}`,t)}else if(i.optional){let t=null;if(a.length>0&&!maybeOption(a[0])){t=a.shift()}this.emit(`option:${i.name()}`,t)}else{this.emit(`option:${i.name()}`)}h=i.variadic?i:null;continue}}if(t.length>2&&t[0]==="-"&&t[1]!=="-"){const i=this._findOption(`-${t[1]}`);if(i){if(i.required||i.optional&&this._combineFlagAndOptionalValue){this.emit(`option:${i.name()}`,t.slice(2))}else{this.emit(`option:${i.name()}`);a.unshift(`-${t.slice(2)}`)}continue}}if(/^--[^=]+=/.test(t)){const i=t.indexOf("=");const r=this._findOption(t.slice(0,i));if(r&&(r.required||r.optional)){this.emit(`option:${r.name()}`,t.slice(i+1));continue}}if(maybeOption(t)){o=r}if((this._enablePositionalOptions||this._passThroughOptions)&&i.length===0&&r.length===0){if(this._findCommand(t)){i.push(t);if(a.length>0)r.push(...a);break}else if(t===this._helpCommandName&&this._hasImplicitHelpCommand()){i.push(t);if(a.length>0)i.push(...a);break}else if(this._defaultCommandName){r.push(t);if(a.length>0)r.push(...a);break}}if(this._passThroughOptions){o.push(t);if(a.length>0)o.push(...a);break}o.push(t)}return{operands:i,unknown:r}}opts(){if(this._storeOptionsAsProperties){const t={};const i=this.options.length;for(let r=0;r<i;r++){const i=this.options[r].attributeName();t[i]=i===this._versionOptionName?this._version:this[i]}return t}return this._optionValues}optsWithGlobals(){return getCommandAndParents(this).reduce(((t,i)=>Object.assign(t,i.opts())),{})}error(t,i){this._outputConfiguration.outputError(`${t}\n`,this._outputConfiguration.writeErr);if(typeof this._showHelpAfterError==="string"){this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`)}else if(this._showHelpAfterError){this._outputConfiguration.writeErr("\n");this.outputHelp({error:true})}const r=i||{};const o=r.exitCode||1;const a=r.code||"commander.error";this._exit(o,a,t)}_parseOptionsEnv(){this.options.forEach((t=>{if(t.envVar&&t.envVar in c.env){const i=t.attributeName();if(this.getOptionValue(i)===undefined||["default","config","env"].includes(this.getOptionValueSource(i))){if(t.required||t.optional){this.emit(`optionEnv:${t.name()}`,c.env[t.envVar])}else{this.emit(`optionEnv:${t.name()}`)}}}}))}_parseOptionsImplied(){const t=new w(this.options);const hasCustomOptionValue=t=>this.getOptionValue(t)!==undefined&&!["default","implied"].includes(this.getOptionValueSource(t));this.options.filter((i=>i.implied!==undefined&&hasCustomOptionValue(i.attributeName())&&t.valueFromOption(this.getOptionValue(i.attributeName()),i))).forEach((t=>{Object.keys(t.implied).filter((t=>!hasCustomOptionValue(t))).forEach((i=>{this.setOptionValueWithSource(i,t.implied[i],"implied")}))}))}missingArgument(t){const i=`error: missing required argument '${t}'`;this.error(i,{code:"commander.missingArgument"})}optionMissingArgument(t){const i=`error: option '${t.flags}' argument missing`;this.error(i,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(t){const i=`error: required option '${t.flags}' not specified`;this.error(i,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(t,i){const findBestOptionFromValue=t=>{const i=t.attributeName();const r=this.getOptionValue(i);const o=this.options.find((t=>t.negate&&i===t.attributeName()));const a=this.options.find((t=>!t.negate&&i===t.attributeName()));if(o&&(o.presetArg===undefined&&r===false||o.presetArg!==undefined&&r===o.presetArg)){return o}return a||t};const getErrorMessage=t=>{const i=findBestOptionFromValue(t);const r=i.attributeName();const o=this.getOptionValueSource(r);if(o==="env"){return`environment variable '${i.envVar}'`}return`option '${i.flags}'`};const r=`error: ${getErrorMessage(t)} cannot be used with ${getErrorMessage(i)}`;this.error(r,{code:"commander.conflictingOption"})}unknownOption(t){if(this._allowUnknownOption)return;let i="";if(t.startsWith("--")&&this._showSuggestionAfterError){let r=[];let o=this;do{const t=o.createHelp().visibleOptions(o).filter((t=>t.long)).map((t=>t.long));r=r.concat(t);o=o.parent}while(o&&!o._enablePositionalOptions);i=_(t,r)}const r=`error: unknown option '${t}'${i}`;this.error(r,{code:"commander.unknownOption"})}_excessArguments(t){if(this._allowExcessArguments)return;const i=this._args.length;const r=i===1?"":"s";const o=this.parent?` for '${this.name()}'`:"";const a=`error: too many arguments${o}. Expected ${i} argument${r} but got ${t.length}.`;this.error(a,{code:"commander.excessArguments"})}unknownCommand(){const t=this.args[0];let i="";if(this._showSuggestionAfterError){const r=[];this.createHelp().visibleCommands(this).forEach((t=>{r.push(t.name());if(t.alias())r.push(t.alias())}));i=_(t,r)}const r=`error: unknown command '${t}'${i}`;this.error(r,{code:"commander.unknownCommand"})}version(t,i,r){if(t===undefined)return this._version;this._version=t;i=i||"-V, --version";r=r||"output the version number";const o=this.createOption(i,r);this._versionOptionName=o.attributeName();this.options.push(o);this.on("option:"+o.name(),(()=>{this._outputConfiguration.writeOut(`${t}\n`);this._exit(0,"commander.version",t)}));return this}description(t,i){if(t===undefined&&i===undefined)return this._description;this._description=t;if(i){this._argsDescription=i}return this}summary(t){if(t===undefined)return this._summary;this._summary=t;return this}alias(t){if(t===undefined)return this._aliases[0];let i=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler){i=this.commands[this.commands.length-1]}if(t===i._name)throw new Error("Command alias can't be the same as its name");i._aliases.push(t);return this}aliases(t){if(t===undefined)return this._aliases;t.forEach((t=>this.alias(t)));return this}usage(t){if(t===undefined){if(this._usage)return this._usage;const t=this._args.map((t=>d(t)));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this._args.length?t:[]).join(" ")}this._usage=t;return this}name(t){if(t===undefined)return this._name;this._name=t;return this}nameFromFilename(t){this._name=h.basename(t,h.extname(t));return this}executableDir(t){if(t===undefined)return this._executableDir;this._executableDir=t;return this}helpInformation(t){const i=this.createHelp();if(i.helpWidth===undefined){i.helpWidth=t&&t.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()}return i.formatHelp(this,i)}_getHelpContext(t){t=t||{};const i={error:!!t.error};let r;if(i.error){r=t=>this._outputConfiguration.writeErr(t)}else{r=t=>this._outputConfiguration.writeOut(t)}i.write=t.write||r;i.command=this;return i}outputHelp(t){let i;if(typeof t==="function"){i=t;t=undefined}const r=this._getHelpContext(t);getCommandAndParents(this).reverse().forEach((t=>t.emit("beforeAllHelp",r)));this.emit("beforeHelp",r);let o=this.helpInformation(r);if(i){o=i(o);if(typeof o!=="string"&&!Buffer.isBuffer(o)){throw new Error("outputHelp callback must return a string or a Buffer")}}r.write(o);this.emit(this._helpLongFlag);this.emit("afterHelp",r);getCommandAndParents(this).forEach((t=>t.emit("afterAllHelp",r)))}helpOption(t,i){if(typeof t==="boolean"){this._hasHelpOption=t;return this}this._helpFlags=t||this._helpFlags;this._helpDescription=i||this._helpDescription;const r=b(this._helpFlags);this._helpShortFlag=r.shortFlag;this._helpLongFlag=r.longFlag;return this}help(t){this.outputHelp(t);let i=c.exitCode||0;if(i===0&&t&&typeof t!=="function"&&t.error){i=1}this._exit(i,"commander.help","(outputHelp)")}addHelpText(t,i){const r=["beforeAll","before","after","afterAll"];if(!r.includes(t)){throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${r.join("', '")}'`)}const o=`${t}Help`;this.on(o,(t=>{let r;if(typeof i==="function"){r=i({error:t.error,command:t.command})}else{r=i}if(r){t.write(`${r}\n`)}}));return this}}function outputHelpIfRequested(t,i){const r=t._hasHelpOption&&i.find((i=>i===t._helpLongFlag||i===t._helpShortFlag));if(r){t.outputHelp();t._exit(0,"commander.helpDisplayed","(outputHelp)")}}function incrementNodeInspectorPort(t){return t.map((t=>{if(!t.startsWith("--inspect")){return t}let i;let r="127.0.0.1";let o="9229";let a;if((a=t.match(/^(--inspect(-brk)?)$/))!==null){i=a[1]}else if((a=t.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null){i=a[1];if(/^\d+$/.test(a[3])){o=a[3]}else{r=a[3]}}else if((a=t.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null){i=a[1];r=a[3];o=a[4]}if(i&&o!=="0"){return`${i}=${r}:${parseInt(o)+1}`}return t}))}function getCommandAndParents(t){const i=[];for(let r=t;r;r=r.parent){i.push(r)}return i}i.Command=Command},6260:(t,i)=>{class CommanderError extends Error{constructor(t,i,r){super(r);Error.captureStackTrace(this,this.constructor);this.name=this.constructor.name;this.code=i;this.exitCode=t;this.nestedError=undefined}}class InvalidArgumentError extends CommanderError{constructor(t){super(1,"commander.invalidArgument",t);Error.captureStackTrace(this,this.constructor);this.name=this.constructor.name}}i.CommanderError=CommanderError;i.InvalidArgumentError=InvalidArgumentError},8223:(t,i,r)=>{const{humanReadableArgName:o}=r(9763);class Help{constructor(){this.helpWidth=undefined;this.sortSubcommands=false;this.sortOptions=false;this.showGlobalOptions=false}visibleCommands(t){const i=t.commands.filter((t=>!t._hidden));if(t._hasImplicitHelpCommand()){const[,r,o]=t._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/);const a=t.createCommand(r).helpOption(false);a.description(t._helpCommandDescription);if(o)a.arguments(o);i.push(a)}if(this.sortSubcommands){i.sort(((t,i)=>t.name().localeCompare(i.name())))}return i}compareOptions(t,i){const getSortKey=t=>t.short?t.short.replace(/^-/,""):t.long.replace(/^--/,"");return getSortKey(t).localeCompare(getSortKey(i))}visibleOptions(t){const i=t.options.filter((t=>!t.hidden));const r=t._hasHelpOption&&t._helpShortFlag&&!t._findOption(t._helpShortFlag);const o=t._hasHelpOption&&!t._findOption(t._helpLongFlag);if(r||o){let a;if(!r){a=t.createOption(t._helpLongFlag,t._helpDescription)}else if(!o){a=t.createOption(t._helpShortFlag,t._helpDescription)}else{a=t.createOption(t._helpFlags,t._helpDescription)}i.push(a)}if(this.sortOptions){i.sort(this.compareOptions)}return i}visibleGlobalOptions(t){if(!this.showGlobalOptions)return[];const i=[];for(let r=t.parent;r;r=r.parent){const t=r.options.filter((t=>!t.hidden));i.push(...t)}if(this.sortOptions){i.sort(this.compareOptions)}return i}visibleArguments(t){if(t._argsDescription){t._args.forEach((i=>{i.description=i.description||t._argsDescription[i.name()]||""}))}if(t._args.find((t=>t.description))){return t._args}return[]}subcommandTerm(t){const i=t._args.map((t=>o(t))).join(" ");return t._name+(t._aliases[0]?"|"+t._aliases[0]:"")+(t.options.length?" [options]":"")+(i?" "+i:"")}optionTerm(t){return t.flags}argumentTerm(t){return t.name()}longestSubcommandTermLength(t,i){return i.visibleCommands(t).reduce(((t,r)=>Math.max(t,i.subcommandTerm(r).length)),0)}longestOptionTermLength(t,i){return i.visibleOptions(t).reduce(((t,r)=>Math.max(t,i.optionTerm(r).length)),0)}longestGlobalOptionTermLength(t,i){return i.visibleGlobalOptions(t).reduce(((t,r)=>Math.max(t,i.optionTerm(r).length)),0)}longestArgumentTermLength(t,i){return i.visibleArguments(t).reduce(((t,r)=>Math.max(t,i.argumentTerm(r).length)),0)}commandUsage(t){let i=t._name;if(t._aliases[0]){i=i+"|"+t._aliases[0]}let r="";for(let i=t.parent;i;i=i.parent){r=i.name()+" "+r}return r+i+" "+t.usage()}commandDescription(t){return t.description()}subcommandDescription(t){return t.summary()||t.description()}optionDescription(t){const i=[];if(t.argChoices){i.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`)}if(t.defaultValue!==undefined){const r=t.required||t.optional||t.isBoolean()&&typeof t.defaultValue==="boolean";if(r){i.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`)}}if(t.presetArg!==undefined&&t.optional){i.push(`preset: ${JSON.stringify(t.presetArg)}`)}if(t.envVar!==undefined){i.push(`env: ${t.envVar}`)}if(i.length>0){return`${t.description} (${i.join(", ")})`}return t.description}argumentDescription(t){const i=[];if(t.argChoices){i.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`)}if(t.defaultValue!==undefined){i.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`)}if(i.length>0){const r=`(${i.join(", ")})`;if(t.description){return`${t.description} ${r}`}return r}return t.description}formatHelp(t,i){const r=i.padWidth(t,i);const o=i.helpWidth||80;const a=2;const h=2;function formatItem(t,l){if(l){const c=`${t.padEnd(r+h)}${l}`;return i.wrap(c,o-a,r+h)}return t}function formatList(t){return t.join("\n").replace(/^/gm," ".repeat(a))}let l=[`Usage: ${i.commandUsage(t)}`,""];const c=i.commandDescription(t);if(c.length>0){l=l.concat([i.wrap(c,o,0),""])}const u=i.visibleArguments(t).map((t=>formatItem(i.argumentTerm(t),i.argumentDescription(t))));if(u.length>0){l=l.concat(["Arguments:",formatList(u),""])}const d=i.visibleOptions(t).map((t=>formatItem(i.optionTerm(t),i.optionDescription(t))));if(d.length>0){l=l.concat(["Options:",formatList(d),""])}if(this.showGlobalOptions){const r=i.visibleGlobalOptions(t).map((t=>formatItem(i.optionTerm(t),i.optionDescription(t))));if(r.length>0){l=l.concat(["Global Options:",formatList(r),""])}}const p=i.visibleCommands(t).map((t=>formatItem(i.subcommandTerm(t),i.subcommandDescription(t))));if(p.length>0){l=l.concat(["Commands:",formatList(p),""])}return l.join("\n")}padWidth(t,i){return Math.max(i.longestOptionTermLength(t,i),i.longestGlobalOptionTermLength(t,i),i.longestSubcommandTermLength(t,i),i.longestArgumentTermLength(t,i))}wrap(t,i,r,o=40){const a=" \\f\\t\\v-\ufeff";const h=new RegExp(`[\\n][${a}]+`);if(t.match(h))return t;const l=i-r;if(l<o)return t;const c=t.slice(0,r);const u=t.slice(r).replace("\r\n","\n");const d=" ".repeat(r);const p="";const g=`\\s${p}`;const y=new RegExp(`\n|.{1,${l-1}}([${g}]|$)|[^${g}]+?([${g}]|$)`,"g");const b=u.match(y)||[];return c+b.map(((t,i)=>{if(t==="\n")return"";return(i>0?d:"")+t.trimEnd()})).join("\n")}}i.Help=Help},1228:(t,i,r)=>{const{InvalidArgumentError:o}=r(6260);class Option{constructor(t,i){this.flags=t;this.description=i||"";this.required=t.includes("<");this.optional=t.includes("[");this.variadic=/\w\.\.\.[>\]]$/.test(t);this.mandatory=false;const r=splitOptionFlags(t);this.short=r.shortFlag;this.long=r.longFlag;this.negate=false;if(this.long){this.negate=this.long.startsWith("--no-")}this.defaultValue=undefined;this.defaultValueDescription=undefined;this.presetArg=undefined;this.envVar=undefined;this.parseArg=undefined;this.hidden=false;this.argChoices=undefined;this.conflictsWith=[];this.implied=undefined}default(t,i){this.defaultValue=t;this.defaultValueDescription=i;return this}preset(t){this.presetArg=t;return this}conflicts(t){this.conflictsWith=this.conflictsWith.concat(t);return this}implies(t){let i=t;if(typeof t==="string"){i={[t]:true}}this.implied=Object.assign(this.implied||{},i);return this}env(t){this.envVar=t;return this}argParser(t){this.parseArg=t;return this}makeOptionMandatory(t=true){this.mandatory=!!t;return this}hideHelp(t=true){this.hidden=!!t;return this}_concatValue(t,i){if(i===this.defaultValue||!Array.isArray(i)){return[t]}return i.concat(t)}choices(t){this.argChoices=t.slice();this.parseArg=(t,i)=>{if(!this.argChoices.includes(t)){throw new o(`Allowed choices are ${this.argChoices.join(", ")}.`)}if(this.variadic){return this._concatValue(t,i)}return t};return this}name(){if(this.long){return this.long.replace(/^--/,"")}return this.short.replace(/^-/,"")}attributeName(){return camelcase(this.name().replace(/^no-/,""))}is(t){return this.short===t||this.long===t}isBoolean(){return!this.required&&!this.optional&&!this.negate}}class DualOptions{constructor(t){this.positiveOptions=new Map;this.negativeOptions=new Map;this.dualOptions=new Set;t.forEach((t=>{if(t.negate){this.negativeOptions.set(t.attributeName(),t)}else{this.positiveOptions.set(t.attributeName(),t)}}));this.negativeOptions.forEach(((t,i)=>{if(this.positiveOptions.has(i)){this.dualOptions.add(i)}}))}valueFromOption(t,i){const r=i.attributeName();if(!this.dualOptions.has(r))return true;const o=this.negativeOptions.get(r).presetArg;const a=o!==undefined?o:false;return i.negate===(a===t)}}function camelcase(t){return t.split("-").reduce(((t,i)=>t+i[0].toUpperCase()+i.slice(1)))}function splitOptionFlags(t){let i;let r;const o=t.split(/[ |,]+/);if(o.length>1&&!/^[[<]/.test(o[1]))i=o.shift();r=o.shift();if(!i&&/^-[^-]$/.test(r)){i=r;r=undefined}return{shortFlag:i,longFlag:r}}i.Option=Option;i.splitOptionFlags=splitOptionFlags;i.DualOptions=DualOptions},5841:(t,i)=>{const r=3;function editDistance(t,i){if(Math.abs(t.length-i.length)>r)return Math.max(t.length,i.length);const o=[];for(let i=0;i<=t.length;i++){o[i]=[i]}for(let t=0;t<=i.length;t++){o[0][t]=t}for(let r=1;r<=i.length;r++){for(let a=1;a<=t.length;a++){let h=1;if(t[a-1]===i[r-1]){h=0}else{h=1}o[a][r]=Math.min(o[a-1][r]+1,o[a][r-1]+1,o[a-1][r-1]+h);if(a>1&&r>1&&t[a-1]===i[r-2]&&t[a-2]===i[r-1]){o[a][r]=Math.min(o[a][r],o[a-2][r-2]+1)}}}return o[t.length][i.length]}function suggestSimilar(t,i){if(!i||i.length===0)return"";i=Array.from(new Set(i));const o=t.startsWith("--");if(o){t=t.slice(2);i=i.map((t=>t.slice(2)))}let a=[];let h=r;const l=.4;i.forEach((i=>{if(i.length<=1)return;const r=editDistance(t,i);const o=Math.max(t.length,i.length);const c=(o-r)/o;if(c>l){if(r<h){h=r;a=[i]}else if(r===h){a.push(i)}}}));a.sort(((t,i)=>t.localeCompare(i)));if(o){a=a.map((t=>`--${t}`))}if(a.length>1){return`\n(Did you mean one of ${a.join(", ")}?)`}if(a.length===1){return`\n(Did you mean ${a[0]}?)`}return""}i.suggestSimilar=suggestSimilar}};var i={};function __nccwpck_require__(r){var o=i[r];if(o!==undefined){return o.exports}var a=i[r]={exports:{}};var h=true;try{t[r](a,a.exports,__nccwpck_require__);h=false}finally{if(h)delete i[r]}return a.exports}(()=>{__nccwpck_require__.n=t=>{var i=t&&t.__esModule?()=>t["default"]:()=>t;__nccwpck_require__.d(i,{a:i});return i}})();(()=>{var t=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;var i;__nccwpck_require__.t=function(r,o){if(o&1)r=this(r);if(o&8)return r;if(typeof r==="object"&&r){if(o&4&&r.__esModule)return r;if(o&16&&typeof r.then==="function")return r}var a=Object.create(null);__nccwpck_require__.r(a);var h={};i=i||[null,t({}),t([]),t(t)];for(var l=o&2&&r;typeof l=="object"&&!~i.indexOf(l);l=t(l)){Object.getOwnPropertyNames(l).forEach((t=>h[t]=()=>r[t]))}h["default"]=()=>r;__nccwpck_require__.d(a,h);return a}})();(()=>{__nccwpck_require__.d=(t,i)=>{for(var r in i){if(__nccwpck_require__.o(i,r)&&!__nccwpck_require__.o(t,r)){Object.defineProperty(t,r,{enumerable:true,get:i[r]})}}}})();(()=>{__nccwpck_require__.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i)})();(()=>{__nccwpck_require__.r=t=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})}})();if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var r={};(()=>{"use strict";__nccwpck_require__.r(r);const t=require("node:path");var i=__nccwpck_require__.n(t);const o=10;const wrapAnsi16=(t=0)=>i=>`[${i+t}m`;const wrapAnsi256=(t=0)=>i=>`[${38+t};5;${i}m`;const wrapAnsi16m=(t=0)=>(i,r,o)=>`[${38+t};2;${i};${r};${o}m`;const a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};const h=Object.keys(a.modifier);const l=Object.keys(a.color);const c=Object.keys(a.bgColor);const u=[...l,...c];function assembleStyles(){const t=new Map;for(const[i,r]of Object.entries(a)){for(const[i,o]of Object.entries(r)){a[i]={open:`[${o[0]}m`,close:`[${o[1]}m`};r[i]=a[i];t.set(o[0],o[1])}Object.defineProperty(a,i,{value:r,enumerable:false})}Object.defineProperty(a,"codes",{value:t,enumerable:false});a.color.close="[39m";a.bgColor.close="[49m";a.color.ansi=wrapAnsi16();a.color.ansi256=wrapAnsi256();a.color.ansi16m=wrapAnsi16m();a.bgColor.ansi=wrapAnsi16(o);a.bgColor.ansi256=wrapAnsi256(o);a.bgColor.ansi16m=wrapAnsi16m(o);Object.defineProperties(a,{rgbToAnsi256:{value(t,i,r){if(t===i&&i===r){if(t<8){return 16}if(t>248){return 231}return Math.round((t-8)/247*24)+232}return 16+36*Math.round(t/255*5)+6*Math.round(i/255*5)+Math.round(r/255*5)},enumerable:false},hexToRgb:{value(t){const i=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!i){return[0,0,0]}let[r]=i;if(r.length===3){r=[...r].map((t=>t+t)).join("")}const o=Number.parseInt(r,16);return[o>>16&255,o>>8&255,o&255]},enumerable:false},hexToAnsi256:{value:t=>a.rgbToAnsi256(...a.hexToRgb(t)),enumerable:false},ansi256ToAnsi:{value(t){if(t<8){return 30+t}if(t<16){return 90+(t-8)}let i;let r;let o;if(t>=232){i=((t-232)*10+8)/255;r=i;o=i}else{t-=16;const a=t%36;i=Math.floor(t/36)/5;r=Math.floor(a/6)/5;o=a%6/5}const a=Math.max(i,r,o)*2;if(a===0){return 30}let h=30+(Math.round(o)<<2|Math.round(r)<<1|Math.round(i));if(a===2){h+=60}return h},enumerable:false},rgbToAnsi:{value:(t,i,r)=>a.ansi256ToAnsi(a.rgbToAnsi256(t,i,r)),enumerable:false},hexToAnsi:{value:t=>a.ansi256ToAnsi(a.hexToAnsi256(t)),enumerable:false}});return a}const d=assembleStyles();const p=d;const g=require("node:process");const y=require("node:os");const b=require("node:tty");function hasFlag(t,i=(globalThis.Deno?globalThis.Deno.args:g.argv)){const r=t.startsWith("-")?"":t.length===1?"-":"--";const o=i.indexOf(r+t);const a=i.indexOf("--");return o!==-1&&(a===-1||o<a)}const{env:w}=g;let _;if(hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")||hasFlag("color=never")){_=0}else if(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always")){_=1}function envForceColor(){if("FORCE_COLOR"in w){if(w.FORCE_COLOR==="true"){return 1}if(w.FORCE_COLOR==="false"){return 0}return w.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(w.FORCE_COLOR,10),3)}}function translateLevel(t){if(t===0){return false}return{level:t,hasBasic:true,has256:t>=2,has16m:t>=3}}function _supportsColor(t,{streamIsTTY:i,sniffFlags:r=true}={}){const o=envForceColor();if(o!==undefined){_=o}const a=r?_:o;if(a===0){return 0}if(r){if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor")){return 3}if(hasFlag("color=256")){return 2}}if("TF_BUILD"in w&&"AGENT_NAME"in w){return 1}if(t&&!i&&a===undefined){return 0}const h=a||0;if(w.TERM==="dumb"){return h}if(g.platform==="win32"){const t=y.release().split(".");if(Number(t[0])>=10&&Number(t[2])>=10586){return Number(t[2])>=14931?3:2}return 1}if("CI"in w){if("GITHUB_ACTIONS"in w){return 3}if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some((t=>t in w))||w.CI_NAME==="codeship"){return 1}return h}if("TEAMCITY_VERSION"in w){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(w.TEAMCITY_VERSION)?1:0}if(w.COLORTERM==="truecolor"){return 3}if(w.TERM==="xterm-kitty"){return 3}if("TERM_PROGRAM"in w){const t=Number.parseInt((w.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(w.TERM_PROGRAM){case"iTerm.app":{return t>=3?3:2}case"Apple_Terminal":{return 2}}}if(/-256(color)?$/i.test(w.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(w.TERM)){return 1}if("COLORTERM"in w){return 1}return h}function createSupportsColor(t,i={}){const r=_supportsColor(t,{streamIsTTY:t&&t.isTTY,...i});return translateLevel(r)}const v={stdout:createSupportsColor({isTTY:b.isatty(1)}),stderr:createSupportsColor({isTTY:b.isatty(2)})};const E=v;function stringReplaceAll(t,i,r){let o=t.indexOf(i);if(o===-1){return t}const a=i.length;let h=0;let l="";do{l+=t.slice(h,o)+i+r;h=o+a;o=t.indexOf(i,h)}while(o!==-1);l+=t.slice(h);return l}function stringEncaseCRLFWithFirstIndex(t,i,r,o){let a=0;let h="";do{const l=t[o-1]==="\r";h+=t.slice(a,l?o-1:o)+i+(l?"\r\n":"\n")+r;a=o+1;o=t.indexOf("\n",a)}while(o!==-1);h+=t.slice(a);return h}const{stdout:S,stderr:x}=E;const O=Symbol("GENERATOR");const T=Symbol("STYLER");const R=Symbol("IS_EMPTY");const k=["ansi","ansi","ansi256","ansi16m"];const A=Object.create(null);const applyOptions=(t,i={})=>{if(i.level&&!(Number.isInteger(i.level)&&i.level>=0&&i.level<=3)){throw new Error("The `level` option should be an integer from 0 to 3")}const r=S?S.level:0;t.level=i.level===undefined?r:i.level};class Chalk{constructor(t){return chalkFactory(t)}}const chalkFactory=t=>{const chalk=(...t)=>t.join(" ");applyOptions(chalk,t);Object.setPrototypeOf(chalk,createChalk.prototype);return chalk};function createChalk(t){return chalkFactory(t)}Object.setPrototypeOf(createChalk.prototype,Function.prototype);for(const[t,i]of Object.entries(p)){A[t]={get(){const r=createBuilder(this,createStyler(i.open,i.close,this[T]),this[R]);Object.defineProperty(this,t,{value:r});return r}}}A.visible={get(){const t=createBuilder(this,this[T],true);Object.defineProperty(this,"visible",{value:t});return t}};const getModelAnsi=(t,i,r,...o)=>{if(t==="rgb"){if(i==="ansi16m"){return p[r].ansi16m(...o)}if(i==="ansi256"){return p[r].ansi256(p.rgbToAnsi256(...o))}return p[r].ansi(p.rgbToAnsi(...o))}if(t==="hex"){return getModelAnsi("rgb",i,r,...p.hexToRgb(...o))}return p[r][t](...o)};const C=["rgb","hex","ansi256"];for(const t of C){A[t]={get(){const{level:i}=this;return function(...r){const o=createStyler(getModelAnsi(t,k[i],"color",...r),p.color.close,this[T]);return createBuilder(this,o,this[R])}}};const i="bg"+t[0].toUpperCase()+t.slice(1);A[i]={get(){const{level:i}=this;return function(...r){const o=createStyler(getModelAnsi(t,k[i],"bgColor",...r),p.bgColor.close,this[T]);return createBuilder(this,o,this[R])}}}}const P=Object.defineProperties((()=>{}),{...A,level:{enumerable:true,get(){return this[O].level},set(t){this[O].level=t}}});const createStyler=(t,i,r)=>{let o;let a;if(r===undefined){o=t;a=i}else{o=r.openAll+t;a=i+r.closeAll}return{open:t,close:i,openAll:o,closeAll:a,parent:r}};const createBuilder=(t,i,r)=>{const builder=(...t)=>applyStyle(builder,t.length===1?""+t[0]:t.join(" "));Object.setPrototypeOf(builder,P);builder[O]=t;builder[T]=i;builder[R]=r;return builder};const applyStyle=(t,i)=>{if(t.level<=0||!i){return t[R]?"":i}let r=t[T];if(r===undefined){return i}const{openAll:o,closeAll:a}=r;if(i.includes("")){while(r!==undefined){i=stringReplaceAll(i,r.close,r.open);r=r.parent}}const h=i.indexOf("\n");if(h!==-1){i=stringEncaseCRLFWithFirstIndex(i,a,o,h)}return o+i+a};Object.defineProperties(createChalk.prototype,A);const I=createChalk();const L=createChalk({level:x?x.level:0});const N=I;var M=__nccwpck_require__(6047);const{program:D,createCommand:$,createArgument:j,createOption:B,CommanderError:H,InvalidArgumentError:z,InvalidOptionArgumentError:U,Command:q,Argument:G,Option:W,Help:V}=M;var Y=__nccwpck_require__(3309);var Z=__nccwpck_require__.n(Y);var X=__nccwpck_require__(2475);var J=__nccwpck_require__.n(X);const K=require("node:child_process");const optArgT=t=>{assertRimrafOptions(t);const{glob:i,...r}=t;if(!i){return r}const o=i===true?t.signal?{signal:t.signal}:{}:t.signal?{signal:t.signal,...i}:i;return{...r,glob:{...o,absolute:true,withFileTypes:false}}};const optArg=(t={})=>optArgT(t);const optArgSync=(t={})=>optArgT(t);var Q=__nccwpck_require__(1017);var ee=__nccwpck_require__(3837);const te=process.env.__TESTING_RIMRAF_PLATFORM__||process.platform;const pathArg=(t,i={})=>{const r=typeof t;if(r!=="string"){const i=t&&r==="object"&&t.constructor;const o=i&&i.name?`an instance of ${i.name}`:r==="object"?(0,ee.inspect)(t):`type ${r} ${t}`;const a='The "path" argument must be of type string. '+`Received ${o}`;throw Object.assign(new TypeError(a),{path:t,code:"ERR_INVALID_ARG_TYPE"})}if(/\0/.test(t)){const i="path must be a string without null bytes";throw Object.assign(new TypeError(i),{path:t,code:"ERR_INVALID_ARG_VALUE"})}t=(0,Q.resolve)(t);const{root:o}=(0,Q.parse)(t);if(t===o&&i.preserveRoot!==false){const i="refusing to remove root directory without preserveRoot:false";throw Object.assign(new Error(i),{path:t,code:"ERR_PRESERVE_ROOT"})}if(te==="win32"){const i=/[*|"<>?:]/;const{root:r}=(0,Q.parse)(t);if(i.test(t.substring(r.length))){throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}}return t};const se=pathArg;var ie=__nccwpck_require__(2961);const re=1024*64;const assertValidPattern=t=>{if(typeof t!=="string"){throw new TypeError("invalid pattern")}if(t.length>re){throw new TypeError("pattern is too long")}};const ne={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",true],"[:alpha:]":["\\p{L}\\p{Nl}",true],"[:ascii:]":["\\x"+"00-\\x"+"7f",false],"[:blank:]":["\\p{Zs}\\t",true],"[:cntrl:]":["\\p{Cc}",true],"[:digit:]":["\\p{Nd}",true],"[:graph:]":["\\p{Z}\\p{C}",true,true],"[:lower:]":["\\p{Ll}",true],"[:print:]":["\\p{C}",true],"[:punct:]":["\\p{P}",true],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",true],"[:upper:]":["\\p{Lu}",true],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",true],"[:xdigit:]":["A-Fa-f0-9",false]};const braceEscape=t=>t.replace(/[[\]\\-]/g,"\\$&");const regexpEscape=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");const rangesToString=t=>t.join("");const parseClass=(t,i)=>{const r=i;if(t.charAt(r)!=="["){throw new Error("not in a brace expression")}const o=[];const a=[];let h=r+1;let l=false;let c=false;let u=false;let d=false;let p=r;let g="";e:while(h<t.length){const i=t.charAt(h);if((i==="!"||i==="^")&&h===r+1){d=true;h++;continue}if(i==="]"&&l&&!u){p=h+1;break}l=true;if(i==="\\"){if(!u){u=true;h++;continue}}if(i==="["&&!u){for(const[i,[l,u,d]]of Object.entries(ne)){if(t.startsWith(i,h)){if(g){return["$.",false,t.length-r,true]}h+=i.length;if(d)a.push(l);else o.push(l);c=c||u;continue e}}}u=false;if(g){if(i>g){o.push(braceEscape(g)+"-"+braceEscape(i))}else if(i===g){o.push(braceEscape(i))}g="";h++;continue}if(t.startsWith("-]",h+1)){o.push(braceEscape(i+"-"));h+=2;continue}if(t.startsWith("-",h+1)){g=i;h+=2;continue}o.push(braceEscape(i));h++}if(p<h){return["",false,0,false]}if(!o.length&&!a.length){return["$.",false,t.length-r,true]}if(a.length===0&&o.length===1&&/^\\?.$/.test(o[0])&&!d){const t=o[0].length===2?o[0].slice(-1):o[0];return[regexpEscape(t),false,p-r,false]}const y="["+(d?"^":"")+rangesToString(o)+"]";const b="["+(d?"":"^")+rangesToString(a)+"]";const w=o.length&&a.length?"("+y+"|"+b+")":o.length?y:b;return[w,c,p-r,true]};const unescape_unescape=(t,{windowsPathsNoEscape:i=false}={})=>i?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");const oe=new Set(["!","?","+","*","@"]);const isExtglobType=t=>oe.has(t);const ae="(?!\\.\\.?(?:$|/))";const he="(?!\\.)";const le=new Set(["[","."]);const ce=new Set(["..","."]);const ue=new Set("().*{}+?[]^$\\!");const regExpEscape=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");const fe="[^/]";const de=fe+"*?";const pe=fe+"+?";class AST{type;#e;#t;#s=false;#i=[];#r;#n;#o;#a=false;#h;#l;#c=false;constructor(t,i,r={}){this.type=t;if(t)this.#t=true;this.#r=i;this.#e=this.#r?this.#r.#e:this;this.#h=this.#e===this?r:this.#e.#h;this.#o=this.#e===this?[]:this.#e.#o;if(t==="!"&&!this.#e.#a)this.#o.push(this);this.#n=this.#r?this.#r.#i.length:0}get hasMagic(){if(this.#t!==undefined)return this.#t;for(const t of this.#i){if(typeof t==="string")continue;if(t.type||t.hasMagic)return this.#t=true}return this.#t}toString(){if(this.#l!==undefined)return this.#l;if(!this.type){return this.#l=this.#i.map((t=>String(t))).join("")}else{return this.#l=this.type+"("+this.#i.map((t=>String(t))).join("|")+")"}}#u(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;this.toString();this.#a=true;let t;while(t=this.#o.pop()){if(t.type!=="!")continue;let i=t;let r=i.#r;while(r){for(let o=i.#n+1;!r.type&&o<r.#i.length;o++){for(const i of t.#i){if(typeof i==="string"){throw new Error("string part in extglob AST??")}i.copyIn(r.#i[o])}}i=r;r=i.#r}}return this}push(...t){for(const i of t){if(i==="")continue;if(typeof i!=="string"&&!(i instanceof AST&&i.#r===this)){throw new Error("invalid part: "+i)}this.#i.push(i)}}toJSON(){const t=this.type===null?this.#i.slice().map((t=>typeof t==="string"?t:t.toJSON())):[this.type,...this.#i.map((t=>t.toJSON()))];if(this.isStart()&&!this.type)t.unshift([]);if(this.isEnd()&&(this===this.#e||this.#e.#a&&this.#r?.type==="!")){t.push({})}return t}isStart(){if(this.#e===this)return true;if(!this.#r?.isStart())return false;if(this.#n===0)return true;const t=this.#r;for(let i=0;i<this.#n;i++){const r=t.#i[i];if(!(r instanceof AST&&r.type==="!")){return false}}return true}isEnd(){if(this.#e===this)return true;if(this.#r?.type==="!")return true;if(!this.#r?.isEnd())return false;if(!this.type)return this.#r?.isEnd();const t=this.#r?this.#r.#i.length:0;return this.#n===t-1}copyIn(t){if(typeof t==="string")this.push(t);else this.push(t.clone(this))}clone(t){const i=new AST(this.type,t);for(const t of this.#i){i.copyIn(t)}return i}static#f(t,i,r,o){let a=false;let h=false;let l=-1;let c=false;if(i.type===null){let u=r;let d="";while(u<t.length){const r=t.charAt(u++);if(a||r==="\\"){a=!a;d+=r;continue}if(h){if(u===l+1){if(r==="^"||r==="!"){c=true}}else if(r==="]"&&!(u===l+2&&c)){h=false}d+=r;continue}else if(r==="["){h=true;l=u;c=false;d+=r;continue}if(!o.noext&&isExtglobType(r)&&t.charAt(u)==="("){i.push(d);d="";const a=new AST(r,i);u=AST.#f(t,a,u,o);i.push(a);continue}d+=r}i.push(d);return u}let u=r+1;let d=new AST(null,i);const p=[];let g="";while(u<t.length){const r=t.charAt(u++);if(a||r==="\\"){a=!a;g+=r;continue}if(h){if(u===l+1){if(r==="^"||r==="!"){c=true}}else if(r==="]"&&!(u===l+2&&c)){h=false}g+=r;continue}else if(r==="["){h=true;l=u;c=false;g+=r;continue}if(isExtglobType(r)&&t.charAt(u)==="("){d.push(g);g="";const i=new AST(r,d);d.push(i);u=AST.#f(t,i,u,o);continue}if(r==="|"){d.push(g);g="";p.push(d);d=new AST(null,i);continue}if(r===")"){if(g===""&&i.#i.length===0){i.#c=true}d.push(g);g="";i.push(...p,d);return u}g+=r}i.type=null;i.#t=undefined;i.#i=[t.substring(r-1)];return u}static fromGlob(t,i={}){const r=new AST(null,undefined,i);AST.#f(t,r,0,i);return r}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();const t=this.toString();const[i,r,o,a]=this.toRegExpSource();const h=o||this.#t||this.#h.nocase&&!this.#h.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase();if(!h){return r}const l=(this.#h.nocase?"i":"")+(a?"u":"");return Object.assign(new RegExp(`^${i}$`,l),{_src:i,_glob:t})}toRegExpSource(){if(this.#e===this)this.#u();if(!this.type){const t=this.isStart()&&this.isEnd();const i=this.#i.map((i=>{const[r,o,a,h]=typeof i==="string"?AST.#d(i,this.#t,t):i.toRegExpSource();this.#t=this.#t||a;this.#s=this.#s||h;return r})).join("");let r="";if(this.isStart()){if(typeof this.#i[0]==="string"){const t=this.#i.length===1&&ce.has(this.#i[0]);if(!t){const t=le;const o=this.#h.dot&&t.has(i.charAt(0))||i.startsWith("\\.")&&t.has(i.charAt(2))||i.startsWith("\\.\\.")&&t.has(i.charAt(4));const a=!this.#h.dot&&t.has(i.charAt(0));r=o?ae:a?he:""}}}let o="";if(this.isEnd()&&this.#e.#a&&this.#r?.type==="!"){o="(?:$|\\/)"}const a=r+i+o;return[a,unescape_unescape(i),this.#t=!!this.#t,this.#s]}const t=this.type==="!"?"(?:(?!(?:":"(?:";const i=this.#i.map((t=>{if(typeof t==="string"){throw new Error("string type in extglob ast??")}const[i,r,o,a]=t.toRegExpSource();this.#s=this.#s||a;return i})).filter((t=>!(this.isStart()&&this.isEnd())||!!t)).join("|");if(this.isStart()&&this.isEnd()&&!i&&this.type!=="!"){const t=this.toString();this.#i=[t];this.type=null;this.#t=undefined;return[t,unescape_unescape(this.toString()),false,false]}let r="";if(this.type==="!"&&this.#c){r=(this.isStart()&&!this.#h.dot?he:"")+pe}else{const o=this.type==="!"?"))"+(this.isStart()&&!this.#h.dot?he:"")+de+")":this.type==="@"?")":`)${this.type}`;r=t+i+o}return[r,unescape_unescape(i),this.#t=!!this.#t,this.#s]}static#d(t,i,r=false){let o=false;let a="";let h=false;for(let l=0;l<t.length;l++){const c=t.charAt(l);if(o){o=false;a+=(ue.has(c)?"\\":"")+c;continue}if(c==="\\"){if(l===t.length-1){a+="\\\\"}else{o=true}continue}if(c==="["){const[r,o,c,u]=parseClass(t,l);if(c){a+=r;h=h||o;l+=c-1;i=i||u;continue}}if(c==="*"){if(r&&t==="*")a+=pe;else a+=de;i=true;continue}if(c==="?"){a+=fe;i=true;continue}a+=regExpEscape(c)}return[a,unescape_unescape(t),!!i,h]}}const escape_escape=(t,{windowsPathsNoEscape:i=false}={})=>i?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&");const minimatch=(t,i,r={})=>{assertValidPattern(i);if(!r.nocomment&&i.charAt(0)==="#"){return false}return new Minimatch(i,r).match(t)};const me=/^\*+([^+@!?\*\[\(]*)$/;const starDotExtTest=t=>i=>!i.startsWith(".")&&i.endsWith(t);const starDotExtTestDot=t=>i=>i.endsWith(t);const starDotExtTestNocase=t=>{t=t.toLowerCase();return i=>!i.startsWith(".")&&i.toLowerCase().endsWith(t)};const starDotExtTestNocaseDot=t=>{t=t.toLowerCase();return i=>i.toLowerCase().endsWith(t)};const ge=/^\*+\.\*+$/;const starDotStarTest=t=>!t.startsWith(".")&&t.includes(".");const starDotStarTestDot=t=>t!=="."&&t!==".."&&t.includes(".");const ye=/^\.\*+$/;const dotStarTest=t=>t!=="."&&t!==".."&&t.startsWith(".");const be=/^\*+$/;const starTest=t=>t.length!==0&&!t.startsWith(".");const starTestDot=t=>t.length!==0&&t!=="."&&t!=="..";const we=/^\?+([^+@!?\*\[\(]*)?$/;const qmarksTestNocase=([t,i=""])=>{const r=qmarksTestNoExt([t]);if(!i)return r;i=i.toLowerCase();return t=>r(t)&&t.toLowerCase().endsWith(i)};const qmarksTestNocaseDot=([t,i=""])=>{const r=qmarksTestNoExtDot([t]);if(!i)return r;i=i.toLowerCase();return t=>r(t)&&t.toLowerCase().endsWith(i)};const qmarksTestDot=([t,i=""])=>{const r=qmarksTestNoExtDot([t]);return!i?r:t=>r(t)&&t.endsWith(i)};const qmarksTest=([t,i=""])=>{const r=qmarksTestNoExt([t]);return!i?r:t=>r(t)&&t.endsWith(i)};const qmarksTestNoExt=([t])=>{const i=t.length;return t=>t.length===i&&!t.startsWith(".")};const qmarksTestNoExtDot=([t])=>{const i=t.length;return t=>t.length===i&&t!=="."&&t!==".."};const _e=typeof process==="object"&&process?typeof process.env==="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";const ve={win32:{sep:"\\"},posix:{sep:"/"}};const Ee=_e==="win32"?ve.win32.sep:ve.posix.sep;minimatch.sep=Ee;const Se=Symbol("globstar **");minimatch.GLOBSTAR=Se;const xe="[^/]";const Oe=xe+"*?";const Te="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";const Re="(?:(?!(?:\\/|^)\\.).)*?";const filter=(t,i={})=>r=>minimatch(r,t,i);minimatch.filter=filter;const ext=(t,i={})=>Object.assign({},t,i);const defaults=t=>{if(!t||typeof t!=="object"||!Object.keys(t).length){return minimatch}const i=minimatch;const m=(r,o,a={})=>i(r,o,ext(t,a));return Object.assign(m,{Minimatch:class Minimatch extends i.Minimatch{constructor(i,r={}){super(i,ext(t,r))}static defaults(r){return i.defaults(ext(t,r)).Minimatch}},AST:class AST extends i.AST{constructor(i,r,o={}){super(i,r,ext(t,o))}static fromGlob(r,o={}){return i.AST.fromGlob(r,ext(t,o))}},unescape:(r,o={})=>i.unescape(r,ext(t,o)),escape:(r,o={})=>i.escape(r,ext(t,o)),filter:(r,o={})=>i.filter(r,ext(t,o)),defaults:r=>i.defaults(ext(t,r)),makeRe:(r,o={})=>i.makeRe(r,ext(t,o)),braceExpand:(r,o={})=>i.braceExpand(r,ext(t,o)),match:(r,o,a={})=>i.match(r,o,ext(t,a)),sep:i.sep,GLOBSTAR:Se})};minimatch.defaults=defaults;const braceExpand=(t,i={})=>{assertValidPattern(t);if(i.nobrace||!/\{(?:(?!\{).)*\}/.test(t)){return[t]}return ie(t)};minimatch.braceExpand=braceExpand;const makeRe=(t,i={})=>new Minimatch(t,i).makeRe();minimatch.makeRe=makeRe;const match=(t,i,r={})=>{const o=new Minimatch(i,r);t=t.filter((t=>o.match(t)));if(o.options.nonull&&!t.length){t.push(i)}return t};minimatch.match=match;const ke=/[?*]|[+@!]\(.*?\)|\[|\]/;const mjs_regExpEscape=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Minimatch{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,i={}){assertValidPattern(t);i=i||{};this.options=i;this.pattern=t;this.platform=i.platform||_e;this.isWindows=this.platform==="win32";this.windowsPathsNoEscape=!!i.windowsPathsNoEscape||i.allowWindowsEscape===false;if(this.windowsPathsNoEscape){this.pattern=this.pattern.replace(/\\/g,"/")}this.preserveMultipleSlashes=!!i.preserveMultipleSlashes;this.regexp=null;this.negate=false;this.nonegate=!!i.nonegate;this.comment=false;this.empty=false;this.partial=!!i.partial;this.nocase=!!this.options.nocase;this.windowsNoMagicRoot=i.windowsNoMagicRoot!==undefined?i.windowsNoMagicRoot:!!(this.isWindows&&this.nocase);this.globSet=[];this.globParts=[];this.set=[];this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1){return true}for(const t of this.set){for(const i of t){if(typeof i!=="string")return true}}return false}debug(...t){}make(){const t=this.pattern;const i=this.options;if(!i.nocomment&&t.charAt(0)==="#"){this.comment=true;return}if(!t){this.empty=true;return}this.parseNegate();this.globSet=[...new Set(this.braceExpand())];if(i.debug){this.debug=(...t)=>console.error(...t)}this.debug(this.pattern,this.globSet);const r=this.globSet.map((t=>this.slashSplit(t)));this.globParts=this.preprocess(r);this.debug(this.pattern,this.globParts);let o=this.globParts.map(((t,i,r)=>{if(this.isWindows&&this.windowsNoMagicRoot){const i=t[0]===""&&t[1]===""&&(t[2]==="?"||!ke.test(t[2]))&&!ke.test(t[3]);const r=/^[a-z]:/i.test(t[0]);if(i){return[...t.slice(0,4),...t.slice(4).map((t=>this.parse(t)))]}else if(r){return[t[0],...t.slice(1).map((t=>this.parse(t)))]}}return t.map((t=>this.parse(t)))}));this.debug(this.pattern,o);this.set=o.filter((t=>t.indexOf(false)===-1));if(this.isWindows){for(let t=0;t<this.set.length;t++){const i=this.set[t];if(i[0]===""&&i[1]===""&&this.globParts[t][2]==="?"&&typeof i[3]==="string"&&/^[a-z]:$/i.test(i[3])){i[2]="?"}}}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar){for(let i=0;i<t.length;i++){for(let r=0;r<t[i].length;r++){if(t[i][r]==="**"){t[i][r]="*"}}}}const{optimizationLevel:i=1}=this.options;if(i>=2){t=this.firstPhasePreProcess(t);t=this.secondPhasePreProcess(t)}else if(i>=1){t=this.levelOneOptimize(t)}else{t=this.adjascentGlobstarOptimize(t)}return t}adjascentGlobstarOptimize(t){return t.map((t=>{let i=-1;while(-1!==(i=t.indexOf("**",i+1))){let r=i;while(t[r+1]==="**"){r++}if(r!==i){t.splice(i,r-i)}}return t}))}levelOneOptimize(t){return t.map((t=>{t=t.reduce(((t,i)=>{const r=t[t.length-1];if(i==="**"&&r==="**"){return t}if(i===".."){if(r&&r!==".."&&r!=="."&&r!=="**"){t.pop();return t}}t.push(i);return t}),[]);return t.length===0?[""]:t}))}levelTwoFileOptimize(t){if(!Array.isArray(t)){t=this.slashSplit(t)}let i=false;do{i=false;if(!this.preserveMultipleSlashes){for(let r=1;r<t.length-1;r++){const o=t[r];if(r===1&&o===""&&t[0]==="")continue;if(o==="."||o===""){i=true;t.splice(r,1);r--}}if(t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")){i=true;t.pop()}}let r=0;while(-1!==(r=t.indexOf("..",r+1))){const o=t[r-1];if(o&&o!=="."&&o!==".."&&o!=="**"){i=true;t.splice(r-1,2);r-=2}}}while(i);return t.length===0?[""]:t}firstPhasePreProcess(t){let i=false;do{i=false;for(let r of t){let o=-1;while(-1!==(o=r.indexOf("**",o+1))){let a=o;while(r[a+1]==="**"){a++}if(a>o){r.splice(o+1,a-o)}let h=r[o+1];const l=r[o+2];const c=r[o+3];if(h!=="..")continue;if(!l||l==="."||l===".."||!c||c==="."||c===".."){continue}i=true;r.splice(o,1);const u=r.slice(0);u[o]="**";t.push(u);o--}if(!this.preserveMultipleSlashes){for(let t=1;t<r.length-1;t++){const o=r[t];if(t===1&&o===""&&r[0]==="")continue;if(o==="."||o===""){i=true;r.splice(t,1);t--}}if(r[0]==="."&&r.length===2&&(r[1]==="."||r[1]==="")){i=true;r.pop()}}let a=0;while(-1!==(a=r.indexOf("..",a+1))){const t=r[a-1];if(t&&t!=="."&&t!==".."&&t!=="**"){i=true;const t=a===1&&r[a+1]==="**";const o=t?["."]:[];r.splice(a-1,2,...o);if(r.length===0)r.push("");a-=2}}}}while(i);return t}secondPhasePreProcess(t){for(let i=0;i<t.length-1;i++){for(let r=i+1;r<t.length;r++){const o=this.partsMatch(t[i],t[r],!this.preserveMultipleSlashes);if(!o)continue;t[i]=o;t[r]=[]}}return t.filter((t=>t.length))}partsMatch(t,i,r=false){let o=0;let a=0;let h=[];let l="";while(o<t.length&&a<i.length){if(t[o]===i[a]){h.push(l==="b"?i[a]:t[o]);o++;a++}else if(r&&t[o]==="**"&&i[a]===t[o+1]){h.push(t[o]);o++}else if(r&&i[a]==="**"&&t[o]===i[a+1]){h.push(i[a]);a++}else if(t[o]==="*"&&i[a]&&(this.options.dot||!i[a].startsWith("."))&&i[a]!=="**"){if(l==="b")return false;l="a";h.push(t[o]);o++;a++}else if(i[a]==="*"&&t[o]&&(this.options.dot||!t[o].startsWith("."))&&t[o]!=="**"){if(l==="a")return false;l="b";h.push(i[a]);o++;a++}else{return false}}return t.length===i.length&&h}parseNegate(){if(this.nonegate)return;const t=this.pattern;let i=false;let r=0;for(let o=0;o<t.length&&t.charAt(o)==="!";o++){i=!i;r++}if(r)this.pattern=t.slice(r);this.negate=i}matchOne(t,i,r=false){const o=this.options;if(this.isWindows){const r=typeof t[0]==="string"&&/^[a-z]:$/i.test(t[0]);const o=!r&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]);const a=typeof i[0]==="string"&&/^[a-z]:$/i.test(i[0]);const h=!a&&i[0]===""&&i[1]===""&&i[2]==="?"&&typeof i[3]==="string"&&/^[a-z]:$/i.test(i[3]);const l=o?3:r?0:undefined;const c=h?3:a?0:undefined;if(typeof l==="number"&&typeof c==="number"){const[r,o]=[t[l],i[c]];if(r.toLowerCase()===o.toLowerCase()){i[c]=r;if(c>l){i=i.slice(c)}else if(l>c){t=t.slice(l)}}}}const{optimizationLevel:a=1}=this.options;if(a>=2){t=this.levelTwoFileOptimize(t)}this.debug("matchOne",this,{file:t,pattern:i});this.debug("matchOne",t.length,i.length);for(var h=0,l=0,c=t.length,u=i.length;h<c&&l<u;h++,l++){this.debug("matchOne loop");var d=i[l];var p=t[h];this.debug(i,d,p);if(d===false){return false}if(d===Se){this.debug("GLOBSTAR",[i,d,p]);var g=h;var y=l+1;if(y===u){this.debug("** at the end");for(;h<c;h++){if(t[h]==="."||t[h]===".."||!o.dot&&t[h].charAt(0)===".")return false}return true}while(g<c){var b=t[g];this.debug("\nglobstar while",t,g,i,y,b);if(this.matchOne(t.slice(g),i.slice(y),r)){this.debug("globstar found match!",g,c,b);return true}else{if(b==="."||b===".."||!o.dot&&b.charAt(0)==="."){this.debug("dot detected!",t,g,i,y);break}this.debug("globstar swallow a segment, and continue");g++}}if(r){this.debug("\n>>> no match, partial?",t,g,i,y);if(g===c){return true}}return false}let a;if(typeof d==="string"){a=p===d;this.debug("string match",d,p,a)}else{a=d.test(p);this.debug("pattern match",d,p,a)}if(!a)return false}if(h===c&&l===u){return true}else if(h===c){return r}else if(l===u){return h===c-1&&t[h]===""}else{throw new Error("wtf?")}}braceExpand(){return braceExpand(this.pattern,this.options)}parse(t){assertValidPattern(t);const i=this.options;if(t==="**")return Se;if(t==="")return"";let r;let o=null;if(r=t.match(be)){o=i.dot?starTestDot:starTest}else if(r=t.match(me)){o=(i.nocase?i.dot?starDotExtTestNocaseDot:starDotExtTestNocase:i.dot?starDotExtTestDot:starDotExtTest)(r[1])}else if(r=t.match(we)){o=(i.nocase?i.dot?qmarksTestNocaseDot:qmarksTestNocase:i.dot?qmarksTestDot:qmarksTest)(r)}else if(r=t.match(ge)){o=i.dot?starDotStarTestDot:starDotStarTest}else if(r=t.match(ye)){o=dotStarTest}const a=AST.fromGlob(t,this.options).toMMPattern();return o?Object.assign(a,{test:o}):a}makeRe(){if(this.regexp||this.regexp===false)return this.regexp;const t=this.set;if(!t.length){this.regexp=false;return this.regexp}const i=this.options;const r=i.noglobstar?Oe:i.dot?Te:Re;const o=new Set(i.nocase?["i"]:[]);let a=t.map((t=>{const i=t.map((t=>{if(t instanceof RegExp){for(const i of t.flags.split(""))o.add(i)}return typeof t==="string"?mjs_regExpEscape(t):t===Se?Se:t._src}));i.forEach(((t,o)=>{const a=i[o+1];const h=i[o-1];if(t!==Se||h===Se){return}if(h===undefined){if(a!==undefined&&a!==Se){i[o+1]="(?:\\/|"+r+"\\/)?"+a}else{i[o]=r}}else if(a===undefined){i[o-1]=h+"(?:\\/|"+r+")?"}else if(a!==Se){i[o-1]=h+"(?:\\/|\\/"+r+"\\/)"+a;i[o+1]=Se}}));return i.filter((t=>t!==Se)).join("/")})).join("|");const[h,l]=t.length>1?["(?:",")"]:["",""];a="^"+h+a+l+"$";if(this.negate)a="^(?!"+a+").+$";try{this.regexp=new RegExp(a,[...o].join(""))}catch(t){this.regexp=false}return this.regexp}slashSplit(t){if(this.preserveMultipleSlashes){return t.split("/")}else if(this.isWindows&&/^\/\/[^\/]+/.test(t)){return["",...t.split(/\/+/)]}else{return t.split(/\/+/)}}match(t,i=this.partial){this.debug("match",t,this.pattern);if(this.comment){return false}if(this.empty){return t===""}if(t==="/"&&i){return true}const r=this.options;if(this.isWindows){t=t.split("\\").join("/")}const o=this.slashSplit(t);this.debug(this.pattern,"split",o);const a=this.set;this.debug(this.pattern,"set",a);let h=o[o.length-1];if(!h){for(let t=o.length-2;!h&&t>=0;t--){h=o[t]}}for(let t=0;t<a.length;t++){const l=a[t];let c=o;if(r.matchBase&&l.length===1){c=[h]}const u=this.matchOne(c,l,i);if(u){if(r.flipNegate){return true}return!this.negate}}if(r.flipNegate){return false}return this.negate}static defaults(t){return minimatch.defaults(t).Minimatch}}minimatch.AST=AST;minimatch.Minimatch=Minimatch;minimatch.escape=escape_escape;minimatch.unescape=unescape_unescape;const Ae=typeof performance==="object"&&performance&&typeof performance.now==="function"?performance:Date;const Ce=new Set;const Pe=typeof process==="object"&&!!process?process:{};const emitWarning=(t,i,r,o)=>{typeof Pe.emitWarning==="function"?Pe.emitWarning(t,i,r,o):console.error(`[${r}] ${i}: ${t}`)};let Ie=globalThis.AbortController;let Le=globalThis.AbortSignal;if(typeof Ie==="undefined"){Le=class AbortSignal{onabort;_onabort=[];reason;aborted=false;addEventListener(t,i){this._onabort.push(i)}};Ie=class AbortController{constructor(){warnACPolyfill()}signal=new Le;abort(t){if(this.signal.aborted)return;this.signal.reason=t;this.signal.aborted=true;for(const i of this.signal._onabort){i(t)}this.signal.onabort?.(t)}};let t=Pe.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const warnACPolyfill=()=>{if(!t)return;t=false;emitWarning("AbortController is not defined. If using lru-cache in "+"node 14, load an AbortController polyfill from the "+"`node-abort-controller` package. A minimal polyfill is "+"provided for use by LRUCache.fetch(), but it should not be "+"relied upon in other contexts (eg, passing it to other APIs that "+"use AbortController/AbortSignal might have undesirable effects). "+"You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",warnACPolyfill)}}const shouldWarn=t=>!Ce.has(t);const Ne=Symbol("type");const isPosInt=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t);const getUintArray=t=>!isPosInt(t)?null:t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?ZeroArray:null;class ZeroArray extends Array{constructor(t){super(t);this.fill(0)}}class Stack{heap;length;static#p=false;static create(t){const i=getUintArray(t);if(!i)return[];Stack.#p=true;const r=new Stack(t,i);Stack.#p=false;return r}constructor(t,i){if(!Stack.#p){throw new TypeError("instantiate Stack using Stack.create(n)")}this.heap=new i(t);this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class LRUCache{#m;#g;#y;#b;#w;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#_;#v;#E;#S;#x;#O;#T;#R;#k;#A;#C;#P;#I;#L;#N;#M;#D;static unsafeExposeInternals(t){return{starts:t.#I,ttls:t.#L,sizes:t.#P,keyMap:t.#E,keyList:t.#S,valList:t.#x,next:t.#O,prev:t.#T,get head(){return t.#R},get tail(){return t.#k},free:t.#A,isBackgroundFetch:i=>t.#$(i),backgroundFetch:(i,r,o,a)=>t.#j(i,r,o,a),moveToTail:i=>t.#F(i),indexes:i=>t.#B(i),rindexes:i=>t.#H(i),isStale:i=>t.#z(i)}}get max(){return this.#m}get maxSize(){return this.#g}get calculatedSize(){return this.#v}get size(){return this.#_}get fetchMethod(){return this.#w}get dispose(){return this.#y}get disposeAfter(){return this.#b}constructor(t){const{max:i=0,ttl:r,ttlResolution:o=1,ttlAutopurge:a,updateAgeOnGet:h,updateAgeOnHas:l,allowStale:c,dispose:u,disposeAfter:d,noDisposeOnSet:p,noUpdateTTL:g,maxSize:y=0,maxEntrySize:b=0,sizeCalculation:w,fetchMethod:_,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:E,allowStaleOnFetchRejection:S,allowStaleOnFetchAbort:x,ignoreFetchAbort:O}=t;if(i!==0&&!isPosInt(i)){throw new TypeError("max option must be a nonnegative integer")}const T=i?getUintArray(i):Array;if(!T){throw new Error("invalid max value: "+i)}this.#m=i;this.#g=y;this.maxEntrySize=b||this.#g;this.sizeCalculation=w;if(this.sizeCalculation){if(!this.#g&&!this.maxEntrySize){throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize")}if(typeof this.sizeCalculation!=="function"){throw new TypeError("sizeCalculation set to non-function")}}if(_!==undefined&&typeof _!=="function"){throw new TypeError("fetchMethod must be a function if specified")}this.#w=_;this.#M=!!_;this.#E=new Map;this.#S=new Array(i).fill(undefined);this.#x=new Array(i).fill(undefined);this.#O=new T(i);this.#T=new T(i);this.#R=0;this.#k=0;this.#A=Stack.create(i);this.#_=0;this.#v=0;if(typeof u==="function"){this.#y=u}if(typeof d==="function"){this.#b=d;this.#C=[]}else{this.#b=undefined;this.#C=undefined}this.#N=!!this.#y;this.#D=!!this.#b;this.noDisposeOnSet=!!p;this.noUpdateTTL=!!g;this.noDeleteOnFetchRejection=!!v;this.allowStaleOnFetchRejection=!!S;this.allowStaleOnFetchAbort=!!x;this.ignoreFetchAbort=!!O;if(this.maxEntrySize!==0){if(this.#g!==0){if(!isPosInt(this.#g)){throw new TypeError("maxSize must be a positive integer if specified")}}if(!isPosInt(this.maxEntrySize)){throw new TypeError("maxEntrySize must be a positive integer if specified")}this.#U()}this.allowStale=!!c;this.noDeleteOnStaleGet=!!E;this.updateAgeOnGet=!!h;this.updateAgeOnHas=!!l;this.ttlResolution=isPosInt(o)||o===0?o:1;this.ttlAutopurge=!!a;this.ttl=r||0;if(this.ttl){if(!isPosInt(this.ttl)){throw new TypeError("ttl must be a positive integer if specified")}this.#q()}if(this.#m===0&&this.ttl===0&&this.#g===0){throw new TypeError("At least one of max, maxSize, or ttl is required")}if(!this.ttlAutopurge&&!this.#m&&!this.#g){const t="LRU_CACHE_UNBOUNDED";if(shouldWarn(t)){Ce.add(t);const i="TTL caching without ttlAutopurge, max, or maxSize can "+"result in unbounded memory consumption.";emitWarning(i,"UnboundedCacheWarning",t,LRUCache)}}}getRemainingTTL(t){return this.#E.has(t)?Infinity:0}#q(){const t=new ZeroArray(this.#m);const i=new ZeroArray(this.#m);this.#L=t;this.#I=i;this.#G=(r,o,a=Ae.now())=>{i[r]=o!==0?a:0;t[r]=o;if(o!==0&&this.ttlAutopurge){const t=setTimeout((()=>{if(this.#z(r)){this.delete(this.#S[r])}}),o+1);if(t.unref){t.unref()}}};this.#W=r=>{i[r]=t[r]!==0?Ae.now():0};this.#V=(o,a)=>{if(t[a]){const h=t[a];const l=i[a];o.ttl=h;o.start=l;o.now=r||getNow();const c=o.now-l;o.remainingTTL=h-c}};let r=0;const getNow=()=>{const t=Ae.now();if(this.ttlResolution>0){r=t;const i=setTimeout((()=>r=0),this.ttlResolution);if(i.unref){i.unref()}}return t};this.getRemainingTTL=o=>{const a=this.#E.get(o);if(a===undefined){return 0}const h=t[a];const l=i[a];if(h===0||l===0){return Infinity}const c=(r||getNow())-l;return h-c};this.#z=o=>t[o]!==0&&i[o]!==0&&(r||getNow())-i[o]>t[o]}#W=()=>{};#V=()=>{};#G=()=>{};#z=()=>false;#U(){const t=new ZeroArray(this.#m);this.#v=0;this.#P=t;this.#Y=i=>{this.#v-=t[i];t[i]=0};this.#Z=(t,i,r,o)=>{if(this.#$(i)){return 0}if(!isPosInt(r)){if(o){if(typeof o!=="function"){throw new TypeError("sizeCalculation must be a function")}r=o(i,t);if(!isPosInt(r)){throw new TypeError("sizeCalculation return invalid (expect positive integer)")}}else{throw new TypeError("invalid size value (must be positive integer). "+"When maxSize or maxEntrySize is used, sizeCalculation "+"or size must be set.")}}return r};this.#X=(i,r,o)=>{t[i]=r;if(this.#g){const r=this.#g-t[i];while(this.#v>r){this.#J(true)}}this.#v+=t[i];if(o){o.entrySize=r;o.totalCalculatedSize=this.#v}}}#Y=t=>{};#X=(t,i,r)=>{};#Z=(t,i,r,o)=>{if(r||o){throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}return 0};*#B({allowStale:t=this.allowStale}={}){if(this.#_){for(let i=this.#k;true;){if(!this.#K(i)){break}if(t||!this.#z(i)){yield i}if(i===this.#R){break}else{i=this.#T[i]}}}}*#H({allowStale:t=this.allowStale}={}){if(this.#_){for(let i=this.#R;true;){if(!this.#K(i)){break}if(t||!this.#z(i)){yield i}if(i===this.#k){break}else{i=this.#O[i]}}}}#K(t){return t!==undefined&&this.#E.get(this.#S[t])===t}*entries(){for(const t of this.#B()){if(this.#x[t]!==undefined&&this.#S[t]!==undefined&&!this.#$(this.#x[t])){yield[this.#S[t],this.#x[t]]}}}*rentries(){for(const t of this.#H()){if(this.#x[t]!==undefined&&this.#S[t]!==undefined&&!this.#$(this.#x[t])){yield[this.#S[t],this.#x[t]]}}}*keys(){for(const t of this.#B()){const i=this.#S[t];if(i!==undefined&&!this.#$(this.#x[t])){yield i}}}*rkeys(){for(const t of this.#H()){const i=this.#S[t];if(i!==undefined&&!this.#$(this.#x[t])){yield i}}}*values(){for(const t of this.#B()){const i=this.#x[t];if(i!==undefined&&!this.#$(this.#x[t])){yield this.#x[t]}}}*rvalues(){for(const t of this.#H()){const i=this.#x[t];if(i!==undefined&&!this.#$(this.#x[t])){yield this.#x[t]}}}[Symbol.iterator](){return this.entries()}find(t,i={}){for(const r of this.#B()){const o=this.#x[r];const a=this.#$(o)?o.__staleWhileFetching:o;if(a===undefined)continue;if(t(a,this.#S[r],this)){return this.get(this.#S[r],i)}}}forEach(t,i=this){for(const r of this.#B()){const o=this.#x[r];const a=this.#$(o)?o.__staleWhileFetching:o;if(a===undefined)continue;t.call(i,a,this.#S[r],this)}}rforEach(t,i=this){for(const r of this.#H()){const o=this.#x[r];const a=this.#$(o)?o.__staleWhileFetching:o;if(a===undefined)continue;t.call(i,a,this.#S[r],this)}}purgeStale(){let t=false;for(const i of this.#H({allowStale:true})){if(this.#z(i)){this.delete(this.#S[i]);t=true}}return t}dump(){const t=[];for(const i of this.#B({allowStale:true})){const r=this.#S[i];const o=this.#x[i];const a=this.#$(o)?o.__staleWhileFetching:o;if(a===undefined||r===undefined)continue;const h={value:a};if(this.#L&&this.#I){h.ttl=this.#L[i];const t=Ae.now()-this.#I[i];h.start=Math.floor(Date.now()-t)}if(this.#P){h.size=this.#P[i]}t.unshift([r,h])}return t}load(t){this.clear();for(const[i,r]of t){if(r.start){const t=Date.now()-r.start;r.start=Ae.now()-t}this.set(i,r.value,r)}}set(t,i,r={}){if(i===undefined){this.delete(t);return this}const{ttl:o=this.ttl,start:a,noDisposeOnSet:h=this.noDisposeOnSet,sizeCalculation:l=this.sizeCalculation,status:c}=r;let{noUpdateTTL:u=this.noUpdateTTL}=r;const d=this.#Z(t,i,r.size||0,l);if(this.maxEntrySize&&d>this.maxEntrySize){if(c){c.set="miss";c.maxEntrySizeExceeded=true}this.delete(t);return this}let p=this.#_===0?undefined:this.#E.get(t);if(p===undefined){p=this.#_===0?this.#k:this.#A.length!==0?this.#A.pop():this.#_===this.#m?this.#J(false):this.#_;this.#S[p]=t;this.#x[p]=i;this.#E.set(t,p);this.#O[this.#k]=p;this.#T[p]=this.#k;this.#k=p;this.#_++;this.#X(p,d,c);if(c)c.set="add";u=false}else{this.#F(p);const r=this.#x[p];if(i!==r){if(this.#M&&this.#$(r)){r.__abortController.abort(new Error("replaced"))}else if(!h){if(this.#N){this.#y?.(r,t,"set")}if(this.#D){this.#C?.push([r,t,"set"])}}this.#Y(p);this.#X(p,d,c);this.#x[p]=i;if(c){c.set="replace";const t=r&&this.#$(r)?r.__staleWhileFetching:r;if(t!==undefined)c.oldValue=t}}else if(c){c.set="update"}}if(o!==0&&!this.#L){this.#q()}if(this.#L){if(!u){this.#G(p,o,a)}if(c)this.#V(c,p)}if(!h&&this.#D&&this.#C){const t=this.#C;let i;while(i=t?.shift()){this.#b?.(...i)}}return this}pop(){try{while(this.#_){const t=this.#x[this.#R];this.#J(true);if(this.#$(t)){if(t.__staleWhileFetching){return t.__staleWhileFetching}}else if(t!==undefined){return t}}}finally{if(this.#D&&this.#C){const t=this.#C;let i;while(i=t?.shift()){this.#b?.(...i)}}}}#J(t){const i=this.#R;const r=this.#S[i];const o=this.#x[i];if(this.#M&&this.#$(o)){o.__abortController.abort(new Error("evicted"))}else if(this.#N||this.#D){if(this.#N){this.#y?.(o,r,"evict")}if(this.#D){this.#C?.push([o,r,"evict"])}}this.#Y(i);if(t){this.#S[i]=undefined;this.#x[i]=undefined;this.#A.push(i)}if(this.#_===1){this.#R=this.#k=0;this.#A.length=0}else{this.#R=this.#O[i]}this.#E.delete(r);this.#_--;return i}has(t,i={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:o}=i;const a=this.#E.get(t);if(a!==undefined){const t=this.#x[a];if(this.#$(t)&&t.__staleWhileFetching===undefined){return false}if(!this.#z(a)){if(r){this.#W(a)}if(o){o.has="hit";this.#V(o,a)}return true}else if(o){o.has="stale";this.#V(o,a)}}else if(o){o.has="miss"}return false}peek(t,i={}){const{allowStale:r=this.allowStale}=i;const o=this.#E.get(t);if(o!==undefined&&(r||!this.#z(o))){const t=this.#x[o];return this.#$(t)?t.__staleWhileFetching:t}}#j(t,i,r,o){const a=i===undefined?undefined:this.#x[i];if(this.#$(a)){return a}const h=new Ie;const{signal:l}=r;l?.addEventListener("abort",(()=>h.abort(l.reason)),{signal:h.signal});const c={signal:h.signal,options:r,context:o};const cb=(o,a=false)=>{const{aborted:l}=h.signal;const d=r.ignoreFetchAbort&&o!==undefined;if(r.status){if(l&&!a){r.status.fetchAborted=true;r.status.fetchError=h.signal.reason;if(d)r.status.fetchAbortIgnored=true}else{r.status.fetchResolved=true}}if(l&&!d&&!a){return fetchFail(h.signal.reason)}const p=u;if(this.#x[i]===u){if(o===undefined){if(p.__staleWhileFetching){this.#x[i]=p.__staleWhileFetching}else{this.delete(t)}}else{if(r.status)r.status.fetchUpdated=true;this.set(t,o,c.options)}}return o};const eb=t=>{if(r.status){r.status.fetchRejected=true;r.status.fetchError=t}return fetchFail(t)};const fetchFail=o=>{const{aborted:a}=h.signal;const l=a&&r.allowStaleOnFetchAbort;const c=l||r.allowStaleOnFetchRejection;const d=c||r.noDeleteOnFetchRejection;const p=u;if(this.#x[i]===u){const r=!d||p.__staleWhileFetching===undefined;if(r){this.delete(t)}else if(!l){this.#x[i]=p.__staleWhileFetching}}if(c){if(r.status&&p.__staleWhileFetching!==undefined){r.status.returnedStale=true}return p.__staleWhileFetching}else if(p.__returned===p){throw o}};const pcall=(i,o)=>{const l=this.#w?.(t,a,c);if(l&&l instanceof Promise){l.then((t=>i(t)),o)}h.signal.addEventListener("abort",(()=>{if(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort){i();if(r.allowStaleOnFetchAbort){i=t=>cb(t,true)}}}))};if(r.status)r.status.fetchDispatched=true;const u=new Promise(pcall).then(cb,eb);const d=Object.assign(u,{__abortController:h,__staleWhileFetching:a,__returned:undefined});if(i===undefined){this.set(t,d,{...c.options,status:undefined});i=this.#E.get(t)}else{this.#x[i]=d}return d}#$(t){if(!this.#M)return false;const i=t;return!!i&&i instanceof Promise&&i.hasOwnProperty("__staleWhileFetching")&&i.__abortController instanceof Ie}async fetch(t,i={}){const{allowStale:r=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,ttl:h=this.ttl,noDisposeOnSet:l=this.noDisposeOnSet,size:c=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:p=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:g=this.allowStaleOnFetchRejection,ignoreFetchAbort:y=this.ignoreFetchAbort,allowStaleOnFetchAbort:b=this.allowStaleOnFetchAbort,context:w,forceRefresh:_=false,status:v,signal:E}=i;if(!this.#M){if(v)v.fetch="get";return this.get(t,{allowStale:r,updateAgeOnGet:o,noDeleteOnStaleGet:a,status:v})}const S={allowStale:r,updateAgeOnGet:o,noDeleteOnStaleGet:a,ttl:h,noDisposeOnSet:l,size:c,sizeCalculation:u,noUpdateTTL:d,noDeleteOnFetchRejection:p,allowStaleOnFetchRejection:g,allowStaleOnFetchAbort:b,ignoreFetchAbort:y,status:v,signal:E};let x=this.#E.get(t);if(x===undefined){if(v)v.fetch="miss";const i=this.#j(t,x,S,w);return i.__returned=i}else{const i=this.#x[x];if(this.#$(i)){const t=r&&i.__staleWhileFetching!==undefined;if(v){v.fetch="inflight";if(t)v.returnedStale=true}return t?i.__staleWhileFetching:i.__returned=i}const a=this.#z(x);if(!_&&!a){if(v)v.fetch="hit";this.#F(x);if(o){this.#W(x)}if(v)this.#V(v,x);return i}const h=this.#j(t,x,S,w);const l=h.__staleWhileFetching!==undefined;const c=l&&r;if(v){v.fetch=a?"stale":"refresh";if(c&&a)v.returnedStale=true}return c?h.__staleWhileFetching:h.__returned=h}}get(t,i={}){const{allowStale:r=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,status:h}=i;const l=this.#E.get(t);if(l!==undefined){const i=this.#x[l];const c=this.#$(i);if(h)this.#V(h,l);if(this.#z(l)){if(h)h.get="stale";if(!c){if(!a){this.delete(t)}if(h&&r)h.returnedStale=true;return r?i:undefined}else{if(h&&r&&i.__staleWhileFetching!==undefined){h.returnedStale=true}return r?i.__staleWhileFetching:undefined}}else{if(h)h.get="hit";if(c){return i.__staleWhileFetching}this.#F(l);if(o){this.#W(l)}return i}}else if(h){h.get="miss"}}#Q(t,i){this.#T[i]=t;this.#O[t]=i}#F(t){if(t!==this.#k){if(t===this.#R){this.#R=this.#O[t]}else{this.#Q(this.#T[t],this.#O[t])}this.#Q(this.#k,t);this.#k=t}}delete(t){let i=false;if(this.#_!==0){const r=this.#E.get(t);if(r!==undefined){i=true;if(this.#_===1){this.clear()}else{this.#Y(r);const i=this.#x[r];if(this.#$(i)){i.__abortController.abort(new Error("deleted"))}else if(this.#N||this.#D){if(this.#N){this.#y?.(i,t,"delete")}if(this.#D){this.#C?.push([i,t,"delete"])}}this.#E.delete(t);this.#S[r]=undefined;this.#x[r]=undefined;if(r===this.#k){this.#k=this.#T[r]}else if(r===this.#R){this.#R=this.#O[r]}else{this.#O[this.#T[r]]=this.#O[r];this.#T[this.#O[r]]=this.#T[r]}this.#_--;this.#A.push(r)}}}if(this.#D&&this.#C?.length){const t=this.#C;let i;while(i=t?.shift()){this.#b?.(...i)}}return i}clear(){for(const t of this.#H({allowStale:true})){const i=this.#x[t];if(this.#$(i)){i.__abortController.abort(new Error("deleted"))}else{const r=this.#S[t];if(this.#N){this.#y?.(i,r,"delete")}if(this.#D){this.#C?.push([i,r,"delete"])}}}this.#E.clear();this.#x.fill(undefined);this.#S.fill(undefined);if(this.#L&&this.#I){this.#L.fill(0);this.#I.fill(0)}if(this.#P){this.#P.fill(0)}this.#R=0;this.#k=0;this.#A.length=0;this.#v=0;this.#_=0;if(this.#D&&this.#C){const t=this.#C;let i;while(i=t?.shift()){this.#b?.(...i)}}}}var Me=__nccwpck_require__(7310);var De=__nccwpck_require__(7147);var $e=__nccwpck_require__.t(De,2);const je=require("fs/promises");var Fe=__nccwpck_require__(2361);var Be=__nccwpck_require__(2781);var He=__nccwpck_require__(1576);const ze=typeof process==="object"&&process?process:{stdout:null,stderr:null};const Ue=He.StringDecoder;const qe=Symbol("EOF");const Ge=Symbol("maybeEmitEnd");const We=Symbol("emittedEnd");const Ve=Symbol("emittingEnd");const Ye=Symbol("emittedError");const Ze=Symbol("closed");const Xe=Symbol("read");const Je=Symbol("flush");const Ke=Symbol("flushChunk");const Qe=Symbol("encoding");const et=Symbol("decoder");const tt=Symbol("flowing");const st=Symbol("paused");const it=Symbol("resume");const rt=Symbol("buffer");const nt=Symbol("pipes");const ot=Symbol("bufferLength");const at=Symbol("bufferPush");const ht=Symbol("bufferShift");const ct=Symbol("objectMode");const ut=Symbol("destroyed");const ft=Symbol("error");const dt=Symbol("emitData");const pt=Symbol("emitEnd");const mt=Symbol("emitEnd2");const yt=Symbol("async");const bt=Symbol("abort");const wt=Symbol("aborted");const _t=Symbol("signal");const defer=t=>Promise.resolve().then(t);const vt=global._MP_NO_ITERATOR_SYMBOLS_!=="1";const Et=vt&&Symbol.asyncIterator||Symbol("asyncIterator not implemented");const St=vt&&Symbol.iterator||Symbol("iterator not implemented");const isEndish=t=>t==="end"||t==="finish"||t==="prefinish";const isArrayBuffer=t=>t instanceof ArrayBuffer||typeof t==="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0;const isArrayBufferView=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t);class Pipe{constructor(t,i,r){this.src=t;this.dest=i;this.opts=r;this.ondrain=()=>t[it]();i.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe();if(this.opts.end)this.dest.end()}}class PipeProxyErrors extends Pipe{unpipe(){this.src.removeListener("error",this.proxyErrors);super.unpipe()}constructor(t,i,r){super(t,i,r);this.proxyErrors=t=>i.emit("error",t);t.on("error",this.proxyErrors)}}class Minipass extends Be{constructor(t){super();this[tt]=false;this[st]=false;this[nt]=[];this[rt]=[];this[ct]=t&&t.objectMode||false;if(this[ct])this[Qe]=null;else this[Qe]=t&&t.encoding||null;if(this[Qe]==="buffer")this[Qe]=null;this[yt]=t&&!!t.async||false;this[et]=this[Qe]?new Ue(this[Qe]):null;this[qe]=false;this[We]=false;this[Ve]=false;this[Ze]=false;this[Ye]=null;this.writable=true;this.readable=true;this[ot]=0;this[ut]=false;if(t&&t.debugExposeBuffer===true){Object.defineProperty(this,"buffer",{get:()=>this[rt]})}if(t&&t.debugExposePipes===true){Object.defineProperty(this,"pipes",{get:()=>this[nt]})}this[_t]=t&&t.signal;this[wt]=false;if(this[_t]){this[_t].addEventListener("abort",(()=>this[bt]()));if(this[_t].aborted){this[bt]()}}}get bufferLength(){return this[ot]}get encoding(){return this[Qe]}set encoding(t){if(this[ct])throw new Error("cannot set encoding in objectMode");if(this[Qe]&&t!==this[Qe]&&(this[et]&&this[et].lastNeed||this[ot]))throw new Error("cannot change encoding");if(this[Qe]!==t){this[et]=t?new Ue(t):null;if(this[rt].length)this[rt]=this[rt].map((t=>this[et].write(t)))}this[Qe]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[ct]}set objectMode(t){this[ct]=this[ct]||!!t}get["async"](){return this[yt]}set["async"](t){this[yt]=this[yt]||!!t}[bt](){this[wt]=true;this.emit("abort",this[_t].reason);this.destroy(this[_t].reason)}get aborted(){return this[wt]}set aborted(t){}write(t,i,r){if(this[wt])return false;if(this[qe])throw new Error("write after end");if(this[ut]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof i==="function")r=i,i="utf8";if(!i)i="utf8";const o=this[yt]?defer:t=>t();if(!this[ct]&&!Buffer.isBuffer(t)){if(isArrayBufferView(t))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if(isArrayBuffer(t))t=Buffer.from(t);else if(typeof t!=="string")this.objectMode=true}if(this[ct]){if(this.flowing&&this[ot]!==0)this[Je](true);if(this.flowing)this.emit("data",t);else this[at](t);if(this[ot]!==0)this.emit("readable");if(r)o(r);return this.flowing}if(!t.length){if(this[ot]!==0)this.emit("readable");if(r)o(r);return this.flowing}if(typeof t==="string"&&!(i===this[Qe]&&!this[et].lastNeed)){t=Buffer.from(t,i)}if(Buffer.isBuffer(t)&&this[Qe])t=this[et].write(t);if(this.flowing&&this[ot]!==0)this[Je](true);if(this.flowing)this.emit("data",t);else this[at](t);if(this[ot]!==0)this.emit("readable");if(r)o(r);return this.flowing}read(t){if(this[ut])return null;if(this[ot]===0||t===0||t>this[ot]){this[Ge]();return null}if(this[ct])t=null;if(this[rt].length>1&&!this[ct]){if(this.encoding)this[rt]=[this[rt].join("")];else this[rt]=[Buffer.concat(this[rt],this[ot])]}const i=this[Xe](t||null,this[rt][0]);this[Ge]();return i}[Xe](t,i){if(t===i.length||t===null)this[ht]();else{this[rt][0]=i.slice(t);i=i.slice(0,t);this[ot]-=t}this.emit("data",i);if(!this[rt].length&&!this[qe])this.emit("drain");return i}end(t,i,r){if(typeof t==="function")r=t,t=null;if(typeof i==="function")r=i,i="utf8";if(t)this.write(t,i);if(r)this.once("end",r);this[qe]=true;this.writable=false;if(this.flowing||!this[st])this[Ge]();return this}[it](){if(this[ut])return;this[st]=false;this[tt]=true;this.emit("resume");if(this[rt].length)this[Je]();else if(this[qe])this[Ge]();else this.emit("drain")}resume(){return this[it]()}pause(){this[tt]=false;this[st]=true}get destroyed(){return this[ut]}get flowing(){return this[tt]}get paused(){return this[st]}[at](t){if(this[ct])this[ot]+=1;else this[ot]+=t.length;this[rt].push(t)}[ht](){if(this[ct])this[ot]-=1;else this[ot]-=this[rt][0].length;return this[rt].shift()}[Je](t){do{}while(this[Ke](this[ht]())&&this[rt].length);if(!t&&!this[rt].length&&!this[qe])this.emit("drain")}[Ke](t){this.emit("data",t);return this.flowing}pipe(t,i){if(this[ut])return;const r=this[We];i=i||{};if(t===ze.stdout||t===ze.stderr)i.end=false;else i.end=i.end!==false;i.proxyErrors=!!i.proxyErrors;if(r){if(i.end)t.end()}else{this[nt].push(!i.proxyErrors?new Pipe(this,t,i):new PipeProxyErrors(this,t,i));if(this[yt])defer((()=>this[it]()));else this[it]()}return t}unpipe(t){const i=this[nt].find((i=>i.dest===t));if(i){this[nt].splice(this[nt].indexOf(i),1);i.unpipe()}}addListener(t,i){return this.on(t,i)}on(t,i){const r=super.on(t,i);if(t==="data"&&!this[nt].length&&!this.flowing)this[it]();else if(t==="readable"&&this[ot]!==0)super.emit("readable");else if(isEndish(t)&&this[We]){super.emit(t);this.removeAllListeners(t)}else if(t==="error"&&this[Ye]){if(this[yt])defer((()=>i.call(this,this[Ye])));else i.call(this,this[Ye])}return r}get emittedEnd(){return this[We]}[Ge](){if(!this[Ve]&&!this[We]&&!this[ut]&&this[rt].length===0&&this[qe]){this[Ve]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[Ze])this.emit("close");this[Ve]=false}}emit(t,i,...r){if(t!=="error"&&t!=="close"&&t!==ut&&this[ut])return;else if(t==="data"){return!this[ct]&&!i?false:this[yt]?defer((()=>this[dt](i))):this[dt](i)}else if(t==="end"){return this[pt]()}else if(t==="close"){this[Ze]=true;if(!this[We]&&!this[ut])return;const t=super.emit("close");this.removeAllListeners("close");return t}else if(t==="error"){this[Ye]=i;super.emit(ft,i);const t=!this[_t]||this.listeners("error").length?super.emit("error",i):false;this[Ge]();return t}else if(t==="resume"){const t=super.emit("resume");this[Ge]();return t}else if(t==="finish"||t==="prefinish"){const i=super.emit(t);this.removeAllListeners(t);return i}const o=super.emit(t,i,...r);this[Ge]();return o}[dt](t){for(const i of this[nt]){if(i.dest.write(t)===false)this.pause()}const i=super.emit("data",t);this[Ge]();return i}[pt](){if(this[We])return;this[We]=true;this.readable=false;if(this[yt])defer((()=>this[mt]()));else this[mt]()}[mt](){if(this[et]){const t=this[et].end();if(t){for(const i of this[nt]){i.dest.write(t)}super.emit("data",t)}}for(const t of this[nt]){t.end()}const t=super.emit("end");this.removeAllListeners("end");return t}collect(){const t=[];if(!this[ct])t.dataLength=0;const i=this.promise();this.on("data",(i=>{t.push(i);if(!this[ct])t.dataLength+=i.length}));return i.then((()=>t))}concat(){return this[ct]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((t=>this[ct]?Promise.reject(new Error("cannot concat in objectMode")):this[Qe]?t.join(""):Buffer.concat(t,t.dataLength)))}promise(){return new Promise(((t,i)=>{this.on(ut,(()=>i(new Error("stream destroyed"))));this.on("error",(t=>i(t)));this.on("end",(()=>t()))}))}[Et](){let t=false;const stop=()=>{this.pause();t=true;return Promise.resolve({done:true})};const next=()=>{if(t)return stop();const i=this.read();if(i!==null)return Promise.resolve({done:false,value:i});if(this[qe])return stop();let r=null;let o=null;const onerr=t=>{this.removeListener("data",ondata);this.removeListener("end",onend);this.removeListener(ut,ondestroy);stop();o(t)};const ondata=t=>{this.removeListener("error",onerr);this.removeListener("end",onend);this.removeListener(ut,ondestroy);this.pause();r({value:t,done:!!this[qe]})};const onend=()=>{this.removeListener("error",onerr);this.removeListener("data",ondata);this.removeListener(ut,ondestroy);stop();r({done:true})};const ondestroy=()=>onerr(new Error("stream destroyed"));return new Promise(((t,i)=>{o=i;r=t;this.once(ut,ondestroy);this.once("error",onerr);this.once("end",onend);this.once("data",ondata)}))};return{next:next,throw:stop,return:stop,[Et](){return this}}}[St](){let t=false;const stop=()=>{this.pause();this.removeListener(ft,stop);this.removeListener(ut,stop);this.removeListener("end",stop);t=true;return{done:true}};const next=()=>{if(t)return stop();const i=this.read();return i===null?stop():{value:i}};this.once("end",stop);this.once(ft,stop);this.once(ut,stop);return{next:next,throw:stop,return:stop,[St](){return this}}}destroy(t){if(this[ut]){if(t)this.emit("error",t);else this.emit(ut);return this}this[ut]=true;this[rt].length=0;this[ot]=0;if(typeof this.close==="function"&&!this[Ze])this.close();if(t)this.emit("error",t);else this.emit(ut);return this}static isStream(t){return!!t&&(t instanceof Minipass||t instanceof Be||t instanceof Fe&&(typeof t.pipe==="function"||typeof t.write==="function"&&typeof t.end==="function"))}}const xt=De.realpathSync.native;const Ot={lstatSync:De.lstatSync,readdir:De.readdir,readdirSync:De.readdirSync,readlinkSync:De.readlinkSync,realpathSync:xt,promises:{lstat:je.lstat,readdir:je.readdir,readlink:je.readlink,realpath:je.realpath}};const fsFromOption=t=>!t||t===Ot||t===$e?Ot:{...Ot,...t,promises:{...Ot.promises,...t.promises||{}}};const Tt=/^\\\\\?\\([a-z]:)\\?$/i;const uncToDrive=t=>t.replace(/\//g,"\\").replace(Tt,"$1\\");const Rt=/[\\\/]/;const kt=0;const At=1;const Ct=2;const Pt=4;const It=6;const Lt=8;const Nt=10;const Mt=12;const Dt=15;const $t=~Dt;const jt=16;const Ft=32;const Bt=64;const Ht=128;const zt=256;const Ut=512;const qt=Bt|Ht|Ut;const Gt=1023;const entToType=t=>t.isFile()?Lt:t.isDirectory()?Pt:t.isSymbolicLink()?Nt:t.isCharacterDevice()?Ct:t.isBlockDevice()?It:t.isSocket()?Mt:t.isFIFO()?At:kt;const Wt=new Map;const normalize=t=>{const i=Wt.get(t);if(i)return i;const r=t.normalize("NFKD");Wt.set(t,r);return r};const Vt=new Map;const normalizeNocase=t=>{const i=Vt.get(t);if(i)return i;const r=normalize(t.toLowerCase());Vt.set(t,r);return r};class ResolveCache extends LRUCache{constructor(){super({max:256})}}class ChildrenCache extends LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:t=>t.length+1})}}const Yt=Symbol("PathScurry setAsCwd");class PathBase{name;root;roots;parent;nocase;#ee;#te;get dev(){return this.#te}#se;get mode(){return this.#se}#ie;get nlink(){return this.#ie}#re;get uid(){return this.#re}#ne;get gid(){return this.#ne}#oe;get rdev(){return this.#oe}#ae;get blksize(){return this.#ae}#he;get ino(){return this.#he}#_;get size(){return this.#_}#le;get blocks(){return this.#le}#ce;get atimeMs(){return this.#ce}#ue;get mtimeMs(){return this.#ue}#fe;get ctimeMs(){return this.#fe}#de;get birthtimeMs(){return this.#de}#pe;get atime(){return this.#pe}#me;get mtime(){return this.#me}#ge;get ctime(){return this.#ge}#ye;get birthtime(){return this.#ye}#be;#we;#_e;#ve;#Ee;#Se;#xe;#Oe;#Te;#Re;get path(){return(this.parent||this).fullpath()}constructor(t,i=kt,r,o,a,h,l){this.name=t;this.#be=a?normalizeNocase(t):normalize(t);this.#xe=i&Gt;this.nocase=a;this.roots=o;this.root=r||this;this.#Oe=h;this.#_e=l.fullpath;this.#Ee=l.relative;this.#Se=l.relativePosix;this.parent=l.parent;if(this.parent){this.#ee=this.parent.#ee}else{this.#ee=fsFromOption(l.fs)}}depth(){if(this.#we!==undefined)return this.#we;if(!this.parent)return this.#we=0;return this.#we=this.parent.depth()+1}childrenCache(){return this.#Oe}resolve(t){if(!t){return this}const i=this.getRootString(t);const r=t.substring(i.length);const o=r.split(this.splitSep);const a=i?this.getRoot(i).#ke(o):this.#ke(o);return a}#ke(t){let i=this;for(const r of t){i=i.child(r)}return i}children(){const t=this.#Oe.get(this);if(t){return t}const i=Object.assign([],{provisional:0});this.#Oe.set(this,i);this.#xe&=~jt;return i}child(t,i){if(t===""||t==="."){return this}if(t===".."){return this.parent||this}const r=this.children();const o=this.nocase?normalizeNocase(t):normalize(t);for(const t of r){if(t.#be===o){return t}}const a=this.parent?this.sep:"";const h=this.#_e?this.#_e+a+t:undefined;const l=this.newChild(t,kt,{...i,parent:this,fullpath:h});if(!this.canReaddir()){l.#xe|=Ht}r.push(l);return l}relative(){if(this.#Ee!==undefined){return this.#Ee}const t=this.name;const i=this.parent;if(!i){return this.#Ee=this.name}const r=i.relative();return r+(!r||!i.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#Se!==undefined)return this.#Se;const t=this.name;const i=this.parent;if(!i){return this.#Se=this.fullpathPosix()}const r=i.relativePosix();return r+(!r||!i.parent?"":"/")+t}fullpath(){if(this.#_e!==undefined){return this.#_e}const t=this.name;const i=this.parent;if(!i){return this.#_e=this.name}const r=i.fullpath();const o=r+(!i.parent?"":this.sep)+t;return this.#_e=o}fullpathPosix(){if(this.#ve!==undefined)return this.#ve;if(this.sep==="/")return this.#ve=this.fullpath();if(!this.parent){const t=this.fullpath().replace(/\\/g,"/");if(/^[a-z]:\//i.test(t)){return this.#ve=`//?/${t}`}else{return this.#ve=t}}const t=this.parent;const i=t.fullpathPosix();const r=i+(!i||!t.parent?"":"/")+this.name;return this.#ve=r}isUnknown(){return(this.#xe&Dt)===kt}isFile(){return(this.#xe&Dt)===Lt}isDirectory(){return(this.#xe&Dt)===Pt}isCharacterDevice(){return(this.#xe&Dt)===Ct}isBlockDevice(){return(this.#xe&Dt)===It}isFIFO(){return(this.#xe&Dt)===At}isSocket(){return(this.#xe&Dt)===Mt}isSymbolicLink(){return(this.#xe&Nt)===Nt}lstatCached(){return this.#xe&Ft?this:undefined}readlinkCached(){return this.#Te}realpathCached(){return this.#Re}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#Te)return true;if(!this.parent)return false;const t=this.#xe&Dt;return!(t!==kt&&t!==Nt||this.#xe&zt||this.#xe&Ht)}calledReaddir(){return!!(this.#xe&jt)}isENOENT(){return!!(this.#xe&Ht)}isNamed(t){return!this.nocase?this.#be===normalize(t):this.#be===normalizeNocase(t)}async readlink(){const t=this.#Te;if(t){return t}if(!this.canReadlink()){return undefined}if(!this.parent){return undefined}try{const t=await this.#ee.promises.readlink(this.fullpath());const i=this.parent.resolve(t);if(i){return this.#Te=i}}catch(t){this.#Ae(t.code);return undefined}}readlinkSync(){const t=this.#Te;if(t){return t}if(!this.canReadlink()){return undefined}if(!this.parent){return undefined}try{const t=this.#ee.readlinkSync(this.fullpath());const i=this.parent.resolve(t);if(i){return this.#Te=i}}catch(t){this.#Ae(t.code);return undefined}}#Ce(t){this.#xe|=jt;for(let i=t.provisional;i<t.length;i++){t[i].#Pe()}}#Pe(){if(this.#xe&Ht)return;this.#xe=(this.#xe|Ht)&$t;this.#Ie()}#Ie(){const t=this.children();t.provisional=0;for(const i of t){i.#Pe()}}#Le(){this.#xe|=Ut;this.#Ne()}#Ne(){if(this.#xe&Bt)return;let t=this.#xe;if((t&Dt)===Pt)t&=$t;this.#xe=t|Bt;this.#Ie()}#Me(t=""){if(t==="ENOTDIR"||t==="EPERM"){this.#Ne()}else if(t==="ENOENT"){this.#Pe()}else{this.children().provisional=0}}#De(t=""){if(t==="ENOTDIR"){const t=this.parent;t.#Ne()}else if(t==="ENOENT"){this.#Pe()}}#Ae(t=""){let i=this.#xe;i|=zt;if(t==="ENOENT")i|=Ht;if(t==="EINVAL"||t==="UNKNOWN"){i&=$t}this.#xe=i;if(t==="ENOTDIR"&&this.parent){this.parent.#Ne()}}#$e(t,i){return this.#je(t,i)||this.#Fe(t,i)}#Fe(t,i){const r=entToType(t);const o=this.newChild(t.name,r,{parent:this});const a=o.#xe&Dt;if(a!==Pt&&a!==Nt&&a!==kt){o.#xe|=Bt}i.unshift(o);i.provisional++;return o}#je(t,i){for(let r=i.provisional;r<i.length;r++){const o=i[r];const a=this.nocase?normalizeNocase(t.name):normalize(t.name);if(a!==o.#be){continue}return this.#Be(t,o,r,i)}}#Be(t,i,r,o){const a=i.name;i.#xe=i.#xe&$t|entToType(t);if(a!==t.name)i.name=t.name;if(r!==o.provisional){if(r===o.length-1)o.pop();else o.splice(r,1);o.unshift(i)}o.provisional++;return i}async lstat(){if((this.#xe&Ht)===0){try{this.#He(await this.#ee.promises.lstat(this.fullpath()));return this}catch(t){this.#De(t.code)}}}lstatSync(){if((this.#xe&Ht)===0){try{this.#He(this.#ee.lstatSync(this.fullpath()));return this}catch(t){this.#De(t.code)}}}#He(t){const{atime:i,atimeMs:r,birthtime:o,birthtimeMs:a,blksize:h,blocks:l,ctime:c,ctimeMs:u,dev:d,gid:p,ino:g,mode:y,mtime:b,mtimeMs:w,nlink:_,rdev:v,size:E,uid:S}=t;this.#pe=i;this.#ce=r;this.#ye=o;this.#de=a;this.#ae=h;this.#le=l;this.#ge=c;this.#fe=u;this.#te=d;this.#ne=p;this.#he=g;this.#se=y;this.#me=b;this.#ue=w;this.#ie=_;this.#oe=v;this.#_=E;this.#re=S;const x=entToType(t);this.#xe=this.#xe&$t|x|Ft;if(x!==kt&&x!==Pt&&x!==Nt){this.#xe|=Bt}}#ze=[];#Ue=false;#qe(t){this.#Ue=false;const i=this.#ze.slice();this.#ze.length=0;i.forEach((i=>i(null,t)))}readdirCB(t,i=false){if(!this.canReaddir()){if(i)t(null,[]);else queueMicrotask((()=>t(null,[])));return}const r=this.children();if(this.calledReaddir()){const o=r.slice(0,r.provisional);if(i)t(null,o);else queueMicrotask((()=>t(null,o)));return}this.#ze.push(t);if(this.#Ue){return}this.#Ue=true;const o=this.fullpath();this.#ee.readdir(o,{withFileTypes:true},((t,i)=>{if(t){this.#Me(t.code);r.provisional=0}else{for(const t of i){this.#$e(t,r)}this.#Ce(r)}this.#qe(r.slice(0,r.provisional));return}))}#Ge;async readdir(){if(!this.canReaddir()){return[]}const t=this.children();if(this.calledReaddir()){return t.slice(0,t.provisional)}const i=this.fullpath();if(this.#Ge){await this.#Ge}else{let resolve=()=>{};this.#Ge=new Promise((t=>resolve=t));try{for(const r of await this.#ee.promises.readdir(i,{withFileTypes:true})){this.#$e(r,t)}this.#Ce(t)}catch(i){this.#Me(i.code);t.provisional=0}this.#Ge=undefined;resolve()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir()){return[]}const t=this.children();if(this.calledReaddir()){return t.slice(0,t.provisional)}const i=this.fullpath();try{for(const r of this.#ee.readdirSync(i,{withFileTypes:true})){this.#$e(r,t)}this.#Ce(t)}catch(i){this.#Me(i.code);t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#xe&qt)return false;const t=Dt&this.#xe;if(!(t===kt||t===Pt||t===Nt)){return false}return true}shouldWalk(t,i){return(this.#xe&Pt)===Pt&&!(this.#xe&qt)&&!t.has(this)&&(!i||i(this))}async realpath(){if(this.#Re)return this.#Re;if((Ut|zt|Ht)&this.#xe)return undefined;try{const t=await this.#ee.promises.realpath(this.fullpath());return this.#Re=this.resolve(t)}catch(t){this.#Le()}}realpathSync(){if(this.#Re)return this.#Re;if((Ut|zt|Ht)&this.#xe)return undefined;try{const t=this.#ee.realpathSync(this.fullpath());return this.#Re=this.resolve(t)}catch(t){this.#Le()}}[Yt](t){if(t===this)return;const i=new Set([]);let r=[];let o=this;while(o&&o.parent){i.add(o);o.#Ee=r.join(this.sep);o.#Se=r.join("/");o=o.parent;r.push("..")}o=t;while(o&&o.parent&&!i.has(o)){o.#Ee=undefined;o.#Se=undefined;o=o.parent}}}class PathWin32 extends PathBase{sep="\\";splitSep=Rt;constructor(t,i=kt,r,o,a,h,l){super(t,i,r,o,a,h,l)}newChild(t,i=kt,r={}){return new PathWin32(t,i,this.root,this.roots,this.nocase,this.childrenCache(),r)}getRootString(t){return Q.win32.parse(t).root}getRoot(t){t=uncToDrive(t.toUpperCase());if(t===this.root.name){return this.root}for(const[i,r]of Object.entries(this.roots)){if(this.sameRoot(t,i)){return this.roots[t]=r}}return this.roots[t]=new PathScurryWin32(t,this).root}sameRoot(t,i=this.root.name){t=t.toUpperCase().replace(/\//g,"\\").replace(Tt,"$1\\");return t===i}}class PathPosix extends PathBase{splitSep="/";sep="/";constructor(t,i=kt,r,o,a,h,l){super(t,i,r,o,a,h,l)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,i=kt,r={}){return new PathPosix(t,i,this.root,this.roots,this.nocase,this.childrenCache(),r)}}class PathScurryBase{root;rootPath;roots;cwd;#We;#Ve;#Oe;nocase;#ee;constructor(t=process.cwd(),i,r,{nocase:o,childrenCacheSize:a=16*1024,fs:h=Ot}={}){this.#ee=fsFromOption(h);if(t instanceof URL||t.startsWith("file://")){t=(0,Me.fileURLToPath)(t)}const l=i.resolve(t);this.roots=Object.create(null);this.rootPath=this.parseRootPath(l);this.#We=new ResolveCache;this.#Ve=new ResolveCache;this.#Oe=new ChildrenCache(a);const c=l.substring(this.rootPath.length).split(r);if(c.length===1&&!c[0]){c.pop()}if(o===undefined){throw new TypeError("must provide nocase setting to PathScurryBase ctor")}this.nocase=o;this.root=this.newRoot(this.#ee);this.roots[this.rootPath]=this.root;let u=this.root;let d=c.length-1;const p=i.sep;let g=this.rootPath;let y=false;for(const t of c){const i=d--;u=u.child(t,{relative:new Array(i).fill("..").join(p),relativePosix:new Array(i).fill("..").join("/"),fullpath:g+=(y?"":p)+t});y=true}this.cwd=u}depth(t=this.cwd){if(typeof t==="string"){t=this.cwd.resolve(t)}return t.depth()}childrenCache(){return this.#Oe}resolve(...t){let i="";for(let r=t.length-1;r>=0;r--){const o=t[r];if(!o||o===".")continue;i=i?`${o}/${i}`:o;if(this.isAbsolute(o)){break}}const r=this.#We.get(i);if(r!==undefined){return r}const o=this.cwd.resolve(i).fullpath();this.#We.set(i,o);return o}resolvePosix(...t){let i="";for(let r=t.length-1;r>=0;r--){const o=t[r];if(!o||o===".")continue;i=i?`${o}/${i}`:o;if(this.isAbsolute(o)){break}}const r=this.#Ve.get(i);if(r!==undefined){return r}const o=this.cwd.resolve(i).fullpathPosix();this.#Ve.set(i,o);return o}relative(t=this.cwd){if(typeof t==="string"){t=this.cwd.resolve(t)}return t.relative()}relativePosix(t=this.cwd){if(typeof t==="string"){t=this.cwd.resolve(t)}return t.relativePosix()}basename(t=this.cwd){if(typeof t==="string"){t=this.cwd.resolve(t)}return t.name}dirname(t=this.cwd){if(typeof t==="string"){t=this.cwd.resolve(t)}return(t.parent||t).fullpath()}async readdir(t=this.cwd,i={withFileTypes:true}){if(typeof t==="string"){t=this.cwd.resolve(t)}else if(!(t instanceof PathBase)){i=t;t=this.cwd}const{withFileTypes:r}=i;if(!t.canReaddir()){return[]}else{const i=await t.readdir();return r?i:i.map((t=>t.name))}}readdirSync(t=this.cwd,i={withFileTypes:true}){if(typeof t==="string"){t=this.cwd.resolve(t)}else if(!(t instanceof PathBase)){i=t;t=this.cwd}const{withFileTypes:r=true}=i;if(!t.canReaddir()){return[]}else if(r){return t.readdirSync()}else{return t.readdirSync().map((t=>t.name))}}async lstat(t=this.cwd){if(typeof t==="string"){t=this.cwd.resolve(t)}return t.lstat()}lstatSync(t=this.cwd){if(typeof t==="string"){t=this.cwd.resolve(t)}return t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:i}={withFileTypes:false}){if(typeof t==="string"){t=this.cwd.resolve(t)}else if(!(t instanceof PathBase)){i=t.withFileTypes;t=this.cwd}const r=await t.readlink();return i?r:r?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:i}={withFileTypes:false}){if(typeof t==="string"){t=this.cwd.resolve(t)}else if(!(t instanceof PathBase)){i=t.withFileTypes;t=this.cwd}const r=t.readlinkSync();return i?r:r?.fullpath()}async realpath(t=this.cwd,{withFileTypes:i}={withFileTypes:false}){if(typeof t==="string"){t=this.cwd.resolve(t)}else if(!(t instanceof PathBase)){i=t.withFileTypes;t=this.cwd}const r=await t.realpath();return i?r:r?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:i}={withFileTypes:false}){if(typeof t==="string"){t=this.cwd.resolve(t)}else if(!(t instanceof PathBase)){i=t.withFileTypes;t=this.cwd}const r=t.realpathSync();return i?r:r?.fullpath()}async walk(t=this.cwd,i={}){if(typeof t==="string"){t=this.cwd.resolve(t)}else if(!(t instanceof PathBase)){i=t;t=this.cwd}const{withFileTypes:r=true,follow:o=false,filter:a,walkFilter:h}=i;const l=[];if(!a||a(t)){l.push(r?t:t.fullpath())}const c=new Set;const walk=(t,i)=>{c.add(t);t.readdirCB(((t,u)=>{if(t){return i(t)}let d=u.length;if(!d)return i();const next=()=>{if(--d===0){i()}};for(const t of u){if(!a||a(t)){l.push(r?t:t.fullpath())}if(o&&t.isSymbolicLink()){t.realpath().then((t=>t?.isUnknown()?t.lstat():t)).then((t=>t?.shouldWalk(c,h)?walk(t,next):next()))}else{if(t.shouldWalk(c,h)){walk(t,next)}else{next()}}}}),true)};const u=t;return new Promise(((t,i)=>{walk(u,(r=>{if(r)return i(r);t(l)}))}))}walkSync(t=this.cwd,i={}){if(typeof t==="string"){t=this.cwd.resolve(t)}else if(!(t instanceof PathBase)){i=t;t=this.cwd}const{withFileTypes:r=true,follow:o=false,filter:a,walkFilter:h}=i;const l=[];if(!a||a(t)){l.push(r?t:t.fullpath())}const c=new Set([t]);for(const t of c){const i=t.readdirSync();for(const t of i){if(!a||a(t)){l.push(r?t:t.fullpath())}let i=t;if(t.isSymbolicLink()){if(!(o&&(i=t.realpathSync())))continue;if(i.isUnknown())i.lstatSync()}if(i.shouldWalk(c,h)){c.add(i)}}}return l}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,i={}){if(typeof t==="string"){t=this.cwd.resolve(t)}else if(!(t instanceof PathBase)){i=t;t=this.cwd}return this.stream(t,i)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,i={}){if(typeof t==="string"){t=this.cwd.resolve(t)}else if(!(t instanceof PathBase)){i=t;t=this.cwd}const{withFileTypes:r=true,follow:o=false,filter:a,walkFilter:h}=i;if(!a||a(t)){yield r?t:t.fullpath()}const l=new Set([t]);for(const t of l){const i=t.readdirSync();for(const t of i){if(!a||a(t)){yield r?t:t.fullpath()}let i=t;if(t.isSymbolicLink()){if(!(o&&(i=t.realpathSync())))continue;if(i.isUnknown())i.lstatSync()}if(i.shouldWalk(l,h)){l.add(i)}}}}stream(t=this.cwd,i={}){if(typeof t==="string"){t=this.cwd.resolve(t)}else if(!(t instanceof PathBase)){i=t;t=this.cwd}const{withFileTypes:r=true,follow:o=false,filter:a,walkFilter:h}=i;const l=new Minipass({objectMode:true});if(!a||a(t)){l.write(r?t:t.fullpath())}const c=new Set;const u=[t];let d=0;const process=()=>{let t=false;while(!t){const i=u.shift();if(!i){if(d===0)l.end();return}d++;c.add(i);const onReaddir=(i,g,y=false)=>{if(i)return l.emit("error",i);if(o&&!y){const t=[];for(const i of g){if(i.isSymbolicLink()){t.push(i.realpath().then((t=>t?.isUnknown()?t.lstat():t)))}}if(t.length){Promise.all(t).then((()=>onReaddir(null,g,true)));return}}for(const i of g){if(i&&(!a||a(i))){if(!l.write(r?i:i.fullpath())){t=true}}}d--;for(const t of g){const i=t.realpathCached()||t;if(i.shouldWalk(c,h)){u.push(i)}}if(t&&!l.flowing){l.once("drain",process)}else if(!p){process()}};let p=true;i.readdirCB(onReaddir,true);p=false}};process();return l}streamSync(t=this.cwd,i={}){if(typeof t==="string"){t=this.cwd.resolve(t)}else if(!(t instanceof PathBase)){i=t;t=this.cwd}const{withFileTypes:r=true,follow:o=false,filter:a,walkFilter:h}=i;const l=new Minipass({objectMode:true});const c=new Set;if(!a||a(t)){l.write(r?t:t.fullpath())}const u=[t];let d=0;const process=()=>{let t=false;while(!t){const i=u.shift();if(!i){if(d===0)l.end();return}d++;c.add(i);const p=i.readdirSync();for(const i of p){if(!a||a(i)){if(!l.write(r?i:i.fullpath())){t=true}}}d--;for(const t of p){let i=t;if(t.isSymbolicLink()){if(!(o&&(i=t.realpathSync())))continue;if(i.isUnknown())i.lstatSync()}if(i.shouldWalk(c,h)){u.push(i)}}}if(t&&!l.flowing)l.once("drain",process)};process();return l}chdir(t=this.cwd){const i=this.cwd;this.cwd=typeof t==="string"?this.cwd.resolve(t):t;this.cwd[Yt](i)}}class PathScurryWin32 extends PathScurryBase{sep="\\";constructor(t=process.cwd(),i={}){const{nocase:r=true}=i;super(t,Q.win32,"\\",{...i,nocase:r});this.nocase=r;for(let t=this.cwd;t;t=t.parent){t.nocase=this.nocase}}parseRootPath(t){return Q.win32.parse(t).root.toUpperCase()}newRoot(t){return new PathWin32(this.rootPath,Pt,undefined,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}class PathScurryPosix extends PathScurryBase{sep="/";constructor(t=process.cwd(),i={}){const{nocase:r=false}=i;super(t,Q.posix,"/",{...i,nocase:r});this.nocase=r}parseRootPath(t){return"/"}newRoot(t){return new PathPosix(this.rootPath,Pt,undefined,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}class PathScurryDarwin extends PathScurryPosix{constructor(t=process.cwd(),i={}){const{nocase:r=true}=i;super(t,{...i,nocase:r})}}const Zt=process.platform==="win32"?PathWin32:PathPosix;const Xt=process.platform==="win32"?PathScurryWin32:process.platform==="darwin"?PathScurryDarwin:PathScurryPosix;const isPatternList=t=>t.length>=1;const isGlobList=t=>t.length>=1;class Pattern{#Ye;#Ze;#Xe;length;#Je;#Ke;#Qe;#et;#tt;#st;#it=true;constructor(t,i,r,o){if(!isPatternList(t)){throw new TypeError("empty pattern list")}if(!isGlobList(i)){throw new TypeError("empty glob list")}if(i.length!==t.length){throw new TypeError("mismatched pattern list and glob list lengths")}this.length=t.length;if(r<0||r>=this.length){throw new TypeError("index out of range")}this.#Ye=t;this.#Ze=i;this.#Xe=r;this.#Je=o;if(this.#Xe===0){if(this.isUNC()){const[t,i,r,o,...a]=this.#Ye;const[h,l,c,u,...d]=this.#Ze;if(a[0]===""){a.shift();d.shift()}const p=[t,i,r,o,""].join("/");const g=[h,l,c,u,""].join("/");this.#Ye=[p,...a];this.#Ze=[g,...d];this.length=this.#Ye.length}else if(this.isDrive()||this.isAbsolute()){const[t,...i]=this.#Ye;const[r,...o]=this.#Ze;if(i[0]===""){i.shift();o.shift()}const a=t+"/";const h=r+"/";this.#Ye=[a,...i];this.#Ze=[h,...o];this.length=this.#Ye.length}}}pattern(){return this.#Ye[this.#Xe]}isString(){return typeof this.#Ye[this.#Xe]==="string"}isGlobstar(){return this.#Ye[this.#Xe]===Se}isRegExp(){return this.#Ye[this.#Xe]instanceof RegExp}globString(){return this.#Qe=this.#Qe||(this.#Xe===0?this.isAbsolute()?this.#Ze[0]+this.#Ze.slice(1).join("/"):this.#Ze.join("/"):this.#Ze.slice(this.#Xe).join("/"))}hasMore(){return this.length>this.#Xe+1}rest(){if(this.#Ke!==undefined)return this.#Ke;if(!this.hasMore())return this.#Ke=null;this.#Ke=new Pattern(this.#Ye,this.#Ze,this.#Xe+1,this.#Je);this.#Ke.#st=this.#st;this.#Ke.#tt=this.#tt;this.#Ke.#et=this.#et;return this.#Ke}isUNC(){const t=this.#Ye;return this.#tt!==undefined?this.#tt:this.#tt=this.#Je==="win32"&&this.#Xe===0&&t[0]===""&&t[1]===""&&typeof t[2]==="string"&&!!t[2]&&typeof t[3]==="string"&&!!t[3]}isDrive(){const t=this.#Ye;return this.#et!==undefined?this.#et:this.#et=this.#Je==="win32"&&this.#Xe===0&&this.length>1&&typeof t[0]==="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#Ye;return this.#st!==undefined?this.#st:this.#st=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#Ye[0];return typeof t==="string"&&this.isAbsolute()&&this.#Xe===0?t:""}checkFollowGlobstar(){return!(this.#Xe===0||!this.isGlobstar()||!this.#it)}markFollowGlobstar(){if(this.#Xe===0||!this.isGlobstar()||!this.#it)return false;this.#it=false;return true}}const Jt=typeof process==="object"&&process&&typeof process.platform==="string"?process.platform:"linux";class Ignore{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:i,nocase:r,noext:o,noglobstar:a,platform:h=Jt}){this.relative=[];this.absolute=[];this.relativeChildren=[];this.absoluteChildren=[];const l={dot:true,nobrace:i,nocase:r,noext:o,noglobstar:a,optimizationLevel:2,platform:h,nocomment:true,nonegate:true};for(const i of t){const t=new Minimatch(i,l);for(let i=0;i<t.set.length;i++){const r=t.set[i];const o=t.globParts[i];const a=new Pattern(r,o,0,h);const c=new Minimatch(a.globString(),l);const u=o[o.length-1]==="**";const d=a.isAbsolute();if(d)this.absolute.push(c);else this.relative.push(c);if(u){if(d)this.absoluteChildren.push(c);else this.relativeChildren.push(c)}}}}ignored(t){const i=t.fullpath();const r=`${i}/`;const o=t.relative()||".";const a=`${o}/`;for(const t of this.relative){if(t.match(o)||t.match(a))return true}for(const t of this.absolute){if(t.match(i)||t.match(r))return true}return false}childrenIgnored(t){const i=t.fullpath()+"/";const r=(t.relative()||".")+"/";for(const t of this.relativeChildren){if(t.match(r))return true}for(const t of this.absoluteChildren){if(t.match(i))true}return false}}class HasWalkedCache{store;constructor(t=new Map){this.store=t}copy(){return new HasWalkedCache(new Map(this.store))}hasWalked(t,i){return this.store.get(t.fullpath())?.has(i.globString())}storeWalked(t,i){const r=t.fullpath();const o=this.store.get(r);if(o)o.add(i.globString());else this.store.set(r,new Set([i.globString()]))}}class MatchRecord{store=new Map;add(t,i,r){const o=(i?2:0)|(r?1:0);const a=this.store.get(t);this.store.set(t,a===undefined?o:o&a)}entries(){return[...this.store.entries()].map((([t,i])=>[t,!!(i&2),!!(i&1)]))}}class SubWalks{store=new Map;add(t,i){if(!t.canReaddir()){return}const r=this.store.get(t);if(r){if(!r.find((t=>t.globString()===i.globString()))){r.push(i)}}else this.store.set(t,[i])}get(t){const i=this.store.get(t);if(!i){throw new Error("attempting to walk unknown path")}return i}entries(){return this.keys().map((t=>[t,this.store.get(t)]))}keys(){return[...this.store.keys()].filter((t=>t.canReaddir()))}}class Processor{hasWalkedCache;matches=new MatchRecord;subwalks=new SubWalks;patterns;follow;dot;opts;constructor(t,i){this.opts=t;this.follow=!!t.follow;this.dot=!!t.dot;this.hasWalkedCache=i?i.copy():new HasWalkedCache}processPatterns(t,i){this.patterns=i;const r=i.map((i=>[t,i]));for(let[t,i]of r){this.hasWalkedCache.storeWalked(t,i);const r=i.root();const o=i.isAbsolute()&&this.opts.absolute!==false;if(r){t=t.resolve(r==="/"&&this.opts.root!==undefined?this.opts.root:r);const o=i.rest();if(!o){this.matches.add(t,true,false);continue}else{i=o}}if(t.isENOENT())continue;let a;let h;let l=false;while(typeof(a=i.pattern())==="string"&&(h=i.rest())){const r=t.resolve(a);if(r.isUnknown()&&a!=="..")break;t=r;i=h;l=true}a=i.pattern();h=i.rest();if(l){if(this.hasWalkedCache.hasWalked(t,i))continue;this.hasWalkedCache.storeWalked(t,i)}if(typeof a==="string"){if(!h){const i=a===".."||a===""||a===".";this.matches.add(t.resolve(a),o,i)}else{this.subwalks.add(t,i)}continue}else if(a===Se){if(!t.isSymbolicLink()||this.follow||i.checkFollowGlobstar()){this.subwalks.add(t,i)}const r=h?.pattern();const a=h?.rest();if(!h||(r===""||r===".")&&!a){this.matches.add(t,o,r===""||r===".")}else{if(r===".."){const i=t.parent||t;if(!a)this.matches.add(i,o,true);else if(!this.hasWalkedCache.hasWalked(i,a)){this.subwalks.add(i,a)}}}}else if(a instanceof RegExp){this.subwalks.add(t,i)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Processor(this.opts,this.hasWalkedCache)}filterEntries(t,i){const r=this.subwalks.get(t);const o=this.child();for(const t of i){for(const i of r){const r=i.isAbsolute();const a=i.pattern();const h=i.rest();if(a===Se){o.testGlobstar(t,i,h,r)}else if(a instanceof RegExp){o.testRegExp(t,a,h,r)}else{o.testString(t,a,h,r)}}}return o}testGlobstar(t,i,r,o){if(this.dot||!t.name.startsWith(".")){if(!i.hasMore()){this.matches.add(t,o,false)}if(t.canReaddir()){if(this.follow||!t.isSymbolicLink()){this.subwalks.add(t,i)}else if(t.isSymbolicLink()){if(r&&i.checkFollowGlobstar()){this.subwalks.add(t,r)}else if(i.markFollowGlobstar()){this.subwalks.add(t,i)}}}}if(r){const i=r.pattern();if(typeof i==="string"&&i!==".."&&i!==""&&i!=="."){this.testString(t,i,r.rest(),o)}else if(i===".."){const i=t.parent||t;this.subwalks.add(i,r)}else if(i instanceof RegExp){this.testRegExp(t,i,r.rest(),o)}}}testRegExp(t,i,r,o){if(!i.test(t.name))return;if(!r){this.matches.add(t,o,false)}else{this.subwalks.add(t,r)}}testString(t,i,r,o){if(!t.isNamed(i))return;if(!r){this.matches.add(t,o,false)}else{this.subwalks.add(t,r)}}}const makeIgnore=(t,i)=>typeof t==="string"?new Ignore([t],i):Array.isArray(t)?new Ignore(t,i):t;class GlobUtil{path;patterns;opts;seen=new Set;paused=false;aborted=false;#rt=[];#nt;#ot;signal;maxDepth;constructor(t,i,r){this.patterns=t;this.path=i;this.opts=r;this.#ot=!r.posix&&r.platform==="win32"?"\\":"/";if(r.ignore){this.#nt=makeIgnore(r.ignore,r)}this.maxDepth=r.maxDepth||Infinity;if(r.signal){this.signal=r.signal;this.signal.addEventListener("abort",(()=>{this.#rt.length=0}))}}#at(t){return this.seen.has(t)||!!this.#nt?.ignored?.(t)}#ht(t){return!!this.#nt?.childrenIgnored?.(t)}pause(){this.paused=true}resume(){if(this.signal?.aborted)return;this.paused=false;let t=undefined;while(!this.paused&&(t=this.#rt.shift())){t()}}onResume(t){if(this.signal?.aborted)return;if(!this.paused){t()}else{this.#rt.push(t)}}async matchCheck(t,i){if(i&&this.opts.nodir)return undefined;let r;if(this.opts.realpath){r=t.realpathCached()||await t.realpath();if(!r)return undefined;t=r}const o=t.isUnknown()||this.opts.stat;return this.matchCheckTest(o?await t.lstat():t,i)}matchCheckTest(t,i){return t&&(this.maxDepth===Infinity||t.depth()<=this.maxDepth)&&(!i||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#at(t)?t:undefined}matchCheckSync(t,i){if(i&&this.opts.nodir)return undefined;let r;if(this.opts.realpath){r=t.realpathCached()||t.realpathSync();if(!r)return undefined;t=r}const o=t.isUnknown()||this.opts.stat;return this.matchCheckTest(o?t.lstatSync():t,i)}matchFinish(t,i){if(this.#at(t))return;const r=this.opts.absolute===undefined?i:this.opts.absolute;this.seen.add(t);const o=this.opts.mark&&t.isDirectory()?this.#ot:"";if(this.opts.withFileTypes){this.matchEmit(t)}else if(r){const i=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(i+o)}else{const i=this.opts.posix?t.relativePosix():t.relative();const r=this.opts.dotRelative&&!i.startsWith(".."+this.#ot)?"."+this.#ot:"";this.matchEmit(!i?"."+o:r+i+o)}}async match(t,i,r){const o=await this.matchCheck(t,r);if(o)this.matchFinish(o,i)}matchSync(t,i,r){const o=this.matchCheckSync(t,r);if(o)this.matchFinish(o,i)}walkCB(t,i,r){if(this.signal?.aborted)r();this.walkCB2(t,i,new Processor(this.opts),r)}walkCB2(t,i,r,o){if(this.#ht(t))return o();if(this.signal?.aborted)o();if(this.paused){this.onResume((()=>this.walkCB2(t,i,r,o)));return}r.processPatterns(t,i);let a=1;const next=()=>{if(--a===0)o()};for(const[t,i,o]of r.matches.entries()){if(this.#at(t))continue;a++;this.match(t,i,o).then((()=>next()))}for(const t of r.subwalkTargets()){if(this.maxDepth!==Infinity&&t.depth()>=this.maxDepth){continue}a++;const i=t.readdirCached();if(t.calledReaddir())this.walkCB3(t,i,r,next);else{t.readdirCB(((i,o)=>this.walkCB3(t,o,r,next)),true)}}next()}walkCB3(t,i,r,o){r=r.filterEntries(t,i);let a=1;const next=()=>{if(--a===0)o()};for(const[t,i,o]of r.matches.entries()){if(this.#at(t))continue;a++;this.match(t,i,o).then((()=>next()))}for(const[t,i]of r.subwalks.entries()){a++;this.walkCB2(t,i,r.child(),next)}next()}walkCBSync(t,i,r){if(this.signal?.aborted)r();this.walkCB2Sync(t,i,new Processor(this.opts),r)}walkCB2Sync(t,i,r,o){if(this.#ht(t))return o();if(this.signal?.aborted)o();if(this.paused){this.onResume((()=>this.walkCB2Sync(t,i,r,o)));return}r.processPatterns(t,i);let a=1;const next=()=>{if(--a===0)o()};for(const[t,i,o]of r.matches.entries()){if(this.#at(t))continue;this.matchSync(t,i,o)}for(const t of r.subwalkTargets()){if(this.maxDepth!==Infinity&&t.depth()>=this.maxDepth){continue}a++;const i=t.readdirSync();this.walkCB3Sync(t,i,r,next)}next()}walkCB3Sync(t,i,r,o){r=r.filterEntries(t,i);let a=1;const next=()=>{if(--a===0)o()};for(const[t,i,o]of r.matches.entries()){if(this.#at(t))continue;this.matchSync(t,i,o)}for(const[t,i]of r.subwalks.entries()){a++;this.walkCB2Sync(t,i,r.child(),next)}next()}}class GlobWalker extends GlobUtil{matches;constructor(t,i,r){super(t,i,r);this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;if(this.path.isUnknown()){await this.path.lstat()}await new Promise(((t,i)=>{this.walkCB(this.path,this.patterns,(()=>{if(this.signal?.aborted){i(this.signal.reason)}else{t(this.matches)}}))}));return this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;if(this.path.isUnknown()){this.path.lstatSync()}this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason}));return this.matches}}class GlobStream extends GlobUtil{results;constructor(t,i,r){super(t,i,r);this.results=new Minipass({signal:this.signal,objectMode:true});this.results.on("drain",(()=>this.resume()));this.results.on("resume",(()=>this.resume()))}matchEmit(t){this.results.write(t);if(!this.results.flowing)this.pause()}stream(){const t=this.path;if(t.isUnknown()){t.lstat().then((()=>{this.walkCB(t,this.patterns,(()=>this.results.end()))}))}else{this.walkCB(t,this.patterns,(()=>this.results.end()))}return this.results}streamSync(){if(this.path.isUnknown()){this.path.lstatSync()}this.walkCBSync(this.path,this.patterns,(()=>this.results.end()));return this.results}}const Kt=typeof process==="object"&&process&&typeof process.platform==="string"?process.platform:"linux";class Glob{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,i){this.withFileTypes=!!i.withFileTypes;this.signal=i.signal;this.follow=!!i.follow;this.dot=!!i.dot;this.dotRelative=!!i.dotRelative;this.nodir=!!i.nodir;this.mark=!!i.mark;if(!i.cwd){this.cwd=""}else if(i.cwd instanceof URL||i.cwd.startsWith("file://")){i.cwd=(0,Me.fileURLToPath)(i.cwd)}this.cwd=i.cwd||"";this.root=i.root;this.magicalBraces=!!i.magicalBraces;this.nobrace=!!i.nobrace;this.noext=!!i.noext;this.realpath=!!i.realpath;this.absolute=i.absolute;this.noglobstar=!!i.noglobstar;this.matchBase=!!i.matchBase;this.maxDepth=typeof i.maxDepth==="number"?i.maxDepth:Infinity;this.stat=!!i.stat;this.ignore=i.ignore;if(this.withFileTypes&&this.absolute!==undefined){throw new Error("cannot set absolute and withFileTypes:true")}if(typeof t==="string"){t=[t]}this.windowsPathsNoEscape=!!i.windowsPathsNoEscape||i.allowWindowsEscape===false;if(this.windowsPathsNoEscape){t=t.map((t=>t.replace(/\\/g,"/")))}if(this.matchBase){if(i.noglobstar){throw new TypeError("base matching requires globstar")}t=t.map((t=>t.includes("/")?t:`./**/${t}`))}this.pattern=t;this.platform=i.platform||Kt;this.opts={...i,platform:this.platform};if(i.scurry){this.scurry=i.scurry;if(i.nocase!==undefined&&i.nocase!==i.scurry.nocase){throw new Error("nocase option contradicts provided scurry option")}}else{const t=i.platform==="win32"?PathScurryWin32:i.platform==="darwin"?PathScurryDarwin:i.platform?PathScurryPosix:Xt;this.scurry=new t(this.cwd,{nocase:i.nocase,fs:i.fs})}this.nocase=this.scurry.nocase;const r=this.platform==="darwin"||this.platform==="win32";const o={...i,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:r,nocomment:true,noext:this.noext,nonegate:true,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug};const a=this.pattern.map((t=>new Minimatch(t,o)));const[h,l]=a.reduce(((t,i)=>{t[0].push(...i.set);t[1].push(...i.globParts);return t}),[[],[]]);this.patterns=h.map(((t,i)=>new Pattern(t,l[i],0,this.platform)))}async walk(){return[...await new GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}const hasMagic=(t,i={})=>{if(!Array.isArray(t)){t=[t]}for(const r of t){if(new Minimatch(r,i).hasMagic())return true}return false};function globStreamSync(t,i={}){return new Glob(t,i).streamSync()}function globStream(t,i={}){return new Glob(t,i).stream()}function globSync(t,i={}){return new Glob(t,i).walkSync()}async function glob_(t,i={}){return new Glob(t,i).walk()}function globIterateSync(t,i={}){return new Glob(t,i).iterateSync()}function globIterate(t,i={}){return new Glob(t,i).iterate()}const Qt=globStreamSync;const es=Object.assign(globStream,{sync:globStreamSync});const ts=globIterateSync;const ss=Object.assign(globIterate,{sync:globIterateSync});const rs=Object.assign(globSync,{stream:globStreamSync,iterate:globIterateSync});const ns=Object.assign(glob_,{glob:glob_,globSync:globSync,sync:rs,globStream:globStream,stream:es,globStreamSync:globStreamSync,streamSync:Qt,globIterate:globIterate,iterate:ss,globIterateSync:globIterateSync,iterateSync:ts,Glob:Glob,hasMagic:hasMagic,escape:escape_escape,unescape:unescape_unescape});ns.glob=ns;const readdirSync=t=>(0,De.readdirSync)(t,{withFileTypes:true});const chmod=(t,i)=>new Promise(((r,o)=>De.chmod(t,i,((t,...i)=>t?o(t):r(...i)))));const mkdir=(t,i)=>new Promise(((r,o)=>De.mkdir(t,i,((t,i)=>t?o(t):r(i)))));const readdir=t=>new Promise(((i,r)=>De.readdir(t,{withFileTypes:true},((t,o)=>t?r(t):i(o)))));const rename=(t,i)=>new Promise(((r,o)=>De.rename(t,i,((t,...i)=>t?o(t):r(...i)))));const rm=(t,i)=>new Promise(((r,o)=>De.rm(t,i,((t,...i)=>t?o(t):r(...i)))));const rmdir=t=>new Promise(((i,r)=>De.rmdir(t,((t,...o)=>t?r(t):i(...o)))));const stat=t=>new Promise(((i,r)=>De.stat(t,((t,o)=>t?r(t):i(o)))));const lstat=t=>new Promise(((i,r)=>De.lstat(t,((t,o)=>t?r(t):i(o)))));const unlink=t=>new Promise(((i,r)=>De.unlink(t,((t,...o)=>t?r(t):i(...o)))));const os={chmod:chmod,mkdir:mkdir,readdir:readdir,rename:rename,rm:rm,rmdir:rmdir,stat:stat,lstat:lstat,unlink:unlink};const{readdir:as}=os;const readdirOrError=t=>as(t).catch((t=>t));const readdirOrErrorSync=t=>{try{return readdirSync(t)}catch(t){return t}};const ignoreENOENT=async t=>t.catch((t=>{if(t.code!=="ENOENT"){throw t}}));const ignoreENOENTSync=t=>{try{return t()}catch(t){if(t?.code!=="ENOENT"){throw t}}};const{lstat:hs,rmdir:ls,unlink:cs}=os;const rimrafPosix=async(t,i)=>{if(i?.signal?.aborted){throw i.signal.reason}try{return await rimrafPosixDir(t,i,await hs(t))}catch(t){if(t?.code==="ENOENT")return true;throw t}};const rimrafPosixSync=(t,i)=>{if(i?.signal?.aborted){throw i.signal.reason}try{return rimrafPosixDirSync(t,i,(0,De.lstatSync)(t))}catch(t){if(t?.code==="ENOENT")return true;throw t}};const rimrafPosixDir=async(t,i,r)=>{if(i?.signal?.aborted){throw i.signal.reason}const o=r.isDirectory()?await readdirOrError(t):null;if(!Array.isArray(o)){if(o){if(o.code==="ENOENT"){return true}if(o.code!=="ENOTDIR"){throw o}}if(i.filter&&!await i.filter(t,r)){return false}await ignoreENOENT(cs(t));return true}const a=(await Promise.all(o.map((r=>rimrafPosixDir((0,Q.resolve)(t,r.name),i,r))))).reduce(((t,i)=>t&&i),true);if(!a){return false}if(i.preserveRoot===false&&t===(0,Q.parse)(t).root){return false}if(i.filter&&!await i.filter(t,r)){return false}await ignoreENOENT(ls(t));return true};const rimrafPosixDirSync=(t,i,r)=>{if(i?.signal?.aborted){throw i.signal.reason}const o=r.isDirectory()?readdirOrErrorSync(t):null;if(!Array.isArray(o)){if(o){if(o.code==="ENOENT"){return true}if(o.code!=="ENOTDIR"){throw o}}if(i.filter&&!i.filter(t,r)){return false}ignoreENOENTSync((()=>(0,De.unlinkSync)(t)));return true}let a=true;for(const r of o){const o=(0,Q.resolve)(t,r.name);a=rimrafPosixDirSync(o,i,r)&&a}if(i.preserveRoot===false&&t===(0,Q.parse)(t).root){return false}if(!a){return false}if(i.filter&&!i.filter(t,r)){return false}ignoreENOENTSync((()=>(0,De.rmdirSync)(t)));return true};const{chmod:us}=os;const fixEPERM=t=>async i=>{try{return await t(i)}catch(r){const o=r;if(o?.code==="ENOENT"){return}if(o?.code==="EPERM"){try{await us(i,438)}catch(t){const i=t;if(i?.code==="ENOENT"){return}throw r}return await t(i)}throw r}};const fixEPERMSync=t=>i=>{try{return t(i)}catch(r){const o=r;if(o?.code==="ENOENT"){return}if(o?.code==="EPERM"){try{(0,De.chmodSync)(i,438)}catch(t){const i=t;if(i?.code==="ENOENT"){return}throw r}return t(i)}throw r}};const fs=200;const ds=1.2;const ps=10;const ms=new Set(["EMFILE","ENFILE","EBUSY"]);const retryBusy=t=>{const method=async(i,r,o=1,a=0)=>{const h=r.maxBackoff||fs;const l=r.backoff||ds;const c=r.maxRetries||ps;let u=0;while(true){try{return await t(i)}catch(t){const d=t;if(d?.path===i&&d?.code&&ms.has(d.code)){o=Math.ceil(o*l);a=o+a;if(a<h){return new Promise(((t,h)=>{setTimeout((()=>{method(i,r,o,a).then(t,h)}),o)}))}if(u<c){u++;continue}}throw t}}};return method};const retryBusySync=t=>{const method=(i,r)=>{const o=r.maxRetries||ps;let a=0;while(true){try{return t(i)}catch(t){const r=t;if(r?.path===i&&r?.code&&ms.has(r.code)&&a<o){a++;continue}throw t}}};return method};const gs=require("os");const{stat:ys}=os;const isDirSync=t=>{try{return(0,De.statSync)(t).isDirectory()}catch(t){return false}};const isDir=t=>ys(t).then((t=>t.isDirectory()),(()=>false));const win32DefaultTmp=async t=>{const{root:i}=(0,Q.parse)(t);const r=(0,gs.tmpdir)();const{root:o}=(0,Q.parse)(r);if(i.toLowerCase()===o.toLowerCase()){return r}const a=(0,Q.resolve)(i,"/temp");if(await isDir(a)){return a}return i};const win32DefaultTmpSync=t=>{const{root:i}=(0,Q.parse)(t);const r=(0,gs.tmpdir)();const{root:o}=(0,Q.parse)(r);if(i.toLowerCase()===o.toLowerCase()){return r}const a=(0,Q.resolve)(i,"/temp");if(isDirSync(a)){return a}return i};const posixDefaultTmp=async()=>(0,gs.tmpdir)();const posixDefaultTmpSync=()=>(0,gs.tmpdir)();const bs=te==="win32"?win32DefaultTmp:posixDefaultTmp;const ws=te==="win32"?win32DefaultTmpSync:posixDefaultTmpSync;const{lstat:_s,rename:vs,unlink:Es,rmdir:Ss,chmod:xs}=os;const uniqueFilename=t=>`.${(0,Q.basename)(t)}.${Math.random()}`;const unlinkFixEPERM=async t=>Es(t).catch((i=>{if(i.code==="EPERM"){return xs(t,438).then((()=>Es(t)),(t=>{if(t.code==="ENOENT"){return}throw i}))}else if(i.code==="ENOENT"){return}throw i}));const unlinkFixEPERMSync=t=>{try{(0,De.unlinkSync)(t)}catch(i){if(i?.code==="EPERM"){try{return(0,De.chmodSync)(t,438)}catch(t){if(t?.code==="ENOENT"){return}throw i}}else if(i?.code==="ENOENT"){return}throw i}};const rimrafMoveRemove=async(t,i)=>{if(i?.signal?.aborted){throw i.signal.reason}try{return await rimrafMoveRemoveDir(t,i,await _s(t))}catch(t){if(t?.code==="ENOENT")return true;throw t}};const rimrafMoveRemoveDir=async(t,i,r)=>{if(i?.signal?.aborted){throw i.signal.reason}if(!i.tmp){return rimrafMoveRemoveDir(t,{...i,tmp:await bs(t)},r)}if(t===i.tmp&&(0,Q.parse)(t).root!==t){throw new Error("cannot delete temp directory used for deletion")}const o=r.isDirectory()?await readdirOrError(t):null;if(!Array.isArray(o)){if(o){if(o.code==="ENOENT"){return true}if(o.code!=="ENOTDIR"){throw o}}if(i.filter&&!await i.filter(t,r)){return false}await ignoreENOENT(tmpUnlink(t,i.tmp,unlinkFixEPERM));return true}const a=(await Promise.all(o.map((r=>rimrafMoveRemoveDir((0,Q.resolve)(t,r.name),i,r))))).reduce(((t,i)=>t&&i),true);if(!a){return false}if(i.preserveRoot===false&&t===(0,Q.parse)(t).root){return false}if(i.filter&&!await i.filter(t,r)){return false}await ignoreENOENT(tmpUnlink(t,i.tmp,Ss));return true};const tmpUnlink=async(t,i,r)=>{const o=(0,Q.resolve)(i,uniqueFilename(t));await vs(t,o);return await r(o)};const rimrafMoveRemoveSync=(t,i)=>{if(i?.signal?.aborted){throw i.signal.reason}try{return rimrafMoveRemoveDirSync(t,i,(0,De.lstatSync)(t))}catch(t){if(t?.code==="ENOENT")return true;throw t}};const rimrafMoveRemoveDirSync=(t,i,r)=>{if(i?.signal?.aborted){throw i.signal.reason}if(!i.tmp){return rimrafMoveRemoveDirSync(t,{...i,tmp:ws(t)},r)}const o=i.tmp;if(t===i.tmp&&(0,Q.parse)(t).root!==t){throw new Error("cannot delete temp directory used for deletion")}const a=r.isDirectory()?readdirOrErrorSync(t):null;if(!Array.isArray(a)){if(a){if(a.code==="ENOENT"){return true}if(a.code!=="ENOTDIR"){throw a}}if(i.filter&&!i.filter(t,r)){return false}ignoreENOENTSync((()=>tmpUnlinkSync(t,o,unlinkFixEPERMSync)));return true}let h=true;for(const r of a){const o=(0,Q.resolve)(t,r.name);h=rimrafMoveRemoveDirSync(o,i,r)&&h}if(!h){return false}if(i.preserveRoot===false&&t===(0,Q.parse)(t).root){return false}if(i.filter&&!i.filter(t,r)){return false}ignoreENOENTSync((()=>tmpUnlinkSync(t,o,De.rmdirSync)));return true};const tmpUnlinkSync=(t,i,r)=>{const o=(0,Q.resolve)(i,uniqueFilename(t));(0,De.renameSync)(t,o);return r(o)};const{unlink:Os,rmdir:Ts,lstat:Rs}=os;const ks=retryBusy(fixEPERM(Os));const As=retryBusySync(fixEPERMSync(De.unlinkSync));const Cs=retryBusy(fixEPERM(Ts));const Ps=retryBusySync(fixEPERMSync(De.rmdirSync));const rimrafWindowsDirMoveRemoveFallback=async(t,i)=>{if(i?.signal?.aborted){throw i.signal.reason}const{filter:r,...o}=i;try{return await Cs(t,o)}catch(i){if(i?.code==="ENOTEMPTY"){return await rimrafMoveRemove(t,o)}throw i}};const rimrafWindowsDirMoveRemoveFallbackSync=(t,i)=>{if(i?.signal?.aborted){throw i.signal.reason}const{filter:r,...o}=i;try{return Ps(t,o)}catch(i){const r=i;if(r?.code==="ENOTEMPTY"){return rimrafMoveRemoveSync(t,o)}throw i}};const Is=Symbol("start");const Ls=Symbol("child");const Ns=Symbol("finish");const rimrafWindows=async(t,i)=>{if(i?.signal?.aborted){throw i.signal.reason}try{return await rimrafWindowsDir(t,i,await Rs(t),Is)}catch(t){if(t?.code==="ENOENT")return true;throw t}};const rimrafWindowsSync=(t,i)=>{if(i?.signal?.aborted){throw i.signal.reason}try{return rimrafWindowsDirSync(t,i,(0,De.lstatSync)(t),Is)}catch(t){if(t?.code==="ENOENT")return true;throw t}};const rimrafWindowsDir=async(t,i,r,o=Is)=>{if(i?.signal?.aborted){throw i.signal.reason}const a=r.isDirectory()?await readdirOrError(t):null;if(!Array.isArray(a)){if(a){if(a.code==="ENOENT"){return true}if(a.code!=="ENOTDIR"){throw a}}if(i.filter&&!await i.filter(t,r)){return false}await ignoreENOENT(ks(t,i));return true}const h=o===Is?Ls:o;const l=(await Promise.all(a.map((r=>rimrafWindowsDir((0,Q.resolve)(t,r.name),i,r,h))))).reduce(((t,i)=>t&&i),true);if(o===Is){return rimrafWindowsDir(t,i,r,Ns)}else if(o===Ns){if(i.preserveRoot===false&&t===(0,Q.parse)(t).root){return false}if(!l){return false}if(i.filter&&!await i.filter(t,r)){return false}await ignoreENOENT(rimrafWindowsDirMoveRemoveFallback(t,i))}return true};const rimrafWindowsDirSync=(t,i,r,o=Is)=>{const a=r.isDirectory()?readdirOrErrorSync(t):null;if(!Array.isArray(a)){if(a){if(a.code==="ENOENT"){return true}if(a.code!=="ENOTDIR"){throw a}}if(i.filter&&!i.filter(t,r)){return false}ignoreENOENTSync((()=>As(t,i)));return true}let h=true;for(const r of a){const a=o===Is?Ls:o;const l=(0,Q.resolve)(t,r.name);h=rimrafWindowsDirSync(l,i,r,a)&&h}if(o===Is){return rimrafWindowsDirSync(t,i,r,Ns)}else if(o===Ns){if(i.preserveRoot===false&&t===(0,Q.parse)(t).root){return false}if(!h){return false}if(i.filter&&!i.filter(t,r)){return false}ignoreENOENTSync((()=>{rimrafWindowsDirMoveRemoveFallbackSync(t,i)}))}return true};const Ms=te==="win32"?rimrafWindows:rimrafPosix;const Ds=te==="win32"?rimrafWindowsSync:rimrafPosixSync;const{rm:$s}=os;const rimrafNative=async(t,i)=>{await $s(t,{...i,force:true,recursive:true});return true};const rimrafNativeSync=(t,i)=>{(0,De.rmSync)(t,{...i,force:true,recursive:true});return true};const js=process.env.__TESTING_RIMRAF_NODE_VERSION__||process.version;const Fs=js.replace(/^v/,"").split(".");const Bs=+Fs[0]>14||+Fs[0]===14&&+Fs[1]>=14;const Hs=!Bs||te==="win32"?()=>false:t=>!t?.signal&&!t?.filter;const zs=!Bs||te==="win32"?()=>false:t=>!t?.signal&&!t?.filter;const typeOrUndef=(t,i)=>typeof t==="undefined"||typeof t===i;const isRimrafOptions=t=>!!t&&typeof t==="object"&&typeOrUndef(t.preserveRoot,"boolean")&&typeOrUndef(t.tmp,"string")&&typeOrUndef(t.maxRetries,"number")&&typeOrUndef(t.retryDelay,"number")&&typeOrUndef(t.backoff,"number")&&typeOrUndef(t.maxBackoff,"number")&&(typeOrUndef(t.glob,"boolean")||t.glob&&typeof t.glob==="object")&&typeOrUndef(t.filter,"function");const assertRimrafOptions=t=>{if(!isRimrafOptions(t)){throw new Error("invalid rimraf options")}};const wrap=t=>async(i,r)=>{const o=optArg(r);if(o.glob){i=await ns(i,o.glob)}if(Array.isArray(i)){return!!(await Promise.all(i.map((i=>t(se(i,o),o))))).reduce(((t,i)=>t&&i),true)}else{return!!await t(se(i,o),o)}};const wrapSync=t=>(i,r)=>{const o=optArgSync(r);if(o.glob){i=globSync(i,o.glob)}if(Array.isArray(i)){return!!i.map((i=>t(se(i,o),o))).reduce(((t,i)=>t&&i),true)}else{return!!t(se(i,o),o)}};const Us=wrapSync(rimrafNativeSync);const qs=Object.assign(wrap(rimrafNative),{sync:Us});const Gs=wrapSync(Ds);const Ws=Object.assign(wrap(Ms),{sync:Gs});const Vs=wrapSync(rimrafWindowsSync);const Ys=Object.assign(wrap(rimrafWindows),{sync:Vs});const Zs=wrapSync(rimrafPosixSync);const Xs=Object.assign(wrap(rimrafPosix),{sync:Zs});const Js=wrapSync(rimrafMoveRemoveSync);const Ks=Object.assign(wrap(rimrafMoveRemove),{sync:Js});const Qs=wrapSync(((t,i)=>zs(i)?rimrafNativeSync(t,i):Ds(t,i)));const ei=null&&Qs;const ti=wrap(((t,i)=>Hs(i)?rimrafNative(t,i):Ms(t,i)));const si=Object.assign(ti,{rimraf:ti,sync:Qs,rimrafSync:Qs,manual:Ws,manualSync:Gs,native:qs,nativeSync:Us,posix:Xs,posixSync:Zs,windows:Ys,windowsSync:Vs,moveRemove:Ks,moveRemoveSync:Js});si.rimraf=si;const isInGitRepository=()=>{try{(0,K.execSync)("git rev-parse --is-inside-work-tree",{stdio:"ignore"});return true}catch(t){return false}};const isInMercurialRepository=()=>{try{(0,K.execSync)("hg --cwd . root",{stdio:"ignore"});return true}catch(t){return false}};const tryGitInit=t=>{let r=false;try{(0,K.execSync)("git --version",{stdio:"ignore"});if(isInGitRepository()||isInMercurialRepository()){return false}(0,K.execSync)("git init",{stdio:"ignore"});r=true;(0,K.execSync)("git checkout -b main",{stdio:"ignore"});(0,K.execSync)("git add -A",{stdio:"ignore"});return true}catch(o){if(r){try{si.sync(i().join(t,".git"))}catch(t){return false}}return false}};var ii=__nccwpck_require__(4505);const install=(t,i,{packageManager:r,isOnline:o,devDependencies:a})=>{const h=[];const l=[];return new Promise(((c,u)=>{let d;const p=r;const g=r==="yarn";if(i===null||i===void 0?void 0:i.length){if(g){d=["add","--exact"];if(!o)d.push("--offline");d.push("--cwd",t);if(a)d.push("--dev");d.push(...i)}else{d=["install","--save-exact"];d.push(a?"--save-dev":"--save");d.push(...i)}}else{d=["install"];if(!o){console.log(N.yellow("You appear to be offline."));if(g){console.log(N.yellow("Falling back to the local Yarn cache."));console.log();d.push("--offline")}else{console.log()}}}if(g){d.push(...l)}else{d.push(...h)}const y=(0,ii.spawn)(p,d,{stdio:"inherit",env:{...process.env,ADBLOCK:"1",NODE_ENV:"development",DISABLE_OPENCOLLECTIVE:"1"}});y.on("close",(t=>{if(t!==0){u({command:`${p} ${d.join(" ")}`});return}c()}))}))};const ri=require("node:fs");var ni=__nccwpck_require__.n(ri);const isFolderEmpty=(t,r)=>{const o=[".DS_Store",".git",".gitattributes",".gitignore",".gitlab-ci.yml",".hg",".hgcheck",".hgignore",".idea",".npmignore",".travis.yml","LICENSE","Thumbs.db","docs","mkdocs.yml","npm-debug.log","yarn-debug.log","yarn-error.log","yarnrc.yml",".yarn"];const a=ni().readdirSync(t).filter((t=>!o.includes(t))).filter((t=>!t.endsWith(".iml")));if(a.length>0){console.log(`The directory ${N.green(r)} contains files that could conflict:`);console.log();for(const r of a){try{const o=ni().lstatSync(i().join(t,r));if(o.isDirectory()){console.log(`  ${N.blue(r)}/`)}else{console.log(`  ${r}`)}}catch{console.log(`  ${r}`)}}console.log();console.log("Either try using a new directory name, or remove the files listed above.");console.log();return false}return true};const oi=require("node:dns");var ai=__nccwpck_require__.n(oi);const hi=require("node:url");var li=__nccwpck_require__.n(hi);const getProxy=()=>{if(process.env.https_proxy){return process.env.https_proxy}try{const t=(0,K.execSync)("npm config get https-proxy").toString().trim();return t!=="null"?t:undefined}catch(t){return undefined}};const getOnline=()=>new Promise((t=>{ai().lookup("registry.yarnpkg.com",(i=>{if(!i){return t(true)}const r=getProxy();if(!r){return t(false)}const{hostname:o}=li().parse(r);if(!o){return t(false)}ai().lookup(o,(i=>{t(i===null)}))}))}));const isWriteable=async t=>{try{await ni().promises.access(t,(ni().constants||ni()).W_OK);return true}catch(t){return false}};const makeDir=(t,i={recursive:true})=>ni().promises.mkdir(t,i);const ci=require("node:stream");const ui=require("node:util");const fi=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function isTypedArrayName(t){return fi.includes(t)}const di=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","WeakRef","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement","NaN",...fi];function isObjectTypeName(t){return di.includes(t)}const pi=["null","undefined","string","number","bigint","boolean","symbol"];function isPrimitiveTypeName(t){return pi.includes(t)}function isOfType(t){return i=>typeof i===t}const{toString:mi}=Object.prototype;const getObjectType=t=>{const i=mi.call(t).slice(8,-1);if(/HTML\w+Element/.test(i)&&is.domElement(t)){return"HTMLElement"}if(isObjectTypeName(i)){return i}return undefined};const isObjectOfType=t=>i=>getObjectType(i)===t;function is(t){if(t===null){return"null"}switch(typeof t){case"undefined":{return"undefined"}case"string":{return"string"}case"number":{return Number.isNaN(t)?"NaN":"number"}case"boolean":{return"boolean"}case"function":{return"Function"}case"bigint":{return"bigint"}case"symbol":{return"symbol"}default:}if(is.observable(t)){return"Observable"}if(is.array(t)){return"Array"}if(is.buffer(t)){return"Buffer"}const i=getObjectType(t);if(i){return i}if(t instanceof String||t instanceof Boolean||t instanceof Number){throw new TypeError("Please don't use object wrappers for primitive types")}return"Object"}is.undefined=isOfType("undefined");is.string=isOfType("string");const gi=isOfType("number");is.number=t=>gi(t)&&!is.nan(t);is.bigint=isOfType("bigint");is.function_=isOfType("function");is.null_=t=>t===null;is.class_=t=>is.function_(t)&&t.toString().startsWith("class ");is.boolean=t=>t===true||t===false;is.symbol=isOfType("symbol");is.numericString=t=>is.string(t)&&!is.emptyStringOrWhitespace(t)&&!Number.isNaN(Number(t));is.array=(t,i)=>{if(!Array.isArray(t)){return false}if(!is.function_(i)){return true}return t.every((t=>i(t)))};is.buffer=t=>t?.constructor?.isBuffer?.(t)??false;is.blob=t=>isObjectOfType("Blob")(t);is.nullOrUndefined=t=>is.null_(t)||is.undefined(t);is.object=t=>!is.null_(t)&&(typeof t==="object"||is.function_(t));is.iterable=t=>is.function_(t?.[Symbol.iterator]);is.asyncIterable=t=>is.function_(t?.[Symbol.asyncIterator]);is.generator=t=>is.iterable(t)&&is.function_(t?.next)&&is.function_(t?.throw);is.asyncGenerator=t=>is.asyncIterable(t)&&is.function_(t.next)&&is.function_(t.throw);is.nativePromise=t=>isObjectOfType("Promise")(t);const hasPromiseApi=t=>is.function_(t?.then)&&is.function_(t?.catch);is.promise=t=>is.nativePromise(t)||hasPromiseApi(t);is.generatorFunction=isObjectOfType("GeneratorFunction");is.asyncGeneratorFunction=t=>getObjectType(t)==="AsyncGeneratorFunction";is.asyncFunction=t=>getObjectType(t)==="AsyncFunction";is.boundFunction=t=>is.function_(t)&&!t.hasOwnProperty("prototype");is.regExp=isObjectOfType("RegExp");is.date=isObjectOfType("Date");is.error=isObjectOfType("Error");is.map=t=>isObjectOfType("Map")(t);is.set=t=>isObjectOfType("Set")(t);is.weakMap=t=>isObjectOfType("WeakMap")(t);is.weakSet=t=>isObjectOfType("WeakSet")(t);is.weakRef=t=>isObjectOfType("WeakRef")(t);is.int8Array=isObjectOfType("Int8Array");is.uint8Array=isObjectOfType("Uint8Array");is.uint8ClampedArray=isObjectOfType("Uint8ClampedArray");is.int16Array=isObjectOfType("Int16Array");is.uint16Array=isObjectOfType("Uint16Array");is.int32Array=isObjectOfType("Int32Array");is.uint32Array=isObjectOfType("Uint32Array");is.float32Array=isObjectOfType("Float32Array");is.float64Array=isObjectOfType("Float64Array");is.bigInt64Array=isObjectOfType("BigInt64Array");is.bigUint64Array=isObjectOfType("BigUint64Array");is.arrayBuffer=isObjectOfType("ArrayBuffer");is.sharedArrayBuffer=isObjectOfType("SharedArrayBuffer");is.dataView=isObjectOfType("DataView");is.enumCase=(t,i)=>Object.values(i).includes(t);is.directInstanceOf=(t,i)=>Object.getPrototypeOf(t)===i.prototype;is.urlInstance=t=>isObjectOfType("URL")(t);is.urlString=t=>{if(!is.string(t)){return false}try{new URL(t);return true}catch{return false}};is.truthy=t=>Boolean(t);is.falsy=t=>!t;is.nan=t=>Number.isNaN(t);is.primitive=t=>is.null_(t)||isPrimitiveTypeName(typeof t);is.integer=t=>Number.isInteger(t);is.safeInteger=t=>Number.isSafeInteger(t);is.plainObject=t=>{if(typeof t!=="object"||t===null){return false}const i=Object.getPrototypeOf(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};is.typedArray=t=>isTypedArrayName(getObjectType(t));const isValidLength=t=>is.safeInteger(t)&&t>=0;is.arrayLike=t=>!is.nullOrUndefined(t)&&!is.function_(t)&&isValidLength(t.length);is.inRange=(t,i)=>{if(is.number(i)){return t>=Math.min(0,i)&&t<=Math.max(i,0)}if(is.array(i)&&i.length===2){return t>=Math.min(...i)&&t<=Math.max(...i)}throw new TypeError(`Invalid range: ${JSON.stringify(i)}`)};const yi=1;const bi=["innerHTML","ownerDocument","style","attributes","nodeValue"];is.domElement=t=>is.object(t)&&t.nodeType===yi&&is.string(t.nodeName)&&!is.plainObject(t)&&bi.every((i=>i in t));is.observable=t=>{if(!t){return false}if(t===t[Symbol.observable]?.()){return true}if(t===t["@@observable"]?.()){return true}return false};is.nodeStream=t=>is.object(t)&&is.function_(t.pipe)&&!is.observable(t);is.infinite=t=>t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY;const isAbsoluteMod2=t=>i=>is.integer(i)&&Math.abs(i%2)===t;is.evenInteger=isAbsoluteMod2(0);is.oddInteger=isAbsoluteMod2(1);is.emptyArray=t=>is.array(t)&&t.length===0;is.nonEmptyArray=t=>is.array(t)&&t.length>0;is.emptyString=t=>is.string(t)&&t.length===0;const isWhiteSpaceString=t=>is.string(t)&&!/\S/.test(t);is.emptyStringOrWhitespace=t=>is.emptyString(t)||isWhiteSpaceString(t);is.nonEmptyString=t=>is.string(t)&&t.length>0;is.nonEmptyStringAndNotWhitespace=t=>is.string(t)&&!is.emptyStringOrWhitespace(t);is.emptyObject=t=>is.object(t)&&!is.map(t)&&!is.set(t)&&Object.keys(t).length===0;is.nonEmptyObject=t=>is.object(t)&&!is.map(t)&&!is.set(t)&&Object.keys(t).length>0;is.emptySet=t=>is.set(t)&&t.size===0;is.nonEmptySet=t=>is.set(t)&&t.size>0;is.emptyMap=t=>is.map(t)&&t.size===0;is.nonEmptyMap=t=>is.map(t)&&t.size>0;is.propertyKey=t=>is.any([is.string,is.number,is.symbol],t);is.formData=t=>isObjectOfType("FormData")(t);is.urlSearchParams=t=>isObjectOfType("URLSearchParams")(t);const predicateOnArray=(t,i,r)=>{if(!is.function_(i)){throw new TypeError(`Invalid predicate: ${JSON.stringify(i)}`)}if(r.length===0){throw new TypeError("Invalid number of values")}return t.call(r,i)};is.any=(t,...i)=>{const r=is.array(t)?t:[t];return r.some((t=>predicateOnArray(Array.prototype.some,t,i)))};is.all=(t,...i)=>predicateOnArray(Array.prototype.every,t,i);const assertType=(t,i,r,o={})=>{if(!t){const{multipleValues:t}=o;const a=t?`received values of types ${[...new Set(r.map((t=>`\`${is(t)}\``)))].join(", ")}`:`received value of type \`${is(r)}\``;throw new TypeError(`Expected value which is \`${i}\`, ${a}.`)}};const wi={undefined:t=>assertType(is.undefined(t),"undefined",t),string:t=>assertType(is.string(t),"string",t),number:t=>assertType(is.number(t),"number",t),bigint:t=>assertType(is.bigint(t),"bigint",t),function_:t=>assertType(is.function_(t),"Function",t),null_:t=>assertType(is.null_(t),"null",t),class_:t=>assertType(is.class_(t),"Class",t),boolean:t=>assertType(is.boolean(t),"boolean",t),symbol:t=>assertType(is.symbol(t),"symbol",t),numericString:t=>assertType(is.numericString(t),"string with a number",t),array:(t,i)=>{const r=assertType;r(is.array(t),"Array",t);if(i){t.forEach(i)}},buffer:t=>assertType(is.buffer(t),"Buffer",t),blob:t=>assertType(is.blob(t),"Blob",t),nullOrUndefined:t=>assertType(is.nullOrUndefined(t),"null or undefined",t),object:t=>assertType(is.object(t),"Object",t),iterable:t=>assertType(is.iterable(t),"Iterable",t),asyncIterable:t=>assertType(is.asyncIterable(t),"AsyncIterable",t),generator:t=>assertType(is.generator(t),"Generator",t),asyncGenerator:t=>assertType(is.asyncGenerator(t),"AsyncGenerator",t),nativePromise:t=>assertType(is.nativePromise(t),"native Promise",t),promise:t=>assertType(is.promise(t),"Promise",t),generatorFunction:t=>assertType(is.generatorFunction(t),"GeneratorFunction",t),asyncGeneratorFunction:t=>assertType(is.asyncGeneratorFunction(t),"AsyncGeneratorFunction",t),asyncFunction:t=>assertType(is.asyncFunction(t),"AsyncFunction",t),boundFunction:t=>assertType(is.boundFunction(t),"Function",t),regExp:t=>assertType(is.regExp(t),"RegExp",t),date:t=>assertType(is.date(t),"Date",t),error:t=>assertType(is.error(t),"Error",t),map:t=>assertType(is.map(t),"Map",t),set:t=>assertType(is.set(t),"Set",t),weakMap:t=>assertType(is.weakMap(t),"WeakMap",t),weakSet:t=>assertType(is.weakSet(t),"WeakSet",t),weakRef:t=>assertType(is.weakRef(t),"WeakRef",t),int8Array:t=>assertType(is.int8Array(t),"Int8Array",t),uint8Array:t=>assertType(is.uint8Array(t),"Uint8Array",t),uint8ClampedArray:t=>assertType(is.uint8ClampedArray(t),"Uint8ClampedArray",t),int16Array:t=>assertType(is.int16Array(t),"Int16Array",t),uint16Array:t=>assertType(is.uint16Array(t),"Uint16Array",t),int32Array:t=>assertType(is.int32Array(t),"Int32Array",t),uint32Array:t=>assertType(is.uint32Array(t),"Uint32Array",t),float32Array:t=>assertType(is.float32Array(t),"Float32Array",t),float64Array:t=>assertType(is.float64Array(t),"Float64Array",t),bigInt64Array:t=>assertType(is.bigInt64Array(t),"BigInt64Array",t),bigUint64Array:t=>assertType(is.bigUint64Array(t),"BigUint64Array",t),arrayBuffer:t=>assertType(is.arrayBuffer(t),"ArrayBuffer",t),sharedArrayBuffer:t=>assertType(is.sharedArrayBuffer(t),"SharedArrayBuffer",t),dataView:t=>assertType(is.dataView(t),"DataView",t),enumCase:(t,i)=>assertType(is.enumCase(t,i),"EnumCase",t),urlInstance:t=>assertType(is.urlInstance(t),"URL",t),urlString:t=>assertType(is.urlString(t),"string with a URL",t),truthy:t=>assertType(is.truthy(t),"truthy",t),falsy:t=>assertType(is.falsy(t),"falsy",t),nan:t=>assertType(is.nan(t),"NaN",t),primitive:t=>assertType(is.primitive(t),"primitive",t),integer:t=>assertType(is.integer(t),"integer",t),safeInteger:t=>assertType(is.safeInteger(t),"integer",t),plainObject:t=>assertType(is.plainObject(t),"plain object",t),typedArray:t=>assertType(is.typedArray(t),"TypedArray",t),arrayLike:t=>assertType(is.arrayLike(t),"array-like",t),domElement:t=>assertType(is.domElement(t),"HTMLElement",t),observable:t=>assertType(is.observable(t),"Observable",t),nodeStream:t=>assertType(is.nodeStream(t),"Node.js Stream",t),infinite:t=>assertType(is.infinite(t),"infinite number",t),emptyArray:t=>assertType(is.emptyArray(t),"empty array",t),nonEmptyArray:t=>assertType(is.nonEmptyArray(t),"non-empty array",t),emptyString:t=>assertType(is.emptyString(t),"empty string",t),emptyStringOrWhitespace:t=>assertType(is.emptyStringOrWhitespace(t),"empty string or whitespace",t),nonEmptyString:t=>assertType(is.nonEmptyString(t),"non-empty string",t),nonEmptyStringAndNotWhitespace:t=>assertType(is.nonEmptyStringAndNotWhitespace(t),"non-empty string and not whitespace",t),emptyObject:t=>assertType(is.emptyObject(t),"empty object",t),nonEmptyObject:t=>assertType(is.nonEmptyObject(t),"non-empty object",t),emptySet:t=>assertType(is.emptySet(t),"empty set",t),nonEmptySet:t=>assertType(is.nonEmptySet(t),"non-empty set",t),emptyMap:t=>assertType(is.emptyMap(t),"empty map",t),nonEmptyMap:t=>assertType(is.nonEmptyMap(t),"non-empty map",t),propertyKey:t=>assertType(is.propertyKey(t),"PropertyKey",t),formData:t=>assertType(is.formData(t),"FormData",t),urlSearchParams:t=>assertType(is.urlSearchParams(t),"URLSearchParams",t),evenInteger:t=>assertType(is.evenInteger(t),"even integer",t),oddInteger:t=>assertType(is.oddInteger(t),"odd integer",t),directInstanceOf:(t,i)=>assertType(is.directInstanceOf(t,i),"T",t),inRange:(t,i)=>assertType(is.inRange(t,i),"in range",t),any:(t,...i)=>assertType(is.any(t,...i),"predicate returns truthy for any value",i,{multipleValues:true}),all:(t,...i)=>assertType(is.all(t,...i),"predicate returns truthy for all values",i,{multipleValues:true})};Object.defineProperties(is,{class:{value:is.class_},function:{value:is.function_},null:{value:is.null_}});Object.defineProperties(wi,{class:{value:wi.class_},function:{value:wi.function_},null:{value:wi.null_}});const _i=is;const vi=require("node:events");class CancelError extends Error{constructor(t){super(t||"Promise was canceled");this.name="CancelError"}get isCanceled(){return true}}class PCancelable{static fn(t){return(...i)=>new PCancelable(((r,o,a)=>{i.push(a);t(...i).then(r,o)}))}constructor(t){this._cancelHandlers=[];this._isPending=true;this._isCanceled=false;this._rejectOnCancel=true;this._promise=new Promise(((i,r)=>{this._reject=r;const onResolve=t=>{if(!this._isCanceled||!onCancel.shouldReject){this._isPending=false;i(t)}};const onReject=t=>{this._isPending=false;r(t)};const onCancel=t=>{if(!this._isPending){throw new Error("The `onCancel` handler was attached after the promise settled.")}this._cancelHandlers.push(t)};Object.defineProperties(onCancel,{shouldReject:{get:()=>this._rejectOnCancel,set:t=>{this._rejectOnCancel=t}}});t(onResolve,onReject,onCancel)}))}then(t,i){return this._promise.then(t,i)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(t){if(!this._isPending||this._isCanceled){return}this._isCanceled=true;if(this._cancelHandlers.length>0){try{for(const t of this._cancelHandlers){t()}}catch(t){this._reject(t);return}}if(this._rejectOnCancel){this._reject(new CancelError(t))}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(PCancelable.prototype,Promise.prototype);function isRequest(t){return _i.object(t)&&"_onResponse"in t}class RequestError extends Error{constructor(t,i,r){super(t);Object.defineProperty(this,"input",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"code",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"stack",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"response",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"request",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"timings",{enumerable:true,configurable:true,writable:true,value:void 0});Error.captureStackTrace(this,this.constructor);this.name="RequestError";this.code=i.code??"ERR_GOT_REQUEST_ERROR";this.input=i.input;if(isRequest(r)){Object.defineProperty(this,"request",{enumerable:false,value:r});Object.defineProperty(this,"response",{enumerable:false,value:r.response});this.options=r.options}else{this.options=r}this.timings=this.request?.timings;if(_i.string(i.stack)&&_i.string(this.stack)){const t=this.stack.indexOf(this.message)+this.message.length;const r=this.stack.slice(t).split("\n").reverse();const o=i.stack.slice(i.stack.indexOf(i.message)+i.message.length).split("\n").reverse();while(o.length>0&&o[0]===r[0]){r.shift()}this.stack=`${this.stack.slice(0,t)}${r.reverse().join("\n")}${o.reverse().join("\n")}`}}}class MaxRedirectsError extends RequestError{constructor(t){super(`Redirected ${t.options.maxRedirects} times. Aborting.`,{},t);this.name="MaxRedirectsError";this.code="ERR_TOO_MANY_REDIRECTS"}}class HTTPError extends RequestError{constructor(t){super(`Response code ${t.statusCode} (${t.statusMessage})`,{},t.request);this.name="HTTPError";this.code="ERR_NON_2XX_3XX_RESPONSE"}}class CacheError extends RequestError{constructor(t,i){super(t.message,t,i);this.name="CacheError";this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}}class UploadError extends RequestError{constructor(t,i){super(t.message,t,i);this.name="UploadError";this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}}class TimeoutError extends RequestError{constructor(t,i,r){super(t.message,t,r);Object.defineProperty(this,"timings",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"event",{enumerable:true,configurable:true,writable:true,value:void 0});this.name="TimeoutError";this.event=t.event;this.timings=i}}class ReadError extends RequestError{constructor(t,i){super(t.message,t,i);this.name="ReadError";this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}}class RetryError extends RequestError{constructor(t){super("Retrying",{},t);this.name="RetryError";this.code="ERR_RETRYING"}}class AbortError extends RequestError{constructor(t){super("This operation was aborted.",{},t);this.code="ERR_ABORTED";this.name="AbortError"}}const Ei=require("node:buffer");const Si=require("node:http");var xi=__nccwpck_require__(3893);const timer=t=>{if(t.timings){return t.timings}const i={start:Date.now(),socket:undefined,lookup:undefined,connect:undefined,secureConnect:undefined,upload:undefined,response:undefined,end:undefined,error:undefined,abort:undefined,phases:{wait:undefined,dns:undefined,tcp:undefined,tls:undefined,request:undefined,firstByte:undefined,download:undefined,total:undefined}};t.timings=i;const handleError=t=>{t.once(Fe.errorMonitor,(()=>{i.error=Date.now();i.phases.total=i.error-i.start}))};handleError(t);const onAbort=()=>{i.abort=Date.now();i.phases.total=i.abort-i.start};t.prependOnceListener("abort",onAbort);const onSocket=t=>{i.socket=Date.now();i.phases.wait=i.socket-i.start;if(ee.types.isProxy(t)){return}const lookupListener=()=>{i.lookup=Date.now();i.phases.dns=i.lookup-i.socket};t.prependOnceListener("lookup",lookupListener);xi(t,{connect:()=>{i.connect=Date.now();if(i.lookup===undefined){t.removeListener("lookup",lookupListener);i.lookup=i.connect;i.phases.dns=i.lookup-i.socket}i.phases.tcp=i.connect-i.lookup},secureConnect:()=>{i.secureConnect=Date.now();i.phases.tls=i.secureConnect-i.connect}})};if(t.socket){onSocket(t.socket)}else{t.prependOnceListener("socket",onSocket)}const onUpload=()=>{i.upload=Date.now();i.phases.request=i.upload-(i.secureConnect??i.connect)};if(t.writableFinished){onUpload()}else{t.prependOnceListener("finish",onUpload)}t.prependOnceListener("response",(r=>{i.response=Date.now();i.phases.firstByte=i.response-i.upload;r.timings=i;handleError(r);r.prependOnceListener("end",(()=>{t.off("abort",onAbort);r.off("aborted",onAbort);if(i.phases.total){return}i.end=Date.now();i.phases.download=i.end-i.response;i.phases.total=i.end-i.start}));r.prependOnceListener("aborted",onAbort)}));return i};const Oi=timer;const Ti=require("node:crypto");const Ri="text/plain";const ki="us-ascii";const testParameter=(t,i)=>i.some((i=>i instanceof RegExp?i.test(t):i===t));const Ai=new Set(["https:","http:","file:"]);const hasCustomProtocol=t=>{try{const{protocol:i}=new URL(t);return i.endsWith(":")&&!Ai.has(i)}catch{return false}};const normalizeDataURL=(t,{stripHash:i})=>{const r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r){throw new Error(`Invalid URL: ${t}`)}let{type:o,data:a,hash:h}=r.groups;const l=o.split(";");h=i?"":h;let c=false;if(l[l.length-1]==="base64"){l.pop();c=true}const u=l.shift()?.toLowerCase()??"";const d=l.map((t=>{let[i,r=""]=t.split("=").map((t=>t.trim()));if(i==="charset"){r=r.toLowerCase();if(r===ki){return""}}return`${i}${r?`=${r}`:""}`})).filter(Boolean);const p=[...d];if(c){p.push("base64")}if(p.length>0||u&&u!==Ri){p.unshift(u)}return`data:${p.join(";")},${c?a.trim():a}${h?`#${h}`:""}`};function normalizeUrl(t,i){i={defaultProtocol:"http",normalizeProtocol:true,forceHttp:false,forceHttps:false,stripAuthentication:true,stripHash:false,stripTextFragment:true,stripWWW:true,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:true,removeSingleSlash:true,removeDirectoryIndex:false,removeExplicitPort:false,sortQueryParameters:true,...i};if(typeof i.defaultProtocol==="string"&&!i.defaultProtocol.endsWith(":")){i.defaultProtocol=`${i.defaultProtocol}:`}t=t.trim();if(/^data:/i.test(t)){return normalizeDataURL(t,i)}if(hasCustomProtocol(t)){return t}const r=t.startsWith("//");const o=!r&&/^\.*\//.test(t);if(!o){t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,i.defaultProtocol)}const a=new URL(t);if(i.forceHttp&&i.forceHttps){throw new Error("The `forceHttp` and `forceHttps` options cannot be used together")}if(i.forceHttp&&a.protocol==="https:"){a.protocol="http:"}if(i.forceHttps&&a.protocol==="http:"){a.protocol="https:"}if(i.stripAuthentication){a.username="";a.password=""}if(i.stripHash){a.hash=""}else if(i.stripTextFragment){a.hash=a.hash.replace(/#?:~:text.*?$/i,"")}if(a.pathname){const t=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let i=0;let r="";for(;;){const o=t.exec(a.pathname);if(!o){break}const h=o[0];const l=o.index;const c=a.pathname.slice(i,l);r+=c.replace(/\/{2,}/g,"/");r+=h;i=l+h.length}const o=a.pathname.slice(i,a.pathname.length);r+=o.replace(/\/{2,}/g,"/");a.pathname=r}if(a.pathname){try{a.pathname=decodeURI(a.pathname)}catch{}}if(i.removeDirectoryIndex===true){i.removeDirectoryIndex=[/^index\.[a-z]+$/]}if(Array.isArray(i.removeDirectoryIndex)&&i.removeDirectoryIndex.length>0){let t=a.pathname.split("/");const r=t[t.length-1];if(testParameter(r,i.removeDirectoryIndex)){t=t.slice(0,-1);a.pathname=t.slice(1).join("/")+"/"}}if(a.hostname){a.hostname=a.hostname.replace(/\.$/,"");if(i.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(a.hostname)){a.hostname=a.hostname.replace(/^www\./,"")}}if(Array.isArray(i.removeQueryParameters)){for(const t of[...a.searchParams.keys()]){if(testParameter(t,i.removeQueryParameters)){a.searchParams.delete(t)}}}if(!Array.isArray(i.keepQueryParameters)&&i.removeQueryParameters===true){a.search=""}if(Array.isArray(i.keepQueryParameters)&&i.keepQueryParameters.length>0){for(const t of[...a.searchParams.keys()]){if(!testParameter(t,i.keepQueryParameters)){a.searchParams.delete(t)}}}if(i.sortQueryParameters){a.searchParams.sort();try{a.search=decodeURIComponent(a.search)}catch{}}if(i.removeTrailingSlash){a.pathname=a.pathname.replace(/\/$/,"")}if(i.removeExplicitPort&&a.port){a.port=""}const h=t;t=a.toString();if(!i.removeSingleSlash&&a.pathname==="/"&&!h.endsWith("/")&&a.hash===""){t=t.replace(/\/$/,"")}if((i.removeTrailingSlash||a.pathname==="/")&&a.hash===""&&i.removeSingleSlash){t=t.replace(/\/$/,"")}if(r&&!i.normalizeProtocol){t=t.replace(/^http:\/\//,"//")}if(i.stripProtocol){t=t.replace(/^(?:https?:)?\/\//,"")}return t}var Ci=__nccwpck_require__(5320);var Pi=__nccwpck_require__(1522);function lowercaseKeys(t){return Object.fromEntries(Object.entries(t).map((([t,i])=>[t.toLowerCase(),i])))}class Response extends ci.Readable{statusCode;headers;body;url;constructor({statusCode:t,headers:i,body:r,url:o}){if(typeof t!=="number"){throw new TypeError("Argument `statusCode` should be a number")}if(typeof i!=="object"){throw new TypeError("Argument `headers` should be an object")}if(!(r instanceof Uint8Array)){throw new TypeError("Argument `body` should be a buffer")}if(typeof o!=="string"){throw new TypeError("Argument `url` should be a string")}super({read(){this.push(r);this.push(null)}});this.statusCode=t;this.headers=lowercaseKeys(i);this.body=r;this.url=o}}var Ii=__nccwpck_require__(7985);const Li=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];function mimicResponse(t,i){if(i._readableState.autoDestroy){throw new Error("The second stream must have the `autoDestroy` option set to `false`")}const r=new Set([...Object.keys(t),...Li]);const o={};for(const a of r){if(a in i){continue}o[a]={get(){const i=t[a];const r=typeof i==="function";return r?i.bind(t):i},set(i){t[a]=i},enumerable:true,configurable:false}}Object.defineProperties(i,o);t.once("aborted",(()=>{i.destroy();i.emit("aborted")}));t.once("close",(()=>{if(t.complete){if(i.readable){i.once("end",(()=>{i.emit("close")}))}else{i.emit("close")}}else{i.emit("close")}}));return i}class types_RequestError extends Error{constructor(t){super(t.message);Object.assign(this,t)}}class types_CacheError extends Error{constructor(t){super(t.message);Object.assign(this,t)}}class CacheableRequest{constructor(t,i){this.hooks=new Map;this.request=()=>(t,i)=>{let r;if(typeof t==="string"){r=normalizeUrlObject(hi.parse(t));t={}}else if(t instanceof hi.URL){r=normalizeUrlObject(hi.parse(t.toString()));t={}}else{const[i,...o]=(t.path??"").split("?");const a=o.length>0?`?${o.join("?")}`:"";r=normalizeUrlObject({...t,pathname:i,search:a})}t={headers:{},method:"GET",cache:true,strictTtl:false,automaticFailover:false,...t,...urlObjectToRequestOptions(r)};t.headers=Object.fromEntries(Ni(t.headers).map((([t,i])=>[t.toLowerCase(),i])));const o=new vi;const a=normalizeUrl(hi.format(r),{stripWWW:false,removeTrailingSlash:false,stripAuthentication:false});let h=`${t.method}:${a}`;if(t.body&&t.method!==undefined&&["POST","PATCH","PUT"].includes(t.method)){if(t.body instanceof ci.Readable){t.cache=false}else{h+=`:${Ti.createHash("md5").update(t.body).digest("hex")}`}}let l=false;let c=false;const makeRequest=t=>{c=true;let r=false;let requestErrorCallback=()=>{};const a=new Promise((t=>{requestErrorCallback=()=>{if(!r){r=true;t()}}}));const handler=async r=>{if(l){r.status=r.statusCode;const i=Pi.fromObject(l.cachePolicy).revalidatedPolicy(t,r);if(!i.modified){r.resume();await new Promise((t=>{r.once("end",t)}));const t=convertHeaders(i.policy.responseHeaders());r=new Response({statusCode:l.statusCode,headers:t,body:l.body,url:l.url});r.cachePolicy=i.policy;r.fromCache=true}}if(!r.fromCache){r.cachePolicy=new Pi(t,r,t);r.fromCache=false}let c;if(t.cache&&r.cachePolicy.storable()){c=cloneResponse(r);(async()=>{try{const i=Ci.buffer(r);await Promise.race([a,new Promise((t=>r.once("end",t))),new Promise((t=>r.once("close",t)))]);const o=await i;let c={url:r.url,statusCode:r.fromCache?l.statusCode:r.statusCode,body:o,cachePolicy:r.cachePolicy.toObject()};let u=t.strictTtl?r.cachePolicy.timeToLive():undefined;if(t.maxTtl){u=u?Math.min(u,t.maxTtl):t.maxTtl}if(this.hooks.size>0){for(const t of this.hooks.keys()){c=await this.runHook(t,c,r)}}await this.cache.set(h,c,u)}catch(t){o.emit("error",new types_CacheError(t))}})()}else if(t.cache&&l){(async()=>{try{await this.cache.delete(h)}catch(t){o.emit("error",new types_CacheError(t))}})()}o.emit("response",c??r);if(typeof i==="function"){i(c??r)}};try{const i=this.cacheRequest(t,handler);i.once("error",requestErrorCallback);i.once("abort",requestErrorCallback);i.once("destroy",requestErrorCallback);o.emit("request",i)}catch(t){o.emit("error",new types_RequestError(t))}};(async()=>{const get=async t=>{await Promise.resolve();const r=t.cache?await this.cache.get(h):undefined;if(r===undefined&&!t.forceRefresh){makeRequest(t);return}const a=Pi.fromObject(r.cachePolicy);if(a.satisfiesWithoutRevalidation(t)&&!t.forceRefresh){const t=convertHeaders(a.responseHeaders());const h=new Response({statusCode:r.statusCode,headers:t,body:r.body,url:r.url});h.cachePolicy=a;h.fromCache=true;o.emit("response",h);if(typeof i==="function"){i(h)}}else if(a.satisfiesWithoutRevalidation(t)&&Date.now()>=a.timeToLive()&&t.forceRefresh){await this.cache.delete(h);t.headers=a.revalidationHeaders(t);makeRequest(t)}else{l=r;t.headers=a.revalidationHeaders(t);makeRequest(t)}};const errorHandler=t=>o.emit("error",new types_CacheError(t));if(this.cache instanceof Ii){const t=this.cache;t.once("error",errorHandler);o.on("error",(()=>t.removeListener("error",errorHandler)));o.on("response",(()=>t.removeListener("error",errorHandler)))}try{await get(t)}catch(i){if(t.automaticFailover&&!c){makeRequest(t)}o.emit("error",new types_CacheError(i))}})();return o};this.addHook=(t,i)=>{if(!this.hooks.has(t)){this.hooks.set(t,i)}};this.removeHook=t=>this.hooks.delete(t);this.getHook=t=>this.hooks.get(t);this.runHook=async(t,...i)=>this.hooks.get(t)?.(...i);if(i instanceof Ii){this.cache=i}else if(typeof i==="string"){this.cache=new Ii({uri:i,namespace:"cacheable-request"})}else{this.cache=new Ii({store:i,namespace:"cacheable-request"})}this.request=this.request.bind(this);this.cacheRequest=t}}const Ni=Object.entries;const cloneResponse=t=>{const i=new ci.PassThrough({autoDestroy:false});mimicResponse(t,i);return t.pipe(i)};const urlObjectToRequestOptions=t=>{const i={...t};i.path=`${t.pathname||"/"}${t.search||""}`;delete i.pathname;delete i.search;return i};const normalizeUrlObject=t=>({protocol:t.protocol,auth:t.auth,hostname:t.hostname||t.host||"localhost",port:t.port,pathname:t.pathname,search:t.search});const convertHeaders=t=>{const i=[];for(const r of Object.keys(t)){i[r.toLowerCase()]=t[r]}return i};const Mi=CacheableRequest;const Di="onResponse";var $i=__nccwpck_require__(5904);const isFunction=t=>typeof t==="function";const isFormData=t=>Boolean(t&&isFunction(t.constructor)&&t[Symbol.toStringTag]==="FormData"&&isFunction(t.append)&&isFunction(t.getAll)&&isFunction(t.entries)&&isFunction(t[Symbol.iterator]));const isAsyncIterable=t=>isFunction(t[Symbol.asyncIterator]);async function*readStream(t){const i=t.getReader();while(true){const{done:t,value:r}=await i.read();if(t){break}yield r}}const getStreamIterator=t=>{if(isAsyncIterable(t)){return t}if(isFunction(t.getReader)){return readStream(t)}throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")};const ji="abcdefghijklmnopqrstuvwxyz0123456789";function createBoundary(){let t=16;let i="";while(t--){i+=ji[Math.random()*ji.length<<0]}return i}const normalizeValue=t=>String(t).replace(/\r|\n/g,((t,i,r)=>{if(t==="\r"&&r[i+1]!=="\n"||t==="\n"&&r[i-1]!=="\r"){return"\r\n"}return t}));const getType=t=>Object.prototype.toString.call(t).slice(8,-1).toLowerCase();function isPlainObject(t){if(getType(t)!=="object"){return false}const i=Object.getPrototypeOf(t);if(i===null||i===undefined){return true}const r=i.constructor&&i.constructor.toString();return r===Object.toString()}function getProperty(t,i){if(typeof i==="string"){for(const[r,o]of Object.entries(t)){if(i.toLowerCase()===r.toLowerCase()){return o}}}return undefined}const proxyHeaders=t=>new Proxy(t,{get:(t,i)=>getProperty(t,i),has:(t,i)=>getProperty(t,i)!==undefined});const escapeName=t=>String(t).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22");const isFile=t=>Boolean(t&&typeof t==="object"&&isFunction(t.constructor)&&t[Symbol.toStringTag]==="File"&&isFunction(t.stream)&&t.name!=null);const Fi=null&&isFile;var Bi=undefined&&undefined.__classPrivateFieldSet||function(t,i,r,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof i==="function"?t!==i||!a:!i.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(t,r):a?a.value=r:i.set(t,r),r};var Hi=undefined&&undefined.__classPrivateFieldGet||function(t,i,r,o){if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i==="function"?t!==i||!o:!i.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?o:r==="a"?o.call(t):o?o.value:i.get(t)};var zi,Ui,qi,Gi,Wi,Vi,Yi,Zi,Xi,Ji,Ki;const Qi={enableAdditionalHeaders:false};const er={writable:false,configurable:false};class FormDataEncoder{constructor(t,i,r){zi.add(this);Ui.set(this,"\r\n");qi.set(this,void 0);Gi.set(this,void 0);Wi.set(this,"-".repeat(2));Vi.set(this,new TextEncoder);Yi.set(this,void 0);Zi.set(this,void 0);Xi.set(this,void 0);if(!isFormData(t)){throw new TypeError("Expected first argument to be a FormData instance.")}let o;if(isPlainObject(i)){r=i}else{o=i}if(!o){o=createBoundary()}if(typeof o!=="string"){throw new TypeError("Expected boundary argument to be a string.")}if(r&&!isPlainObject(r)){throw new TypeError("Expected options argument to be an object.")}Bi(this,Zi,Array.from(t.entries()),"f");Bi(this,Xi,{...Qi,...r},"f");Bi(this,qi,Hi(this,Vi,"f").encode(Hi(this,Ui,"f")),"f");Bi(this,Gi,Hi(this,qi,"f").byteLength,"f");this.boundary=`form-data-boundary-${o}`;this.contentType=`multipart/form-data; boundary=${this.boundary}`;Bi(this,Yi,Hi(this,Vi,"f").encode(`${Hi(this,Wi,"f")}${this.boundary}${Hi(this,Wi,"f")}${Hi(this,Ui,"f").repeat(2)}`),"f");const a={"Content-Type":this.contentType};const h=Hi(this,zi,"m",Ki).call(this);if(h){this.contentLength=h;a["Content-Length"]=h}this.headers=proxyHeaders(Object.freeze(a));Object.defineProperties(this,{boundary:er,contentType:er,contentLength:er,headers:er})}getContentLength(){return this.contentLength==null?undefined:Number(this.contentLength)}*values(){for(const[t,i]of Hi(this,Zi,"f")){const r=isFile(i)?i:Hi(this,Vi,"f").encode(normalizeValue(i));yield Hi(this,zi,"m",Ji).call(this,t,r);yield r;yield Hi(this,qi,"f")}yield Hi(this,Yi,"f")}async*encode(){for(const t of this.values()){if(isFile(t)){yield*getStreamIterator(t.stream())}else{yield t}}}[(Ui=new WeakMap,qi=new WeakMap,Gi=new WeakMap,Wi=new WeakMap,Vi=new WeakMap,Yi=new WeakMap,Zi=new WeakMap,Xi=new WeakMap,zi=new WeakSet,Ji=function _FormDataEncoder_getFieldHeader(t,i){let r="";r+=`${Hi(this,Wi,"f")}${this.boundary}${Hi(this,Ui,"f")}`;r+=`Content-Disposition: form-data; name="${escapeName(t)}"`;if(isFile(i)){r+=`; filename="${escapeName(i.name)}"${Hi(this,Ui,"f")}`;r+=`Content-Type: ${i.type||"application/octet-stream"}`}const o=isFile(i)?i.size:i.byteLength;if(Hi(this,Xi,"f").enableAdditionalHeaders===true&&o!=null&&!isNaN(o)){r+=`${Hi(this,Ui,"f")}Content-Length: ${isFile(i)?i.size:i.byteLength}`}return Hi(this,Vi,"f").encode(`${r}${Hi(this,Ui,"f").repeat(2)}`)},Ki=function _FormDataEncoder_getContentLength(){let t=0;for(const[i,r]of Hi(this,Zi,"f")){const o=isFile(r)?r:Hi(this,Vi,"f").encode(normalizeValue(r));const a=isFile(o)?o.size:o.byteLength;if(a==null||isNaN(a)){return undefined}t+=Hi(this,zi,"m",Ji).call(this,i,o).byteLength;t+=a;t+=Hi(this,Gi,"f")}return String(t+Hi(this,Yi,"f").byteLength)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}}function is_form_data_isFormData(t){return _i.nodeStream(t)&&_i.function_(t.getBoundary)}async function getBodySize(t,i){if(i&&"content-length"in i){return Number(i["content-length"])}if(!t){return 0}if(_i.string(t)){return Ei.Buffer.byteLength(t)}if(_i.buffer(t)){return t.length}if(is_form_data_isFormData(t)){return(0,ui.promisify)(t.getLength.bind(t))()}return undefined}function proxyEvents(t,i,r){const o={};for(const a of r){const eventFunction=(...t)=>{i.emit(a,...t)};o[a]=eventFunction;t.on(a,eventFunction)}return()=>{for(const[i,r]of Object.entries(o)){t.off(i,r)}}}const tr=require("node:net");function unhandle(){const t=[];return{once(i,r,o){i.once(r,o);t.push({origin:i,event:r,fn:o})},unhandleAll(){for(const i of t){const{origin:t,event:r,fn:o}=i;t.removeListener(r,o)}t.length=0}}}const sr=Symbol("reentry");const noop=()=>{};class timed_out_TimeoutError extends Error{constructor(t,i){super(`Timeout awaiting '${i}' for ${t}ms`);Object.defineProperty(this,"event",{enumerable:true,configurable:true,writable:true,value:i});Object.defineProperty(this,"code",{enumerable:true,configurable:true,writable:true,value:void 0});this.name="TimeoutError";this.code="ETIMEDOUT"}}function timedOut(t,i,r){if(sr in t){return noop}t[sr]=true;const o=[];const{once:a,unhandleAll:h}=unhandle();const addTimeout=(t,i,r)=>{const a=setTimeout(i,t,t,r);a.unref?.();const cancel=()=>{clearTimeout(a)};o.push(cancel);return cancel};const{host:l,hostname:c}=r;const timeoutHandler=(i,r)=>{t.destroy(new timed_out_TimeoutError(i,r))};const cancelTimeouts=()=>{for(const t of o){t()}h()};t.once("error",(i=>{cancelTimeouts();if(t.listenerCount("error")===0){throw i}}));if(typeof i.request!=="undefined"){const r=addTimeout(i.request,timeoutHandler,"request");a(t,"response",(t=>{a(t,"end",r)}))}if(typeof i.socket!=="undefined"){const{socket:r}=i;const socketTimeoutHandler=()=>{timeoutHandler(r,"socket")};t.setTimeout(r,socketTimeoutHandler);o.push((()=>{t.removeListener("timeout",socketTimeoutHandler)}))}const u=typeof i.lookup!=="undefined";const d=typeof i.connect!=="undefined";const p=typeof i.secureConnect!=="undefined";const g=typeof i.send!=="undefined";if(u||d||p||g){a(t,"socket",(o=>{const{socketPath:h}=t;if(o.connecting){const t=Boolean(h??tr.isIP(c??l??"")!==0);if(u&&!t&&typeof o.address().address==="undefined"){const t=addTimeout(i.lookup,timeoutHandler,"lookup");a(o,"lookup",t)}if(d){const timeConnect=()=>addTimeout(i.connect,timeoutHandler,"connect");if(t){a(o,"connect",timeConnect())}else{a(o,"lookup",(t=>{if(t===null){a(o,"connect",timeConnect())}}))}}if(p&&r.protocol==="https:"){a(o,"connect",(()=>{const t=addTimeout(i.secureConnect,timeoutHandler,"secureConnect");a(o,"secureConnect",t)}))}}if(g){const timeRequest=()=>addTimeout(i.send,timeoutHandler,"send");if(o.connecting){a(o,"connect",(()=>{a(t,"upload-complete",timeRequest())}))}else{a(t,"upload-complete",timeRequest())}}}))}if(typeof i.response!=="undefined"){a(t,"upload-complete",(()=>{const r=addTimeout(i.response,timeoutHandler,"response");a(t,"response",r)}))}if(typeof i.read!=="undefined"){a(t,"response",(t=>{const r=addTimeout(i.read,timeoutHandler,"read");a(t,"end",r)}))}return cancelTimeouts}function urlToOptions(t){t=t;const i={protocol:t.protocol,hostname:_i.string(t.hostname)&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};if(_i.string(t.port)&&t.port.length>0){i.port=Number(t.port)}if(t.username||t.password){i.auth=`${t.username||""}:${t.password||""}`}return i}class WeakableMap{constructor(){Object.defineProperty(this,"weakMap",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"map",{enumerable:true,configurable:true,writable:true,value:void 0});this.weakMap=new WeakMap;this.map=new Map}set(t,i){if(typeof t==="object"){this.weakMap.set(t,i)}else{this.map.set(t,i)}}get(t){if(typeof t==="object"){return this.weakMap.get(t)}return this.map.get(t)}has(t){if(typeof t==="object"){return this.weakMap.has(t)}return this.map.has(t)}}const calculateRetryDelay=({attemptCount:t,retryOptions:i,error:r,retryAfter:o,computedValue:a})=>{if(r.name==="RetryError"){return 1}if(t>i.limit){return 0}const h=i.methods.includes(r.options.method);const l=i.errorCodes.includes(r.code);const c=r.response&&i.statusCodes.includes(r.response.statusCode);if(!h||!l&&!c){return 0}if(r.response){if(o){if(o>a){return 0}return o}if(r.response.statusCode===413){return 0}}const u=Math.random()*i.noise;return Math.min(2**(t-1)*1e3,i.backoffLimit)+u};const ir=calculateRetryDelay;const rr=require("node:tls");const nr=require("node:https");const{Resolver:or}=oi.promises;const ar=Symbol("cacheableLookupCreateConnection");const hr=Symbol("cacheableLookupInstance");const lr=Symbol("expires");const cr=typeof oi.ALL==="number";const verifyAgent=t=>{if(!(t&&typeof t.createConnection==="function")){throw new Error("Expected an Agent instance as the first argument")}};const map4to6=t=>{for(const i of t){if(i.family===6){continue}i.address=`::ffff:${i.address}`;i.family=6}};const getIfaceInfo=()=>{let t=false;let i=false;for(const r of Object.values(y.networkInterfaces())){for(const o of r){if(o.internal){continue}if(o.family==="IPv6"){i=true}else{t=true}if(t&&i){return{has4:t,has6:i}}}}return{has4:t,has6:i}};const isIterable=t=>Symbol.iterator in t;const ignoreNoResultErrors=t=>t.catch((t=>{if(t.code==="ENODATA"||t.code==="ENOTFOUND"||t.code==="ENOENT"){return[]}throw t}));const ur={ttl:true};const fr={all:true};const dr={all:true,family:4};const pr={all:true,family:6};class CacheableLookup{constructor({cache:t=new Map,maxTtl:i=Infinity,fallbackDuration:r=3600,errorTtl:o=.15,resolver:a=new or,lookup:h=oi.lookup}={}){this.maxTtl=i;this.errorTtl=o;this._cache=t;this._resolver=a;this._dnsLookup=h&&(0,ui.promisify)(h);this.stats={cache:0,query:0};if(this._resolver instanceof or){this._resolve4=this._resolver.resolve4.bind(this._resolver);this._resolve6=this._resolver.resolve6.bind(this._resolver)}else{this._resolve4=(0,ui.promisify)(this._resolver.resolve4.bind(this._resolver));this._resolve6=(0,ui.promisify)(this._resolver.resolve6.bind(this._resolver))}this._iface=getIfaceInfo();this._pending={};this._nextRemovalTime=false;this._hostnamesToFallback=new Set;this.fallbackDuration=r;if(r>0){const t=setInterval((()=>{this._hostnamesToFallback.clear()}),r*1e3);if(t.unref){t.unref()}this._fallbackInterval=t}this.lookup=this.lookup.bind(this);this.lookupAsync=this.lookupAsync.bind(this)}set servers(t){this.clear();this._resolver.setServers(t)}get servers(){return this._resolver.getServers()}lookup(t,i,r){if(typeof i==="function"){r=i;i={}}else if(typeof i==="number"){i={family:i}}if(!r){throw new Error("Callback must be a function.")}this.lookupAsync(t,i).then((t=>{if(i.all){r(null,t)}else{r(null,t.address,t.family,t.expires,t.ttl,t.source)}}),r)}async lookupAsync(t,i={}){if(typeof i==="number"){i={family:i}}let r=await this.query(t);if(i.family===6){const t=r.filter((t=>t.family===6));if(i.hints&oi.V4MAPPED){if(cr&&i.hints&oi.ALL||t.length===0){map4to6(r)}else{r=t}}else{r=t}}else if(i.family===4){r=r.filter((t=>t.family===4))}if(i.hints&oi.ADDRCONFIG){const{_iface:t}=this;r=r.filter((i=>i.family===6?t.has6:t.has4))}if(r.length===0){const i=new Error(`cacheableLookup ENOTFOUND ${t}`);i.code="ENOTFOUND";i.hostname=t;throw i}if(i.all){return r}return r[0]}async query(t){let i="cache";let r=await this._cache.get(t);if(r){this.stats.cache++}if(!r){const o=this._pending[t];if(o){this.stats.cache++;r=await o}else{i="query";const o=this.queryAndCache(t);this._pending[t]=o;this.stats.query++;try{r=await o}finally{delete this._pending[t]}}}r=r.map((t=>({...t,source:i})));return r}async _resolve(t){const[i,r]=await Promise.all([ignoreNoResultErrors(this._resolve4(t,ur)),ignoreNoResultErrors(this._resolve6(t,ur))]);let o=0;let a=0;let h=0;const l=Date.now();for(const t of i){t.family=4;t.expires=l+t.ttl*1e3;o=Math.max(o,t.ttl)}for(const t of r){t.family=6;t.expires=l+t.ttl*1e3;a=Math.max(a,t.ttl)}if(i.length>0){if(r.length>0){h=Math.min(o,a)}else{h=o}}else{h=a}return{entries:[...i,...r],cacheTtl:h}}async _lookup(t){try{const[i,r]=await Promise.all([ignoreNoResultErrors(this._dnsLookup(t,dr)),ignoreNoResultErrors(this._dnsLookup(t,pr))]);return{entries:[...i,...r],cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(t,i,r){if(this.maxTtl>0&&r>0){r=Math.min(r,this.maxTtl)*1e3;i[lr]=Date.now()+r;try{await this._cache.set(t,i,r)}catch(t){this.lookupAsync=async()=>{const i=new Error("Cache Error. Please recreate the CacheableLookup instance.");i.cause=t;throw i}}if(isIterable(this._cache)){this._tick(r)}}}async queryAndCache(t){if(this._hostnamesToFallback.has(t)){return this._dnsLookup(t,fr)}let i=await this._resolve(t);if(i.entries.length===0&&this._dnsLookup){i=await this._lookup(t);if(i.entries.length!==0&&this.fallbackDuration>0){this._hostnamesToFallback.add(t)}}const r=i.entries.length===0?this.errorTtl:i.cacheTtl;await this._set(t,i.entries,r);return i.entries}_tick(t){const i=this._nextRemovalTime;if(!i||t<i){clearTimeout(this._removalTimeout);this._nextRemovalTime=t;this._removalTimeout=setTimeout((()=>{this._nextRemovalTime=false;let t=Infinity;const i=Date.now();for(const[r,o]of this._cache){const a=o[lr];if(i>=a){this._cache.delete(r)}else if(a<t){t=a}}if(t!==Infinity){this._tick(t-i)}}),t);if(this._removalTimeout.unref){this._removalTimeout.unref()}}}install(t){verifyAgent(t);if(ar in t){throw new Error("CacheableLookup has been already installed")}t[ar]=t.createConnection;t[hr]=this;t.createConnection=(i,r)=>{if(!("lookup"in i)){i.lookup=this.lookup}return t[ar](i,r)}}uninstall(t){verifyAgent(t);if(t[ar]){if(t[hr]!==this){throw new Error("The agent is not owned by this CacheableLookup instance")}t.createConnection=t[ar];delete t[ar];delete t[hr]}}updateInterfaceInfo(){const{_iface:t}=this;this._iface=getIfaceInfo();if(t.has4&&!this._iface.has4||t.has6&&!this._iface.has6){this._cache.clear()}}clear(t){if(t){this._cache.delete(t);return}this._cache.clear()}}var mr=__nccwpck_require__(9048);function parseLinkHeader(t){const i=[];const r=t.split(",");for(const o of r){const[r,...a]=o.split(";");const h=r.trim();if(h[0]!=="<"||h[h.length-1]!==">"){throw new Error(`Invalid format of the Link header reference: ${h}`)}const l=h.slice(1,-1);const c={};if(a.length===0){throw new Error(`Unexpected end of Link header parameters: ${a.join(";")}`)}for(const i of a){const r=i.trim();const o=r.indexOf("=");if(o===-1){throw new Error(`Failed to parse Link header: ${t}`)}const a=r.slice(0,o).trim();const h=r.slice(o+1).trim();c[a]=h}i.push({reference:l,parameters:c})}return i}const[gr,yr]=g.versions.node.split(".").map(Number);function validateSearchParameters(t){for(const i in t){const r=t[i];wi.any([_i.string,_i.number,_i.boolean,_i.null_,_i.undefined],r)}}const br=new Map;let wr;const getGlobalDnsCache=()=>{if(wr){return wr}wr=new CacheableLookup;return wr};const _r={request:undefined,agent:{http:undefined,https:undefined,http2:undefined},h2session:undefined,decompress:true,timeout:{connect:undefined,lookup:undefined,read:undefined,request:undefined,response:undefined,secureConnect:undefined,send:undefined,socket:undefined},prefixUrl:"",body:undefined,form:undefined,json:undefined,cookieJar:undefined,ignoreInvalidCookies:false,searchParams:undefined,dnsLookup:undefined,dnsCache:undefined,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:true,maxRedirects:10,cache:undefined,throwHttpErrors:true,username:"",password:"",http2:false,allowGetBody:false,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:false,dnsLookupIpVersion:undefined,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:undefined,calculateDelay:({computedValue:t})=>t,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:undefined,method:"GET",createConnection:undefined,cacheOptions:{shared:undefined,cacheHeuristic:undefined,immutableMinTimeToLive:undefined,ignoreCargoCult:undefined},https:{alpnProtocols:undefined,rejectUnauthorized:undefined,checkServerIdentity:undefined,certificateAuthority:undefined,key:undefined,certificate:undefined,passphrase:undefined,pfx:undefined,ciphers:undefined,honorCipherOrder:undefined,minVersion:undefined,maxVersion:undefined,signatureAlgorithms:undefined,tlsSessionLifetime:undefined,dhparam:undefined,ecdhCurve:undefined,certificateRevocationLists:undefined},encoding:undefined,resolveBodyOnly:false,isStream:false,responseType:"text",url:undefined,pagination:{transform(t){if(t.request.options.responseType==="json"){return t.body}return JSON.parse(t.body)},paginate({response:t}){const i=t.headers.link;if(typeof i!=="string"||i.trim()===""){return false}const r=parseLinkHeader(i);const o=r.find((t=>t.parameters.rel==="next"||t.parameters.rel==='"next"'));if(o){return{url:new hi.URL(o.reference,t.url)}}return false},filter:()=>true,shouldContinue:()=>true,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:false},setHost:true,maxHeaderSize:undefined,signal:undefined,enableUnixSockets:true};const cloneInternals=t=>{const{hooks:i,retry:r}=t;const o={...t,context:{...t.context},cacheOptions:{...t.cacheOptions},https:{...t.https},agent:{...t.agent},headers:{...t.headers},retry:{...r,errorCodes:[...r.errorCodes],methods:[...r.methods],statusCodes:[...r.statusCodes]},timeout:{...t.timeout},hooks:{init:[...i.init],beforeRequest:[...i.beforeRequest],beforeError:[...i.beforeError],beforeRedirect:[...i.beforeRedirect],beforeRetry:[...i.beforeRetry],afterResponse:[...i.afterResponse]},searchParams:t.searchParams?new hi.URLSearchParams(t.searchParams):undefined,pagination:{...t.pagination}};if(o.url!==undefined){o.prefixUrl=""}return o};const cloneRaw=t=>{const{hooks:i,retry:r}=t;const o={...t};if(_i.object(t.context)){o.context={...t.context}}if(_i.object(t.cacheOptions)){o.cacheOptions={...t.cacheOptions}}if(_i.object(t.https)){o.https={...t.https}}if(_i.object(t.cacheOptions)){o.cacheOptions={...o.cacheOptions}}if(_i.object(t.agent)){o.agent={...t.agent}}if(_i.object(t.headers)){o.headers={...t.headers}}if(_i.object(r)){o.retry={...r};if(_i.array(r.errorCodes)){o.retry.errorCodes=[...r.errorCodes]}if(_i.array(r.methods)){o.retry.methods=[...r.methods]}if(_i.array(r.statusCodes)){o.retry.statusCodes=[...r.statusCodes]}}if(_i.object(t.timeout)){o.timeout={...t.timeout}}if(_i.object(i)){o.hooks={...i};if(_i.array(i.init)){o.hooks.init=[...i.init]}if(_i.array(i.beforeRequest)){o.hooks.beforeRequest=[...i.beforeRequest]}if(_i.array(i.beforeError)){o.hooks.beforeError=[...i.beforeError]}if(_i.array(i.beforeRedirect)){o.hooks.beforeRedirect=[...i.beforeRedirect]}if(_i.array(i.beforeRetry)){o.hooks.beforeRetry=[...i.beforeRetry]}if(_i.array(i.afterResponse)){o.hooks.afterResponse=[...i.afterResponse]}}if(_i.object(t.pagination)){o.pagination={...t.pagination}}return o};const getHttp2TimeoutOption=t=>{const i=[t.timeout.socket,t.timeout.connect,t.timeout.lookup,t.timeout.request,t.timeout.secureConnect].filter((t=>typeof t==="number"));if(i.length>0){return Math.min(...i)}return undefined};const init=(t,i,r)=>{const o=t.hooks?.init;if(o){for(const t of o){t(i,r)}}};class Options{constructor(t,i,r){Object.defineProperty(this,"_unixOptions",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_internals",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_merging",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_init",{enumerable:true,configurable:true,writable:true,value:void 0});wi.any([_i.string,_i.urlInstance,_i.object,_i.undefined],t);wi.any([_i.object,_i.undefined],i);wi.any([_i.object,_i.undefined],r);if(t instanceof Options||i instanceof Options){throw new TypeError("The defaults must be passed as the third argument")}this._internals=cloneInternals(r?._internals??r??_r);this._init=[...r?._init??[]];this._merging=false;this._unixOptions=undefined;try{if(_i.plainObject(t)){try{this.merge(t);this.merge(i)}finally{this.url=t.url}}else{try{this.merge(i)}finally{if(i?.url!==undefined){if(t===undefined){this.url=i.url}else{throw new TypeError("The `url` option is mutually exclusive with the `input` argument")}}else if(t!==undefined){this.url=t}}}}catch(t){t.options=this;throw t}}merge(t){if(!t){return}if(t instanceof Options){for(const i of t._init){this.merge(i)}return}t=cloneRaw(t);init(this,t,this);init(t,t,this);this._merging=true;if("isStream"in t){this.isStream=t.isStream}try{let i=false;for(const r in t){if(r==="mutableDefaults"||r==="handlers"){continue}if(r==="url"){continue}if(!(r in this)){throw new Error(`Unexpected option: ${r}`)}this[r]=t[r];i=true}if(i){this._init.push(t)}}finally{this._merging=false}}get request(){return this._internals.request}set request(t){wi.any([_i.function_,_i.undefined],t);this._internals.request=t}get agent(){return this._internals.agent}set agent(t){wi.plainObject(t);for(const i in t){if(!(i in this._internals.agent)){throw new TypeError(`Unexpected agent option: ${i}`)}wi.any([_i.object,_i.undefined],t[i])}if(this._merging){Object.assign(this._internals.agent,t)}else{this._internals.agent={...t}}}get h2session(){return this._internals.h2session}set h2session(t){this._internals.h2session=t}get decompress(){return this._internals.decompress}set decompress(t){wi.boolean(t);this._internals.decompress=t}get timeout(){return this._internals.timeout}set timeout(t){wi.plainObject(t);for(const i in t){if(!(i in this._internals.timeout)){throw new Error(`Unexpected timeout option: ${i}`)}wi.any([_i.number,_i.undefined],t[i])}if(this._merging){Object.assign(this._internals.timeout,t)}else{this._internals.timeout={...t}}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(t){wi.any([_i.string,_i.urlInstance],t);if(t===""){this._internals.prefixUrl="";return}t=t.toString();if(!t.endsWith("/")){t+="/"}if(this._internals.prefixUrl&&this._internals.url){const{href:i}=this._internals.url;this._internals.url.href=t+i.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=t}get body(){return this._internals.body}set body(t){wi.any([_i.string,_i.buffer,_i.nodeStream,_i.generator,_i.asyncGenerator,isFormData,_i.undefined],t);if(_i.nodeStream(t)){wi.truthy(t.readable)}if(t!==undefined){wi.undefined(this._internals.form);wi.undefined(this._internals.json)}this._internals.body=t}get form(){return this._internals.form}set form(t){wi.any([_i.plainObject,_i.undefined],t);if(t!==undefined){wi.undefined(this._internals.body);wi.undefined(this._internals.json)}this._internals.form=t}get json(){return this._internals.json}set json(t){if(t!==undefined){wi.undefined(this._internals.body);wi.undefined(this._internals.form)}this._internals.json=t}get url(){return this._internals.url}set url(t){wi.any([_i.string,_i.urlInstance,_i.undefined],t);if(t===undefined){this._internals.url=undefined;return}if(_i.string(t)&&t.startsWith("/")){throw new Error("`url` must not start with a slash")}const i=`${this.prefixUrl}${t.toString()}`;const r=new hi.URL(i);this._internals.url=r;if(r.protocol==="unix:"){r.href=`http://unix${r.pathname}${r.search}`}if(r.protocol!=="http:"&&r.protocol!=="https:"){const t=new Error(`Unsupported protocol: ${r.protocol}`);t.code="ERR_UNSUPPORTED_PROTOCOL";throw t}if(this._internals.username){r.username=this._internals.username;this._internals.username=""}if(this._internals.password){r.password=this._internals.password;this._internals.password=""}if(this._internals.searchParams){r.search=this._internals.searchParams.toString();this._internals.searchParams=undefined}if(r.hostname==="unix"){if(!this._internals.enableUnixSockets){throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled")}const t=/(?<socketPath>.+?):(?<path>.+)/.exec(`${r.pathname}${r.search}`);if(t?.groups){const{socketPath:i,path:r}=t.groups;this._unixOptions={socketPath:i,path:r,host:""}}else{this._unixOptions=undefined}return}this._unixOptions=undefined}get cookieJar(){return this._internals.cookieJar}set cookieJar(t){wi.any([_i.object,_i.undefined],t);if(t===undefined){this._internals.cookieJar=undefined;return}let{setCookie:i,getCookieString:r}=t;wi.function_(i);wi.function_(r);if(i.length===4&&r.length===0){i=(0,ui.promisify)(i.bind(t));r=(0,ui.promisify)(r.bind(t));this._internals.cookieJar={setCookie:i,getCookieString:r}}else{this._internals.cookieJar=t}}get signal(){return this._internals.signal}set signal(t){wi.object(t);this._internals.signal=t}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(t){wi.boolean(t);this._internals.ignoreInvalidCookies=t}get searchParams(){if(this._internals.url){return this._internals.url.searchParams}if(this._internals.searchParams===undefined){this._internals.searchParams=new hi.URLSearchParams}return this._internals.searchParams}set searchParams(t){wi.any([_i.string,_i.object,_i.undefined],t);const i=this._internals.url;if(t===undefined){this._internals.searchParams=undefined;if(i){i.search=""}return}const r=this.searchParams;let o;if(_i.string(t)){o=new hi.URLSearchParams(t)}else if(t instanceof hi.URLSearchParams){o=t}else{validateSearchParameters(t);o=new hi.URLSearchParams;for(const i in t){const a=t[i];if(a===null){o.append(i,"")}else if(a===undefined){r.delete(i)}else{o.append(i,a)}}}if(this._merging){for(const t of o.keys()){r.delete(t)}for(const[t,i]of o){r.append(t,i)}}else if(i){i.search=r.toString()}else{this._internals.searchParams=r}}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(t){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(t){wi.any([_i.function_,_i.undefined],t);this._internals.dnsLookup=t}get dnsCache(){return this._internals.dnsCache}set dnsCache(t){wi.any([_i.object,_i.boolean,_i.undefined],t);if(t===true){this._internals.dnsCache=getGlobalDnsCache()}else if(t===false){this._internals.dnsCache=undefined}else{this._internals.dnsCache=t}}get context(){return this._internals.context}set context(t){wi.object(t);if(this._merging){Object.assign(this._internals.context,t)}else{this._internals.context={...t}}}get hooks(){return this._internals.hooks}set hooks(t){wi.object(t);for(const i in t){if(!(i in this._internals.hooks)){throw new Error(`Unexpected hook event: ${i}`)}const r=i;const o=t[r];wi.any([_i.array,_i.undefined],o);if(o){for(const t of o){wi.function_(t)}}if(this._merging){if(o){this._internals.hooks[r].push(...o)}}else{if(!o){throw new Error(`Missing hook event: ${i}`)}this._internals.hooks[i]=[...o]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(t){wi.boolean(t);this._internals.followRedirect=t}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(t){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(t){wi.number(t);this._internals.maxRedirects=t}get cache(){return this._internals.cache}set cache(t){wi.any([_i.object,_i.string,_i.boolean,_i.undefined],t);if(t===true){this._internals.cache=br}else if(t===false){this._internals.cache=undefined}else{this._internals.cache=t}}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(t){wi.boolean(t);this._internals.throwHttpErrors=t}get username(){const t=this._internals.url;const i=t?t.username:this._internals.username;return decodeURIComponent(i)}set username(t){wi.string(t);const i=this._internals.url;const r=encodeURIComponent(t);if(i){i.username=r}else{this._internals.username=r}}get password(){const t=this._internals.url;const i=t?t.password:this._internals.password;return decodeURIComponent(i)}set password(t){wi.string(t);const i=this._internals.url;const r=encodeURIComponent(t);if(i){i.password=r}else{this._internals.password=r}}get http2(){return this._internals.http2}set http2(t){wi.boolean(t);this._internals.http2=t}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(t){wi.boolean(t);this._internals.allowGetBody=t}get headers(){return this._internals.headers}set headers(t){wi.plainObject(t);if(this._merging){Object.assign(this._internals.headers,lowercaseKeys(t))}else{this._internals.headers=lowercaseKeys(t)}}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(t){wi.boolean(t);this._internals.methodRewriting=t}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(t){if(t!==undefined&&t!==4&&t!==6){throw new TypeError(`Invalid DNS lookup IP version: ${t}`)}this._internals.dnsLookupIpVersion=t}get parseJson(){return this._internals.parseJson}set parseJson(t){wi.function_(t);this._internals.parseJson=t}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(t){wi.function_(t);this._internals.stringifyJson=t}get retry(){return this._internals.retry}set retry(t){wi.plainObject(t);wi.any([_i.function_,_i.undefined],t.calculateDelay);wi.any([_i.number,_i.undefined],t.maxRetryAfter);wi.any([_i.number,_i.undefined],t.limit);wi.any([_i.array,_i.undefined],t.methods);wi.any([_i.array,_i.undefined],t.statusCodes);wi.any([_i.array,_i.undefined],t.errorCodes);wi.any([_i.number,_i.undefined],t.noise);if(t.noise&&Math.abs(t.noise)>100){throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${t.noise}`)}for(const i in t){if(!(i in this._internals.retry)){throw new Error(`Unexpected retry option: ${i}`)}}if(this._merging){Object.assign(this._internals.retry,t)}else{this._internals.retry={...t}}const{retry:i}=this._internals;i.methods=[...new Set(i.methods.map((t=>t.toUpperCase())))];i.statusCodes=[...new Set(i.statusCodes)];i.errorCodes=[...new Set(i.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(t){wi.any([_i.string,_i.undefined],t);this._internals.localAddress=t}get method(){return this._internals.method}set method(t){wi.string(t);this._internals.method=t.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(t){wi.any([_i.function_,_i.undefined],t);this._internals.createConnection=t}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(t){wi.plainObject(t);wi.any([_i.boolean,_i.undefined],t.shared);wi.any([_i.number,_i.undefined],t.cacheHeuristic);wi.any([_i.number,_i.undefined],t.immutableMinTimeToLive);wi.any([_i.boolean,_i.undefined],t.ignoreCargoCult);for(const i in t){if(!(i in this._internals.cacheOptions)){throw new Error(`Cache option \`${i}\` does not exist`)}}if(this._merging){Object.assign(this._internals.cacheOptions,t)}else{this._internals.cacheOptions={...t}}}get https(){return this._internals.https}set https(t){wi.plainObject(t);wi.any([_i.boolean,_i.undefined],t.rejectUnauthorized);wi.any([_i.function_,_i.undefined],t.checkServerIdentity);wi.any([_i.string,_i.object,_i.array,_i.undefined],t.certificateAuthority);wi.any([_i.string,_i.object,_i.array,_i.undefined],t.key);wi.any([_i.string,_i.object,_i.array,_i.undefined],t.certificate);wi.any([_i.string,_i.undefined],t.passphrase);wi.any([_i.string,_i.buffer,_i.array,_i.undefined],t.pfx);wi.any([_i.array,_i.undefined],t.alpnProtocols);wi.any([_i.string,_i.undefined],t.ciphers);wi.any([_i.string,_i.buffer,_i.undefined],t.dhparam);wi.any([_i.string,_i.undefined],t.signatureAlgorithms);wi.any([_i.string,_i.undefined],t.minVersion);wi.any([_i.string,_i.undefined],t.maxVersion);wi.any([_i.boolean,_i.undefined],t.honorCipherOrder);wi.any([_i.number,_i.undefined],t.tlsSessionLifetime);wi.any([_i.string,_i.undefined],t.ecdhCurve);wi.any([_i.string,_i.buffer,_i.array,_i.undefined],t.certificateRevocationLists);for(const i in t){if(!(i in this._internals.https)){throw new Error(`HTTPS option \`${i}\` does not exist`)}}if(this._merging){Object.assign(this._internals.https,t)}else{this._internals.https={...t}}}get encoding(){return this._internals.encoding}set encoding(t){if(t===null){throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead")}wi.any([_i.string,_i.undefined],t);this._internals.encoding=t}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(t){wi.boolean(t);this._internals.resolveBodyOnly=t}get isStream(){return this._internals.isStream}set isStream(t){wi.boolean(t);this._internals.isStream=t}get responseType(){return this._internals.responseType}set responseType(t){if(t===undefined){this._internals.responseType="text";return}if(t!=="text"&&t!=="buffer"&&t!=="json"){throw new Error(`Invalid \`responseType\` option: ${t}`)}this._internals.responseType=t}get pagination(){return this._internals.pagination}set pagination(t){wi.object(t);if(this._merging){Object.assign(this._internals.pagination,t)}else{this._internals.pagination=t}}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(t){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(t){wi.boolean(t);this._internals.setHost=t}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(t){wi.any([_i.number,_i.undefined],t);this._internals.maxHeaderSize=t}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(t){wi.boolean(t);this._internals.enableUnixSockets=t}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](t,i){return(0,ui.inspect)(this._internals,i)}createNativeRequestOptions(){const t=this._internals;const i=t.url;let r;if(i.protocol==="https:"){r=t.http2?t.agent:t.agent.https}else{r=t.agent.http}const{https:o}=t;let{pfx:a}=o;if(_i.array(a)&&_i.plainObject(a[0])){a=a.map((t=>({buf:t.buffer,passphrase:t.passphrase})))}return{...t.cacheOptions,...this._unixOptions,ALPNProtocols:o.alpnProtocols,ca:o.certificateAuthority,cert:o.certificate,key:o.key,passphrase:o.passphrase,pfx:o.pfx,rejectUnauthorized:o.rejectUnauthorized,checkServerIdentity:o.checkServerIdentity??rr.checkServerIdentity,ciphers:o.ciphers,honorCipherOrder:o.honorCipherOrder,minVersion:o.minVersion,maxVersion:o.maxVersion,sigalgs:o.signatureAlgorithms,sessionTimeout:o.tlsSessionLifetime,dhparam:o.dhparam,ecdhCurve:o.ecdhCurve,crl:o.certificateRevocationLists,lookup:t.dnsLookup??t.dnsCache?.lookup,family:t.dnsLookupIpVersion,agent:r,setHost:t.setHost,method:t.method,maxHeaderSize:t.maxHeaderSize,localAddress:t.localAddress,headers:t.headers,createConnection:t.createConnection,timeout:t.http2?getHttp2TimeoutOption(t):undefined,h2session:t.h2session}}getRequestFunction(){const t=this._internals.url;const{request:i}=this._internals;if(!i&&t){return this.getFallbackRequestFunction()}return i}getFallbackRequestFunction(){const t=this._internals.url;if(!t){return}if(t.protocol==="https:"){if(this._internals.http2){if(gr<15||gr===15&&yr<10){const t=new Error("To use the `http2` option, install Node.js 15.10.0 or above");t.code="EUNSUPPORTED";throw t}return mr.auto}return nr.request}return Si.request}freeze(){const t=this._internals;Object.freeze(t);Object.freeze(t.hooks);Object.freeze(t.hooks.afterResponse);Object.freeze(t.hooks.beforeError);Object.freeze(t.hooks.beforeRedirect);Object.freeze(t.hooks.beforeRequest);Object.freeze(t.hooks.beforeRetry);Object.freeze(t.hooks.init);Object.freeze(t.https);Object.freeze(t.cacheOptions);Object.freeze(t.agent);Object.freeze(t.headers);Object.freeze(t.timeout);Object.freeze(t.retry);Object.freeze(t.retry.errorCodes);Object.freeze(t.retry.methods);Object.freeze(t.retry.statusCodes)}}const isResponseOk=t=>{const{statusCode:i}=t;const r=t.request.options.followRedirect?299:399;return i>=200&&i<=r||i===304};class ParseError extends RequestError{constructor(t,i){const{options:r}=i.request;super(`${t.message} in "${r.url.toString()}"`,t,i.request);this.name="ParseError";this.code="ERR_BODY_PARSE_FAILURE"}}const parseBody=(t,i,r,o)=>{const{rawBody:a}=t;try{if(i==="text"){return a.toString(o)}if(i==="json"){return a.length===0?"":r(a.toString(o))}if(i==="buffer"){return a}}catch(i){throw new ParseError(i,t)}throw new ParseError({message:`Unknown body type '${i}'`,name:"Error"},t)};function isClientRequest(t){return t.writable&&!t.writableEnded}const vr=isClientRequest;function isUnixSocketURL(t){return t.protocol==="unix:"||t.hostname==="unix"}const Er=_i.string(g.versions.brotli);const Sr=new Set(["GET","HEAD"]);const xr=new WeakableMap;const Or=new Set([300,301,302,303,304,307,308]);const Tr=["socket","connect","continue","information","upgrade"];const core_noop=()=>{};class Request extends ci.Duplex{constructor(t,i,r){super({autoDestroy:false,highWaterMark:0});Object.defineProperty(this,"constructor",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_noPipe",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"options",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"response",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"requestUrl",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"redirectUrls",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"retryCount",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_stopRetry",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_downloadedSize",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_uploadedSize",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_stopReading",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_pipedServerResponses",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_request",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_responseSize",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_bodySize",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_unproxyEvents",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_isFromCache",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_cannotHaveBody",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_triggerRead",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_cancelTimeouts",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_removeListeners",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_nativeResponse",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_flushed",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_aborted",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_requestInitialized",{enumerable:true,configurable:true,writable:true,value:void 0});this._downloadedSize=0;this._uploadedSize=0;this._stopReading=false;this._pipedServerResponses=new Set;this._cannotHaveBody=false;this._unproxyEvents=core_noop;this._triggerRead=false;this._cancelTimeouts=core_noop;this._removeListeners=core_noop;this._jobs=[];this._flushed=false;this._requestInitialized=false;this._aborted=false;this.redirectUrls=[];this.retryCount=0;this._stopRetry=core_noop;this.on("pipe",(t=>{if(t.headers){Object.assign(this.options.headers,t.headers)}}));this.on("newListener",(t=>{if(t==="retry"&&this.listenerCount("retry")>0){throw new Error("A retry listener has been attached already.")}}));try{this.options=new Options(t,i,r);if(!this.options.url){if(this.options.prefixUrl===""){throw new TypeError("Missing `url` property")}this.options.url=""}this.requestUrl=this.options.url}catch(t){const{options:i}=t;if(i){this.options=i}this.flush=async()=>{this.flush=async()=>{};this.destroy(t)};return}const{body:o}=this.options;if(_i.nodeStream(o)){o.once("error",(t=>{if(this._flushed){this._beforeError(new UploadError(t,this))}else{this.flush=async()=>{this.flush=async()=>{};this._beforeError(new UploadError(t,this))}}}))}if(this.options.signal){const abort=()=>{this.destroy(new AbortError(this))};if(this.options.signal.aborted){abort()}else{this.options.signal.addEventListener("abort",abort);this._removeListeners=()=>{this.options.signal.removeEventListener("abort",abort)}}}}async flush(){if(this._flushed){return}this._flushed=true;try{await this._finalizeBody();if(this.destroyed){return}await this._makeRequest();if(this.destroyed){this._request?.destroy();return}for(const t of this._jobs){t()}this._jobs.length=0;this._requestInitialized=true}catch(t){this._beforeError(t)}}_beforeError(t){if(this._stopReading){return}const{response:i,options:r}=this;const o=this.retryCount+(t.name==="RetryError"?0:1);this._stopReading=true;if(!(t instanceof RequestError)){t=new RequestError(t.message,t,this)}const a=t;void(async()=>{if(i?.readable&&!i.rawBody&&!this._request?.socket?.destroyed){i.setEncoding(this.readableEncoding);const t=await this._setRawBody(i);if(t){i.body=i.rawBody.toString()}}if(this.listenerCount("retry")!==0){let h;try{let t;if(i&&"retry-after"in i.headers){t=Number(i.headers["retry-after"]);if(Number.isNaN(t)){t=Date.parse(i.headers["retry-after"])-Date.now();if(t<=0){t=1}}else{t*=1e3}}const l=r.retry;h=await l.calculateDelay({attemptCount:o,retryOptions:l,error:a,retryAfter:t,computedValue:ir({attemptCount:o,retryOptions:l,error:a,retryAfter:t,computedValue:l.maxRetryAfter??r.timeout.request??Number.POSITIVE_INFINITY})})}catch(t){void this._error(new RequestError(t.message,t,this));return}if(h){await new Promise((t=>{const i=setTimeout(t,h);this._stopRetry=()=>{clearTimeout(i);t()}}));if(this.destroyed){return}try{for(const t of this.options.hooks.beforeRetry){await t(a,this.retryCount+1)}}catch(i){void this._error(new RequestError(i.message,t,this));return}if(this.destroyed){return}this.destroy();this.emit("retry",this.retryCount+1,t,(t=>{const i=new Request(r.url,t,r);i.retryCount=this.retryCount+1;g.nextTick((()=>{void i.flush()}));return i}));return}}void this._error(a)})()}_read(){this._triggerRead=true;const{response:t}=this;if(t&&!this._stopReading){if(t.readableLength){this._triggerRead=false}let i;while((i=t.read())!==null){this._downloadedSize+=i.length;const t=this.downloadProgress;if(t.percent<1){this.emit("downloadProgress",t)}this.push(i)}}}_write(t,i,r){const write=()=>{this._writeRequest(t,i,r)};if(this._requestInitialized){write()}else{this._jobs.push(write)}}_final(t){const endRequest=()=>{if(!this._request||this._request.destroyed){t();return}this._request.end((i=>{if(this._request._writableState?.errored){return}if(!i){this._bodySize=this._uploadedSize;this.emit("uploadProgress",this.uploadProgress);this._request.emit("upload-complete")}t(i)}))};if(this._requestInitialized){endRequest()}else{this._jobs.push(endRequest)}}_destroy(t,i){this._stopReading=true;this.flush=async()=>{};this._stopRetry();this._cancelTimeouts();this._removeListeners();if(this.options){const{body:t}=this.options;if(_i.nodeStream(t)){t.destroy()}}if(this._request){this._request.destroy()}if(t!==null&&!_i.undefined(t)&&!(t instanceof RequestError)){t=new RequestError(t.message,t,this)}i(t)}pipe(t,i){if(t instanceof Si.ServerResponse){this._pipedServerResponses.add(t)}return super.pipe(t,i)}unpipe(t){if(t instanceof Si.ServerResponse){this._pipedServerResponses.delete(t)}super.unpipe(t);return this}async _finalizeBody(){const{options:t}=this;const{headers:i}=t;const r=!_i.undefined(t.form);const o=!_i.undefined(t.json);const a=!_i.undefined(t.body);const h=Sr.has(t.method)&&!(t.method==="GET"&&t.allowGetBody);this._cannotHaveBody=h;if(r||o||a){if(h){throw new TypeError(`The \`${t.method}\` method cannot be used with a body`)}const o=!_i.string(i["content-type"]);if(a){if(isFormData(t.body)){const r=new FormDataEncoder(t.body);if(o){i["content-type"]=r.headers["Content-Type"]}if("Content-Length"in r.headers){i["content-length"]=r.headers["Content-Length"]}t.body=r.encode()}if(is_form_data_isFormData(t.body)&&o){i["content-type"]=`multipart/form-data; boundary=${t.body.getBoundary()}`}}else if(r){if(o){i["content-type"]="application/x-www-form-urlencoded"}const{form:r}=t;t.form=undefined;t.body=new hi.URLSearchParams(r).toString()}else{if(o){i["content-type"]="application/json"}const{json:r}=t;t.json=undefined;t.body=t.stringifyJson(r)}const l=await getBodySize(t.body,t.headers);if(_i.undefined(i["content-length"])&&_i.undefined(i["transfer-encoding"])&&!h&&!_i.undefined(l)){i["content-length"]=String(l)}}if(t.responseType==="json"&&!("accept"in t.headers)){t.headers.accept="application/json"}this._bodySize=Number(i["content-length"])||undefined}async _onResponseBase(t){if(this.isAborted){return}const{options:i}=this;const{url:r}=i;this._nativeResponse=t;if(i.decompress){t=$i(t)}const o=t.statusCode;const a=t;a.statusMessage=a.statusMessage??Si.STATUS_CODES[o];a.url=i.url.toString();a.requestUrl=this.requestUrl;a.redirectUrls=this.redirectUrls;a.request=this;a.isFromCache=this._nativeResponse.fromCache??false;a.ip=this.ip;a.retryCount=this.retryCount;a.ok=isResponseOk(a);this._isFromCache=a.isFromCache;this._responseSize=Number(t.headers["content-length"])||undefined;this.response=a;t.once("end",(()=>{this._responseSize=this._downloadedSize;this.emit("downloadProgress",this.downloadProgress)}));t.once("error",(i=>{this._aborted=true;t.destroy();this._beforeError(new ReadError(i,this))}));t.once("aborted",(()=>{this._aborted=true;this._beforeError(new ReadError({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}));this.emit("downloadProgress",this.downloadProgress);const h=t.headers["set-cookie"];if(_i.object(i.cookieJar)&&h){let t=h.map((async t=>i.cookieJar.setCookie(t,r.toString())));if(i.ignoreInvalidCookies){t=t.map((async t=>{try{await t}catch{}}))}try{await Promise.all(t)}catch(t){this._beforeError(t);return}}if(this.isAborted){return}if(i.followRedirect&&t.headers.location&&Or.has(o)){t.resume();this._cancelTimeouts();this._unproxyEvents();if(this.redirectUrls.length>=i.maxRedirects){this._beforeError(new MaxRedirectsError(this));return}this._request=undefined;const h=new Options(undefined,undefined,this.options);const l=o===303&&h.method!=="GET"&&h.method!=="HEAD";const c=o!==307&&o!==308;const u=h.methodRewriting&&c;if(l||u){h.method="GET";h.body=undefined;h.json=undefined;h.form=undefined;delete h.headers["content-length"]}try{const i=Ei.Buffer.from(t.headers.location,"binary").toString();const o=new hi.URL(i,r);if(!isUnixSocketURL(r)&&isUnixSocketURL(o)){this._beforeError(new RequestError("Cannot redirect to UNIX socket",{},this));return}if(o.hostname!==r.hostname||o.port!==r.port){if("host"in h.headers){delete h.headers.host}if("cookie"in h.headers){delete h.headers.cookie}if("authorization"in h.headers){delete h.headers.authorization}if(h.username||h.password){h.username="";h.password=""}}else{o.username=h.username;o.password=h.password}this.redirectUrls.push(o);h.prefixUrl="";h.url=o;for(const t of h.hooks.beforeRedirect){await t(h,a)}this.emit("redirect",h,a);this.options=h;await this._makeRequest()}catch(t){this._beforeError(t);return}return}if(i.isStream&&i.throwHttpErrors&&!isResponseOk(a)){this._beforeError(new HTTPError(a));return}t.on("readable",(()=>{if(this._triggerRead){this._read()}}));this.on("resume",(()=>{t.resume()}));this.on("pause",(()=>{t.pause()}));t.once("end",(()=>{this.push(null)}));if(this._noPipe){const i=await this._setRawBody();if(i){this.emit("response",t)}return}this.emit("response",t);for(const r of this._pipedServerResponses){if(r.headersSent){continue}for(const o in t.headers){const a=i.decompress?o!=="content-encoding":true;const h=t.headers[o];if(a){r.setHeader(o,h)}}r.statusCode=o}}async _setRawBody(t=this){if(t.readableEnded){return false}try{const i=await(0,Ci.buffer)(t);if(!this.isAborted){this.response.rawBody=i;return true}}catch{}return false}async _onResponse(t){try{await this._onResponseBase(t)}catch(t){this._beforeError(t)}}_onRequest(t){const{options:i}=this;const{timeout:r,url:o}=i;Oi(t);if(this.options.http2){t.setTimeout(0)}this._cancelTimeouts=timedOut(t,r,o);const a=i.cache?"cacheableResponse":"response";t.once(a,(t=>{void this._onResponse(t)}));t.once("error",(i=>{this._aborted=true;t.destroy();i=i instanceof timed_out_TimeoutError?new TimeoutError(i,this.timings,this):new RequestError(i.message,i,this);this._beforeError(i)}));this._unproxyEvents=proxyEvents(t,this,Tr);this._request=t;this.emit("uploadProgress",this.uploadProgress);this._sendBody();this.emit("request",t)}async _asyncWrite(t){return new Promise(((i,r)=>{super.write(t,(t=>{if(t){r(t);return}i()}))}))}_sendBody(){const{body:t}=this.options;const i=this.redirectUrls.length===0?this:this._request??this;if(_i.nodeStream(t)){t.pipe(i)}else if(_i.generator(t)||_i.asyncGenerator(t)){(async()=>{try{for await(const i of t){await this._asyncWrite(i)}super.end()}catch(t){this._beforeError(t)}})()}else if(!_i.undefined(t)){this._writeRequest(t,undefined,(()=>{}));i.end()}else if(this._cannotHaveBody||this._noPipe){i.end()}}_prepareCache(t){if(!xr.has(t)){const i=new Mi(((t,i)=>{const r=t._request(t,i);if(_i.promise(r)){r.once=(t,i)=>{if(t==="error"){(async()=>{try{await r}catch(t){i(t)}})()}else if(t==="abort"){(async()=>{try{const t=await r;t.once("abort",i)}catch{}})()}else{throw new Error(`Unknown HTTP2 promise event: ${t}`)}return r}}return r}),t);xr.set(t,i.request())}}async _createCacheableRequest(t,i){return new Promise(((r,o)=>{Object.assign(i,urlToOptions(t));let a;const h=xr.get(i.cache)(i,(async t=>{t._readableState.autoDestroy=false;if(a){const fix=()=>{if(t.req){t.complete=t.req.res.complete}};t.prependOnceListener("end",fix);fix();(await a).emit("cacheableResponse",t)}r(t)}));h.once("error",o);h.once("request",(async t=>{a=t;r(a)}))}))}async _makeRequest(){const{options:t}=this;const{headers:i,username:r,password:o}=t;const a=t.cookieJar;for(const t in i){if(_i.undefined(i[t])){delete i[t]}else if(_i.null_(i[t])){throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${t}\` header`)}}if(t.decompress&&_i.undefined(i["accept-encoding"])){i["accept-encoding"]=Er?"gzip, deflate, br":"gzip, deflate"}if(r||o){const t=Ei.Buffer.from(`${r}:${o}`).toString("base64");i.authorization=`Basic ${t}`}if(a){const r=await a.getCookieString(t.url.toString());if(_i.nonEmptyString(r)){i.cookie=r}}t.prefixUrl="";let h;for(const i of t.hooks.beforeRequest){const r=await i(t);if(!_i.undefined(r)){h=()=>r;break}}if(!h){h=t.getRequestFunction()}const l=t.url;this._requestOptions=t.createNativeRequestOptions();if(t.cache){this._requestOptions._request=h;this._requestOptions.cache=t.cache;this._requestOptions.body=t.body;this._prepareCache(t.cache)}const c=t.cache?this._createCacheableRequest:h;try{let i=c(l,this._requestOptions);if(_i.promise(i)){i=await i}if(_i.undefined(i)){i=t.getFallbackRequestFunction()(l,this._requestOptions);if(_i.promise(i)){i=await i}}if(vr(i)){this._onRequest(i)}else if(this.writable){this.once("finish",(()=>{void this._onResponse(i)}));this._sendBody()}else{void this._onResponse(i)}}catch(t){if(t instanceof types_CacheError){throw new CacheError(t,this)}throw t}}async _error(t){try{if(t instanceof HTTPError&&!this.options.throwHttpErrors){}else{for(const i of this.options.hooks.beforeError){t=await i(t)}}}catch(i){t=new RequestError(i.message,i,this)}this.destroy(t)}_writeRequest(t,i,r){if(!this._request||this._request.destroyed){return}this._request.write(t,i,(o=>{if(!o&&!this._request.destroyed){this._uploadedSize+=Ei.Buffer.byteLength(t,i);const r=this.uploadProgress;if(r.percent<1){this.emit("uploadProgress",r)}}r(o)}))}get ip(){return this.socket?.remoteAddress}get isAborted(){return this._aborted}get socket(){return this._request?.socket??undefined}get downloadProgress(){let t;if(this._responseSize){t=this._downloadedSize/this._responseSize}else if(this._responseSize===this._downloadedSize){t=1}else{t=0}return{percent:t,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let t;if(this._bodySize){t=this._uploadedSize/this._bodySize}else if(this._bodySize===this._uploadedSize){t=1}else{t=0}return{percent:t,transferred:this._uploadedSize,total:this._bodySize}}get timings(){return this._request?.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){return this._request?.reusedSocket}}class types_CancelError extends RequestError{constructor(t){super("Promise was canceled",{},t);this.name="CancelError";this.code="ERR_CANCELED"}get isCanceled(){return true}}const Rr=["request","response","redirect","uploadProgress","downloadProgress"];function asPromise(t){let i;let r;let o;const a=new vi.EventEmitter;const h=new PCancelable(((l,c,u)=>{u((()=>{i.destroy()}));u.shouldReject=false;u((()=>{c(new types_CancelError(i))}));const makeRequest=d=>{u((()=>{}));const p=t??new Request(undefined,undefined,o);p.retryCount=d;p._noPipe=true;i=p;p.once("response",(async t=>{const i=(t.headers["content-encoding"]??"").toLowerCase();const o=i==="gzip"||i==="deflate"||i==="br";const{options:a}=p;if(o&&!a.decompress){t.body=t.rawBody}else{try{t.body=parseBody(t,a.responseType,a.parseJson,a.encoding)}catch(i){t.body=t.rawBody.toString();if(isResponseOk(t)){p._beforeError(i);return}}}try{const i=a.hooks.afterResponse;for(const[r,o]of i.entries()){t=await o(t,(async t=>{a.merge(t);a.prefixUrl="";if(t.url){a.url=t.url}a.hooks.afterResponse=a.hooks.afterResponse.slice(0,r);throw new RetryError(p)}));if(!(_i.object(t)&&_i.number(t.statusCode)&&!_i.nullOrUndefined(t.body))){throw new TypeError("The `afterResponse` hook returned an invalid value")}}}catch(t){p._beforeError(t);return}r=t;if(!isResponseOk(t)){p._beforeError(new HTTPError(t));return}p.destroy();l(p.options.resolveBodyOnly?t.body:t)}));const onError=t=>{if(h.isCanceled){return}const{options:i}=p;if(t instanceof HTTPError&&!i.throwHttpErrors){const{response:i}=t;p.destroy();l(p.options.resolveBodyOnly?i.body:i);return}c(t)};p.once("error",onError);const g=p.options?.body;p.once("retry",((i,r)=>{t=undefined;const a=p.options.body;if(g===a&&_i.nodeStream(a)){r.message="Cannot retry with consumed body stream";onError(r);return}o=p.options;makeRequest(i)}));proxyEvents(p,a,Rr);if(_i.undefined(t)){void p.flush()}};makeRequest(0)}));h.on=(t,i)=>{a.on(t,i);return h};h.off=(t,i)=>{a.off(t,i);return h};const shortcut=t=>{const i=(async()=>{await h;const{options:i}=r.request;return parseBody(r,t,i.parseJson,i.encoding)})();Object.defineProperties(i,Object.getOwnPropertyDescriptors(h));return i};h.json=()=>{if(i.options){const{headers:t}=i.options;if(!i.writableFinished&&!("accept"in t)){t.accept="application/json"}}return shortcut("json")};h.buffer=()=>shortcut("buffer");h.text=()=>shortcut("text");return h}const delay=async t=>new Promise((i=>{setTimeout(i,t)}));const isGotInstance=t=>_i.function_(t);const kr=["get","post","put","patch","head","delete"];const create=t=>{t={options:new Options(undefined,undefined,t.options),handlers:[...t.handlers],mutableDefaults:t.mutableDefaults};Object.defineProperty(t,"mutableDefaults",{enumerable:true,configurable:false,writable:false});const got=(i,r,o=t.options)=>{const a=new Request(i,r,o);let h;const lastHandler=t=>{a.options=t;a._noPipe=!t.isStream;void a.flush();if(t.isStream){return a}if(!h){h=asPromise(a)}return h};let l=0;const iterateHandlers=i=>{const r=t.handlers[l++]??lastHandler;const o=r(i,iterateHandlers);if(_i.promise(o)&&!a.options.isStream){if(!h){h=asPromise(a)}if(o!==h){const t=Object.getOwnPropertyDescriptors(h);for(const i in t){if(i in o){delete t[i]}}Object.defineProperties(o,t);o.cancel=h.cancel}}return o};return iterateHandlers(a.options)};got.extend=(...i)=>{const r=new Options(undefined,undefined,t.options);const o=[...t.handlers];let a;for(const t of i){if(isGotInstance(t)){r.merge(t.defaults.options);o.push(...t.defaults.handlers);a=t.defaults.mutableDefaults}else{r.merge(t);if(t.handlers){o.push(...t.handlers)}a=t.mutableDefaults}}return create({options:r,handlers:o,mutableDefaults:Boolean(a)})};const paginateEach=async function*(i,r){let o=new Options(i,r,t.options);o.resolveBodyOnly=false;const{pagination:a}=o;wi.function_(a.transform);wi.function_(a.shouldContinue);wi.function_(a.filter);wi.function_(a.paginate);wi.number(a.countLimit);wi.number(a.requestLimit);wi.number(a.backoff);const h=[];let{countLimit:l}=a;let c=0;while(c<a.requestLimit){if(c!==0){await delay(a.backoff)}const t=await got(undefined,undefined,o);const i=await a.transform(t);const r=[];wi.array(i);for(const t of i){if(a.filter({item:t,currentItems:r,allItems:h})){if(!a.shouldContinue({item:t,currentItems:r,allItems:h})){return}yield t;if(a.stackAllItems){h.push(t)}r.push(t);if(--l<=0){return}}}const u=a.paginate({response:t,currentItems:r,allItems:h});if(u===false){return}if(u===t.request.options){o=t.request.options}else{o.merge(u);wi.any([_i.urlInstance,_i.undefined],u.url);if(u.url!==undefined){o.prefixUrl="";o.url=u.url}}c++}};got.paginate=paginateEach;got.paginate.all=async(t,i)=>{const r=[];for await(const o of paginateEach(t,i)){r.push(o)}return r};got.paginate.each=paginateEach;got.stream=(t,i)=>got(t,{...i,isStream:true});for(const t of kr){got[t]=(i,r)=>got(i,{...r,method:t});got.stream[t]=(i,r)=>got(i,{...r,method:t,isStream:true})}if(!t.mutableDefaults){Object.freeze(t.handlers);t.options.freeze()}Object.defineProperty(got,"defaults",{value:t,writable:false,configurable:false,enumerable:true});return got};const Ar=create;const Cr={options:new Options,handlers:[],mutableDefaults:false};const Pr=Ar(Cr);const Ir=null&&Pr;var Lr=__nccwpck_require__(8808);const Nr=(0,ui.promisify)(ci.Stream.pipeline);const downloadTar=async i=>{const r=(0,t.join)((0,y.tmpdir)(),`next.js-cna-example.temp-${Date.now()}`);await Nr(Pr.stream(i),(0,ri.createWriteStream)(r));return r};const downloadAndExtractRepo=async(t,{username:i,name:r,branch:o,filePath:a})=>{const h=await downloadTar(`https://codeload.github.com/${i}/${r}/tar.gz/${o}`);await Lr.x({file:h,cwd:t,strip:a?a.split("/").length+1:1,filter:t=>t.startsWith(`${r}-${o.replace(/\//g,"-")}${a?`/${a}`:""}`)});await ri.promises.unlink(h)};class DownloadError extends Error{}const createApp=async({appPath:t,packageManager:r})=>{const o={username:"graz-sh",branch:"dev",name:"graz",filePath:"example/starter"};const a=i().resolve(t);if(!await isWriteable(i().dirname(a))){console.error("The application path is not writable, please check folder permissions and try again.");console.error("It is likely you do not have write permissions for this folder.");process.exit(1)}const h=i().basename(a);await makeDir(a);if(!isFolderEmpty(a,h)){process.exit(1)}const l=r==="yarn";const c=!l||await getOnline();const u=process.cwd();console.log(`Creating a cosmos frontend in ${N.green(a)}.`);console.log();process.chdir(a);try{console.log(`Downloading files from repo. This might take a moment.`);console.log();await J()((()=>downloadAndExtractRepo(a,o)),{retries:3})}catch(t){const isErrorLike=t=>typeof t==="object"&&t!==null&&typeof t.message==="string";throw new DownloadError(isErrorLike(t)?t.message:`${t}`)}console.log("Installing packages. This might take a couple of minutes.");console.log();await install(a,null,{packageManager:r,isOnline:c});if(tryGitInit(a)){console.log("Initialized a git repository.");console.log()}let d;if(i().join(u,h)===t){d=h}else{d=t}console.log(`${N.green("Success!")} Created ${h} at ${t}`);console.log("Inside that directory, you can run several commands:");console.log();console.log(N.cyan(`  ${r} ${l?"":"run "}dev`));console.log("    Starts the development server.");console.log();console.log(N.cyan(`  ${r} ${l?"":"run "}build`));console.log("    Builds the app for production.");console.log();console.log(N.cyan(`  ${r} start`));console.log("    Runs the built app in production mode.");console.log();console.log("We suggest that you begin by typing:");console.log();console.log(N.cyan("  cd"),d);console.log(`  ${N.cyan(`${r} ${l?"":"run "}dev`)}`)};const getPkgManager=()=>{try{const t=process.env.npm_config_user_agent;if(t){if(t.startsWith("yarn")){return"yarn"}else if(t.startsWith("pnpm")){return"pnpm"}}try{(0,K.execSync)("yarn --version",{stdio:"ignore"});return"yarn"}catch{(0,K.execSync)("pnpm --version",{stdio:"ignore"});return"pnpm"}}catch{return"npm"}};var Mr=__nccwpck_require__(6492);var Dr=__nccwpck_require__.n(Mr);const validateNpmName=t=>{const i=Dr()(t);if(i.validForNewPackages){return{valid:true}}return{valid:false,problems:[...i.errors||[],...i.warnings||[]]}};const $r=JSON.parse('{"u2":"create-graz-app","i8":"0.0.1"}');let jr="";const Fr=new q($r.u2).version($r.i8).arguments("<project-directory>").usage(`${N.green("<project-directory>")} [options]`).action((t=>{jr=t})).option("--use-npm",`\n\n  Explicitly tell the CLI to bootstrap the app using npm\n`).option("--use-pnpm",`\n\n  Explicitly tell the CLI to bootstrap the app using pnpm\n`).allowUnknownOption();const run=async()=>{if(typeof jr==="string"){jr=jr.trim()}if(!jr){const t=await Z()({type:"text",name:"path",message:"What is your project named?",initial:"my-app",validate:t=>{const r=validateNpmName(i().basename(i().resolve(t)));if(r.valid){return true}return`Invalid project name: ${r.problems[0]}`}});if(typeof t.path==="string"){jr=t.path.trim()}}if(!jr){console.log("\nPlease specify the project directory:\n"+`  ${N.cyan(Fr.name())} ${N.green("<project-directory>")}\n`+"For example:\n"+`  ${N.cyan(Fr.name())} ${N.green("my-next-app")}\n\n`+`Run ${N.cyan(`${Fr.name()} --help`)} to see all options.`);process.exit(1)}const t=i().resolve(jr);const r=i().basename(t);const{valid:o,problems:a}=validateNpmName(r);if(!o){console.error(`Could not create a project called ${N.red(`"${r}"`)} because of npm naming restrictions:`);a.forEach((t=>console.error(`    ${N.red.bold("*")} ${t}`)));process.exit(1)}const h=Fr.opts();let l;if(h.useNpm){l="npm"}else if(h.usePnpm){l="pnpm"}else{l=getPkgManager()}try{await createApp({appPath:t,packageManager:l})}catch(t){console.log(t.message)}};run().catch((t=>{console.log();console.log("Aborting installation.");if(t.command){console.log(`  ${N.cyan(t.command)} has failed.`)}else{console.log(`${N.red("Unexpected error. Please report it as a bug:")}\n`,t)}console.log();process.exit(1)}))})();module.exports=r})();